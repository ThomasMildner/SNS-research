(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function al(t,e){const n=Object.create(null),s=t.split(",");for(let i=0;i<s.length;i++)n[s[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Ue={},ns=[],Dt=()=>{},If=()=>!1,Tf=/^on[^a-z]/,wo=t=>Tf.test(t),cl=t=>t.startsWith("onUpdate:"),Ge=Object.assign,ul=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Pf=Object.prototype.hasOwnProperty,be=(t,e)=>Pf.call(t,e),X=Array.isArray,ss=t=>wi(t)==="[object Map]",ko=t=>wi(t)==="[object Set]",ba=t=>wi(t)==="[object Date]",ae=t=>typeof t=="function",Ke=t=>typeof t=="string",Xs=t=>typeof t=="symbol",De=t=>t!==null&&typeof t=="object",yu=t=>De(t)&&ae(t.then)&&ae(t.catch),Cu=Object.prototype.toString,wi=t=>Cu.call(t),Nf=t=>wi(t).slice(8,-1),bu=t=>wi(t)==="[object Object]",dl=t=>Ke(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ji=al(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Eo=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Rf=/-(\w)/g,Gt=Eo(t=>t.replace(Rf,(e,n)=>n?n.toUpperCase():"")),Af=/\B([A-Z])/g,Cs=Eo(t=>t.replace(Af,"-$1").toLowerCase()),So=Eo(t=>t.charAt(0).toUpperCase()+t.slice(1)),Xo=Eo(t=>t?`on${So(t)}`:""),ei=(t,e)=>!Object.is(t,e),Wi=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Yi=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},$f=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Df=t=>{const e=Ke(t)?Number(t):NaN;return isNaN(e)?t:e};let wa;const wr=()=>wa||(wa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ti(t){if(X(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=Ke(s)?Ff(s):ti(s);if(i)for(const o in i)e[o]=i[o]}return e}else{if(Ke(t))return t;if(De(t))return t}}const Of=/;(?![^(]*\))/g,Mf=/:([^]+)/,Lf=/\/\*[^]*?\*\//g;function Ff(t){const e={};return t.replace(Lf,"").split(Of).forEach(n=>{if(n){const s=n.split(Mf);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Ie(t){let e="";if(Ke(t))e=t;else if(X(t))for(let n=0;n<t.length;n++){const s=Ie(t[n]);s&&(e+=s+" ")}else if(De(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Vf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Bf=al(Vf);function wu(t){return!!t||t===""}function Uf(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=cs(t[s],e[s]);return n}function cs(t,e){if(t===e)return!0;let n=ba(t),s=ba(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=Xs(t),s=Xs(e),n||s)return t===e;if(n=X(t),s=X(e),n||s)return n&&s?Uf(t,e):!1;if(n=De(t),s=De(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const r in t){const l=t.hasOwnProperty(r),a=e.hasOwnProperty(r);if(l&&!a||!l&&a||!cs(t[r],e[r]))return!1}}return String(t)===String(e)}function ku(t,e){return t.findIndex(n=>cs(n,e))}const pe=t=>Ke(t)?t:t==null?"":X(t)||De(t)&&(t.toString===Cu||!ae(t.toString))?JSON.stringify(t,Eu,2):String(t),Eu=(t,e)=>e&&e.__v_isRef?Eu(t,e.value):ss(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i])=>(n[`${s} =>`]=i,n),{})}:ko(e)?{[`Set(${e.size})`]:[...e.values()]}:De(e)&&!X(e)&&!bu(e)?String(e):e;let Ct;class Su{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ct,!e&&Ct&&(this.index=(Ct.scopes||(Ct.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Ct;try{return Ct=this,e()}finally{Ct=n}}}on(){Ct=this}off(){Ct=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function xu(t){return new Su(t)}function Hf(t,e=Ct){e&&e.active&&e.effects.push(t)}function hl(){return Ct}function Iu(t){Ct&&Ct.cleanups.push(t)}const fl=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Tu=t=>(t.w&bn)>0,Pu=t=>(t.n&bn)>0,jf=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=bn},Wf=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const i=e[s];Tu(i)&&!Pu(i)?i.delete(t):e[n++]=i,i.w&=~bn,i.n&=~bn}e.length=n}},Qi=new WeakMap;let Fs=0,bn=1;const kr=30;let Pt;const Fn=Symbol(""),Er=Symbol("");class pl{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Hf(this,s)}run(){if(!this.active)return this.fn();let e=Pt,n=pn;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Pt,Pt=this,pn=!0,bn=1<<++Fs,Fs<=kr?jf(this):ka(this),this.fn()}finally{Fs<=kr&&Wf(this),bn=1<<--Fs,Pt=this.parent,pn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Pt===this?this.deferStop=!0:this.active&&(ka(this),this.onStop&&this.onStop(),this.active=!1)}}function ka(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let pn=!0;const Nu=[];function bs(){Nu.push(pn),pn=!1}function ws(){const t=Nu.pop();pn=t===void 0?!0:t}function gt(t,e,n){if(pn&&Pt){let s=Qi.get(t);s||Qi.set(t,s=new Map);let i=s.get(n);i||s.set(n,i=fl()),Ru(i)}}function Ru(t,e){let n=!1;Fs<=kr?Pu(t)||(t.n|=bn,n=!Tu(t)):n=!t.has(Pt),n&&(t.add(Pt),Pt.deps.push(t))}function Xt(t,e,n,s,i,o){const r=Qi.get(t);if(!r)return;let l=[];if(e==="clear")l=[...r.values()];else if(n==="length"&&X(t)){const a=Number(s);r.forEach((c,u)=>{(u==="length"||u>=a)&&l.push(c)})}else switch(n!==void 0&&l.push(r.get(n)),e){case"add":X(t)?dl(n)&&l.push(r.get("length")):(l.push(r.get(Fn)),ss(t)&&l.push(r.get(Er)));break;case"delete":X(t)||(l.push(r.get(Fn)),ss(t)&&l.push(r.get(Er)));break;case"set":ss(t)&&l.push(r.get(Fn));break}if(l.length===1)l[0]&&Sr(l[0]);else{const a=[];for(const c of l)c&&a.push(...c);Sr(fl(a))}}function Sr(t,e){const n=X(t)?t:[...t];for(const s of n)s.computed&&Ea(s);for(const s of n)s.computed||Ea(s)}function Ea(t,e){(t!==Pt||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function qf(t,e){var n;return(n=Qi.get(t))==null?void 0:n.get(e)}const zf=al("__proto__,__v_isRef,__isVue"),Au=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Xs)),Gf=_l(),Kf=_l(!1,!0),Yf=_l(!0),Sa=Qf();function Qf(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=ve(this);for(let o=0,r=this.length;o<r;o++)gt(s,"get",o+"");const i=s[e](...n);return i===-1||i===!1?s[e](...n.map(ve)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){bs();const s=ve(this)[e].apply(this,n);return ws(),s}}),t}function Zf(t){const e=ve(this);return gt(e,"has",t),e.hasOwnProperty(t)}function _l(t=!1,e=!1){return function(s,i,o){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&o===(t?e?fp:Lu:e?Mu:Ou).get(s))return s;const r=X(s);if(!t){if(r&&be(Sa,i))return Reflect.get(Sa,i,o);if(i==="hasOwnProperty")return Zf}const l=Reflect.get(s,i,o);return(Xs(i)?Au.has(i):zf(i))||(t||gt(s,"get",i),e)?l:qe(l)?r&&dl(i)?l:l.value:De(l)?t?Fu(l):Wn(l):l}}const Jf=$u(),Xf=$u(!0);function $u(t=!1){return function(n,s,i,o){let r=n[s];if(us(r)&&qe(r)&&!qe(i))return!1;if(!t&&(!Zi(i)&&!us(i)&&(r=ve(r),i=ve(i)),!X(n)&&qe(r)&&!qe(i)))return r.value=i,!0;const l=X(n)&&dl(s)?Number(s)<n.length:be(n,s),a=Reflect.set(n,s,i,o);return n===ve(o)&&(l?ei(i,r)&&Xt(n,"set",s,i):Xt(n,"add",s,i)),a}}function ep(t,e){const n=be(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&Xt(t,"delete",e,void 0),s}function tp(t,e){const n=Reflect.has(t,e);return(!Xs(e)||!Au.has(e))&&gt(t,"has",e),n}function np(t){return gt(t,"iterate",X(t)?"length":Fn),Reflect.ownKeys(t)}const Du={get:Gf,set:Jf,deleteProperty:ep,has:tp,ownKeys:np},sp={get:Yf,set(t,e){return!0},deleteProperty(t,e){return!0}},ip=Ge({},Du,{get:Kf,set:Xf}),ml=t=>t,xo=t=>Reflect.getPrototypeOf(t);function Di(t,e,n=!1,s=!1){t=t.__v_raw;const i=ve(t),o=ve(e);n||(e!==o&&gt(i,"get",e),gt(i,"get",o));const{has:r}=xo(i),l=s?ml:n?yl:ni;if(r.call(i,e))return l(t.get(e));if(r.call(i,o))return l(t.get(o));t!==i&&t.get(e)}function Oi(t,e=!1){const n=this.__v_raw,s=ve(n),i=ve(t);return e||(t!==i&&gt(s,"has",t),gt(s,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Mi(t,e=!1){return t=t.__v_raw,!e&&gt(ve(t),"iterate",Fn),Reflect.get(t,"size",t)}function xa(t){t=ve(t);const e=ve(this);return xo(e).has.call(e,t)||(e.add(t),Xt(e,"add",t,t)),this}function Ia(t,e){e=ve(e);const n=ve(this),{has:s,get:i}=xo(n);let o=s.call(n,t);o||(t=ve(t),o=s.call(n,t));const r=i.call(n,t);return n.set(t,e),o?ei(e,r)&&Xt(n,"set",t,e):Xt(n,"add",t,e),this}function Ta(t){const e=ve(this),{has:n,get:s}=xo(e);let i=n.call(e,t);i||(t=ve(t),i=n.call(e,t)),s&&s.call(e,t);const o=e.delete(t);return i&&Xt(e,"delete",t,void 0),o}function Pa(){const t=ve(this),e=t.size!==0,n=t.clear();return e&&Xt(t,"clear",void 0,void 0),n}function Li(t,e){return function(s,i){const o=this,r=o.__v_raw,l=ve(r),a=e?ml:t?yl:ni;return!t&&gt(l,"iterate",Fn),r.forEach((c,u)=>s.call(i,a(c),a(u),o))}}function Fi(t,e,n){return function(...s){const i=this.__v_raw,o=ve(i),r=ss(o),l=t==="entries"||t===Symbol.iterator&&r,a=t==="keys"&&r,c=i[t](...s),u=n?ml:e?yl:ni;return!e&&gt(o,"iterate",a?Er:Fn),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:l?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function rn(t){return function(...e){return t==="delete"?!1:this}}function op(){const t={get(o){return Di(this,o)},get size(){return Mi(this)},has:Oi,add:xa,set:Ia,delete:Ta,clear:Pa,forEach:Li(!1,!1)},e={get(o){return Di(this,o,!1,!0)},get size(){return Mi(this)},has:Oi,add:xa,set:Ia,delete:Ta,clear:Pa,forEach:Li(!1,!0)},n={get(o){return Di(this,o,!0)},get size(){return Mi(this,!0)},has(o){return Oi.call(this,o,!0)},add:rn("add"),set:rn("set"),delete:rn("delete"),clear:rn("clear"),forEach:Li(!0,!1)},s={get(o){return Di(this,o,!0,!0)},get size(){return Mi(this,!0)},has(o){return Oi.call(this,o,!0)},add:rn("add"),set:rn("set"),delete:rn("delete"),clear:rn("clear"),forEach:Li(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Fi(o,!1,!1),n[o]=Fi(o,!0,!1),e[o]=Fi(o,!1,!0),s[o]=Fi(o,!0,!0)}),[t,n,e,s]}const[rp,lp,ap,cp]=op();function gl(t,e){const n=e?t?cp:ap:t?lp:rp;return(s,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(be(n,i)&&i in s?n:s,i,o)}const up={get:gl(!1,!1)},dp={get:gl(!1,!0)},hp={get:gl(!0,!1)},Ou=new WeakMap,Mu=new WeakMap,Lu=new WeakMap,fp=new WeakMap;function pp(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _p(t){return t.__v_skip||!Object.isExtensible(t)?0:pp(Nf(t))}function Wn(t){return us(t)?t:vl(t,!1,Du,up,Ou)}function mp(t){return vl(t,!1,ip,dp,Mu)}function Fu(t){return vl(t,!0,sp,hp,Lu)}function vl(t,e,n,s,i){if(!De(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const r=_p(t);if(r===0)return t;const l=new Proxy(t,r===2?s:n);return i.set(t,l),l}function _n(t){return us(t)?_n(t.__v_raw):!!(t&&t.__v_isReactive)}function us(t){return!!(t&&t.__v_isReadonly)}function Zi(t){return!!(t&&t.__v_isShallow)}function Vu(t){return _n(t)||us(t)}function ve(t){const e=t&&t.__v_raw;return e?ve(e):t}function Io(t){return Yi(t,"__v_skip",!0),t}const ni=t=>De(t)?Wn(t):t,yl=t=>De(t)?Fu(t):t;function Bu(t){pn&&Pt&&(t=ve(t),Ru(t.dep||(t.dep=fl())))}function Uu(t,e){t=ve(t);const n=t.dep;n&&Sr(n)}function qe(t){return!!(t&&t.__v_isRef===!0)}function j(t){return Hu(t,!1)}function gp(t){return Hu(t,!0)}function Hu(t,e){return qe(t)?t:new vp(t,e)}class vp{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:ve(e),this._value=n?e:ni(e)}get value(){return Bu(this),this._value}set value(e){const n=this.__v_isShallow||Zi(e)||us(e);e=n?e:ve(e),ei(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:ni(e),Uu(this))}}function g(t){return qe(t)?t.value:t}const yp={get:(t,e,n)=>g(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return qe(i)&&!qe(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function ju(t){return _n(t)?t:new Proxy(t,yp)}function Cp(t){const e=X(t)?new Array(t.length):{};for(const n in t)e[n]=wp(t,n);return e}class bp{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return qf(ve(this._object),this._key)}}function wp(t,e,n){const s=t[e];return qe(s)?s:new bp(t,e,n)}class kp{constructor(e,n,s,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new pl(e,()=>{this._dirty||(this._dirty=!0,Uu(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const e=ve(this);return Bu(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Ep(t,e,n=!1){let s,i;const o=ae(t);return o?(s=t,i=Dt):(s=t.get,i=t.set),new kp(s,i,o||!i,n)}function mn(t,e,n,s){let i;try{i=s?t(...s):t()}catch(o){To(o,e,n)}return i}function St(t,e,n,s){if(ae(t)){const o=mn(t,e,n,s);return o&&yu(o)&&o.catch(r=>{To(r,e,n)}),o}const i=[];for(let o=0;o<t.length;o++)i.push(St(t[o],e,n,s));return i}function To(t,e,n,s=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const r=e.proxy,l=n;for(;o;){const c=o.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,r,l)===!1)return}o=o.parent}const a=e.appContext.config.errorHandler;if(a){mn(a,null,10,[t,r,l]);return}}Sp(t,n,i,s)}function Sp(t,e,n,s=!0){console.error(t)}let si=!1,xr=!1;const ct=[];let qt=0;const is=[];let Qt=null,An=0;const Wu=Promise.resolve();let Cl=null;function bl(t){const e=Cl||Wu;return t?e.then(this?t.bind(this):t):e}function xp(t){let e=qt+1,n=ct.length;for(;e<n;){const s=e+n>>>1;ii(ct[s])<t?e=s+1:n=s}return e}function wl(t){(!ct.length||!ct.includes(t,si&&t.allowRecurse?qt+1:qt))&&(t.id==null?ct.push(t):ct.splice(xp(t.id),0,t),qu())}function qu(){!si&&!xr&&(xr=!0,Cl=Wu.then(Gu))}function Ip(t){const e=ct.indexOf(t);e>qt&&ct.splice(e,1)}function Tp(t){X(t)?is.push(...t):(!Qt||!Qt.includes(t,t.allowRecurse?An+1:An))&&is.push(t),qu()}function Na(t,e=si?qt+1:0){for(;e<ct.length;e++){const n=ct[e];n&&n.pre&&(ct.splice(e,1),e--,n())}}function zu(t){if(is.length){const e=[...new Set(is)];if(is.length=0,Qt){Qt.push(...e);return}for(Qt=e,Qt.sort((n,s)=>ii(n)-ii(s)),An=0;An<Qt.length;An++)Qt[An]();Qt=null,An=0}}const ii=t=>t.id==null?1/0:t.id,Pp=(t,e)=>{const n=ii(t)-ii(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Gu(t){xr=!1,si=!0,ct.sort(Pp);const e=Dt;try{for(qt=0;qt<ct.length;qt++){const n=ct[qt];n&&n.active!==!1&&mn(n,null,14)}}finally{qt=0,ct.length=0,zu(),si=!1,Cl=null,(ct.length||is.length)&&Gu()}}function Np(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Ue;let i=n;const o=e.startsWith("update:"),r=o&&e.slice(7);if(r&&r in s){const u=`${r==="modelValue"?"model":r}Modifiers`,{number:d,trim:f}=s[u]||Ue;f&&(i=n.map(p=>Ke(p)?p.trim():p)),d&&(i=n.map($f))}let l,a=s[l=Xo(e)]||s[l=Xo(Gt(e))];!a&&o&&(a=s[l=Xo(Cs(e))]),a&&St(a,t,6,i);const c=s[l+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,St(c,t,6,i)}}function Ku(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const o=t.emits;let r={},l=!1;if(!ae(t)){const a=c=>{const u=Ku(c,e,!0);u&&(l=!0,Ge(r,u))};!n&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!o&&!l?(De(t)&&s.set(t,null),null):(X(o)?o.forEach(a=>r[a]=null):Ge(r,o),De(t)&&s.set(t,r),r)}function Po(t,e){return!t||!wo(e)?!1:(e=e.slice(2).replace(/Once$/,""),be(t,e[0].toLowerCase()+e.slice(1))||be(t,Cs(e))||be(t,e))}let tt=null,No=null;function Ji(t){const e=tt;return tt=t,No=t&&t.type.__scopeId||null,e}function st(t){No=t}function it(){No=null}function A(t,e=tt,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&Ha(-1);const o=Ji(e);let r;try{r=t(...i)}finally{Ji(o),s._d&&Ha(1)}return r};return s._n=!0,s._c=!0,s._d=!0,s}function er(t){const{type:e,vnode:n,proxy:s,withProxy:i,props:o,propsOptions:[r],slots:l,attrs:a,emit:c,render:u,renderCache:d,data:f,setupState:p,ctx:v,inheritAttrs:w}=t;let P,N;const L=Ji(t);try{if(n.shapeFlag&4){const k=i||s;P=Wt(u.call(k,k,d,o,p,f,v)),N=a}else{const k=e;P=Wt(k.length>1?k(o,{attrs:a,slots:l,emit:c}):k(o,null)),N=e.props?a:Rp(a)}}catch(k){js.length=0,To(k,t,1),P=b(xt)}let C=P;if(N&&w!==!1){const k=Object.keys(N),{shapeFlag:D}=C;k.length&&D&7&&(r&&k.some(cl)&&(N=Ap(N,r)),C=wn(C,N))}return n.dirs&&(C=wn(C),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&(C.transition=n.transition),P=C,Ji(L),P}const Rp=t=>{let e;for(const n in t)(n==="class"||n==="style"||wo(n))&&((e||(e={}))[n]=t[n]);return e},Ap=(t,e)=>{const n={};for(const s in t)(!cl(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function $p(t,e,n){const{props:s,children:i,component:o}=t,{props:r,children:l,patchFlag:a}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return s?Ra(s,r,c):!!r;if(a&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(r[f]!==s[f]&&!Po(c,f))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:s===r?!1:s?r?Ra(s,r,c):!0:!!r;return!1}function Ra(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const o=s[i];if(e[o]!==t[o]&&!Po(n,o))return!0}return!1}function Dp({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Op=t=>t.__isSuspense;function Mp(t,e){e&&e.pendingBranch?X(t)?e.effects.push(...t):e.effects.push(t):Tp(t)}function Lp(t,e){return kl(t,null,e)}const Vi={};function nt(t,e,n){return kl(t,e,n)}function kl(t,e,{immediate:n,deep:s,flush:i,onTrack:o,onTrigger:r}=Ue){var l;const a=hl()===((l=Ye)==null?void 0:l.scope)?Ye:null;let c,u=!1,d=!1;if(qe(t)?(c=()=>t.value,u=Zi(t)):_n(t)?(c=()=>t,s=!0):X(t)?(d=!0,u=t.some(k=>_n(k)||Zi(k)),c=()=>t.map(k=>{if(qe(k))return k.value;if(_n(k))return On(k);if(ae(k))return mn(k,a,2)})):ae(t)?e?c=()=>mn(t,a,2):c=()=>{if(!(a&&a.isUnmounted))return f&&f(),St(t,a,3,[p])}:c=Dt,e&&s){const k=c;c=()=>On(k())}let f,p=k=>{f=L.onStop=()=>{mn(k,a,4)}},v;if(li)if(p=Dt,e?n&&St(e,a,3,[c(),d?[]:void 0,p]):c(),i==="sync"){const k=D_();v=k.__watcherHandles||(k.__watcherHandles=[])}else return Dt;let w=d?new Array(t.length).fill(Vi):Vi;const P=()=>{if(L.active)if(e){const k=L.run();(s||u||(d?k.some((D,G)=>ei(D,w[G])):ei(k,w)))&&(f&&f(),St(e,a,3,[k,w===Vi?void 0:d&&w[0]===Vi?[]:w,p]),w=k)}else L.run()};P.allowRecurse=!!e;let N;i==="sync"?N=P:i==="post"?N=()=>ft(P,a&&a.suspense):(P.pre=!0,a&&(P.id=a.uid),N=()=>wl(P));const L=new pl(c,N);e?n?P():w=L.run():i==="post"?ft(L.run.bind(L),a&&a.suspense):L.run();const C=()=>{L.stop(),a&&a.scope&&ul(a.scope.effects,L)};return v&&v.push(C),C}function Fp(t,e,n){const s=this.proxy,i=Ke(t)?t.includes(".")?Yu(s,t):()=>s[t]:t.bind(s,s);let o;ae(e)?o=e:(o=e.handler,n=e);const r=Ye;hs(this);const l=kl(i,o.bind(s),n);return r?hs(r):Vn(),l}function Yu(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function On(t,e){if(!De(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),qe(t))On(t.value,e);else if(X(t))for(let n=0;n<t.length;n++)On(t[n],e);else if(ko(t)||ss(t))t.forEach(n=>{On(n,e)});else if(bu(t))for(const n in t)On(t[n],e);return t}function ki(t,e){const n=tt;if(n===null)return t;const s=Oo(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[r,l,a,c=Ue]=e[o];r&&(ae(r)&&(r={mounted:r,updated:r}),r.deep&&On(l),i.push({dir:r,instance:s,value:l,oldValue:void 0,arg:a,modifiers:c}))}return t}function xn(t,e,n,s){const i=t.dirs,o=e&&e.dirs;for(let r=0;r<i.length;r++){const l=i[r];o&&(l.oldValue=o[r].value);let a=l.dir[s];a&&(bs(),St(a,n,8,[t.el,l,t,e]),ws())}}function Vp(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ot(()=>{t.isMounted=!0}),ed(()=>{t.isUnmounting=!0}),t}const Et=[Function,Array],Qu={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Et,onEnter:Et,onAfterEnter:Et,onEnterCancelled:Et,onBeforeLeave:Et,onLeave:Et,onAfterLeave:Et,onLeaveCancelled:Et,onBeforeAppear:Et,onAppear:Et,onAfterAppear:Et,onAppearCancelled:Et},Bp={name:"BaseTransition",props:Qu,setup(t,{slots:e}){const n=x_(),s=Vp();let i;return()=>{const o=e.default&&Ju(e.default(),!0);if(!o||!o.length)return;let r=o[0];if(o.length>1){for(const w of o)if(w.type!==xt){r=w;break}}const l=ve(t),{mode:a}=l;if(s.isLeaving)return tr(r);const c=Aa(r);if(!c)return tr(r);const u=Ir(c,l,s,n);Tr(c,u);const d=n.subTree,f=d&&Aa(d);let p=!1;const{getTransitionKey:v}=c.type;if(v){const w=v();i===void 0?i=w:w!==i&&(i=w,p=!0)}if(f&&f.type!==xt&&(!$n(c,f)||p)){const w=Ir(f,l,s,n);if(Tr(f,w),a==="out-in")return s.isLeaving=!0,w.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&n.update()},tr(r);a==="in-out"&&c.type!==xt&&(w.delayLeave=(P,N,L)=>{const C=Zu(s,f);C[String(f.key)]=f,P._leaveCb=()=>{N(),P._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=L})}return r}}},Up=Bp;function Zu(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function Ir(t,e,n,s){const{appear:i,mode:o,persisted:r=!1,onBeforeEnter:l,onEnter:a,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:f,onAfterLeave:p,onLeaveCancelled:v,onBeforeAppear:w,onAppear:P,onAfterAppear:N,onAppearCancelled:L}=e,C=String(t.key),k=Zu(n,t),D=(H,K)=>{H&&St(H,s,9,K)},G=(H,K)=>{const ne=K[1];D(H,K),X(H)?H.every(Ce=>Ce.length<=1)&&ne():H.length<=1&&ne()},de={mode:o,persisted:r,beforeEnter(H){let K=l;if(!n.isMounted)if(i)K=w||l;else return;H._leaveCb&&H._leaveCb(!0);const ne=k[C];ne&&$n(t,ne)&&ne.el._leaveCb&&ne.el._leaveCb(),D(K,[H])},enter(H){let K=a,ne=c,Ce=u;if(!n.isMounted)if(i)K=P||a,ne=N||c,Ce=L||u;else return;let q=!1;const ge=H._enterCb=Z=>{q||(q=!0,Z?D(Ce,[H]):D(ne,[H]),de.delayedLeave&&de.delayedLeave(),H._enterCb=void 0)};K?G(K,[H,ge]):ge()},leave(H,K){const ne=String(t.key);if(H._enterCb&&H._enterCb(!0),n.isUnmounting)return K();D(d,[H]);let Ce=!1;const q=H._leaveCb=ge=>{Ce||(Ce=!0,K(),ge?D(v,[H]):D(p,[H]),H._leaveCb=void 0,k[ne]===t&&delete k[ne])};k[ne]=t,f?G(f,[H,q]):q()},clone(H){return Ir(H,e,n,s)}};return de}function tr(t){if(Ro(t))return t=wn(t),t.children=null,t}function Aa(t){return Ro(t)?t.children?t.children[0]:void 0:t}function Tr(t,e){t.shapeFlag&6&&t.component?Tr(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ju(t,e=!1,n){let s=[],i=0;for(let o=0;o<t.length;o++){let r=t[o];const l=n==null?r.key:String(n)+String(r.key!=null?r.key:o);r.type===Re?(r.patchFlag&128&&i++,s=s.concat(Ju(r.children,e,l))):(e||r.type!==xt)&&s.push(l!=null?wn(r,{key:l}):r)}if(i>1)for(let o=0;o<s.length;o++)s[o].patchFlag=-2;return s}function re(t,e){return ae(t)?(()=>Ge({name:t.name},e,{setup:t}))():t}const Us=t=>!!t.type.__asyncLoader,Ro=t=>t.type.__isKeepAlive;function Hp(t,e){Xu(t,"a",e)}function jp(t,e){Xu(t,"da",e)}function Xu(t,e,n=Ye){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Ao(e,s,n),n){let i=n.parent;for(;i&&i.parent;)Ro(i.parent.vnode)&&Wp(s,e,n,i),i=i.parent}}function Wp(t,e,n,s){const i=Ao(e,t,s,!0);El(()=>{ul(s[e],i)},n)}function Ao(t,e,n=Ye,s=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...r)=>{if(n.isUnmounted)return;bs(),hs(n);const l=St(e,n,t,r);return Vn(),ws(),l});return s?i.unshift(o):i.push(o),o}}const nn=t=>(e,n=Ye)=>(!li||t==="sp")&&Ao(t,(...s)=>e(...s),n),qp=nn("bm"),ot=nn("m"),zp=nn("bu"),Gp=nn("u"),ed=nn("bum"),El=nn("um"),Kp=nn("sp"),Yp=nn("rtg"),Qp=nn("rtc");function Zp(t,e=Ye){Ao("ec",t,e)}const td="components";function Jp(t,e){return e_(td,t,!0,e)||t}const Xp=Symbol.for("v-ndc");function e_(t,e,n=!0,s=!1){const i=tt||Ye;if(i){const o=i.type;if(t===td){const l=R_(o,!1);if(l&&(l===e||l===Gt(e)||l===So(Gt(e))))return o}const r=$a(i[t]||o[t],e)||$a(i.appContext[t],e);return!r&&s?o:r}}function $a(t,e){return t&&(t[e]||t[Gt(e)]||t[So(Gt(e))])}function Ot(t,e,n,s){let i;const o=n&&n[s];if(X(t)||Ke(t)){i=new Array(t.length);for(let r=0,l=t.length;r<l;r++)i[r]=e(t[r],r,void 0,o&&o[r])}else if(typeof t=="number"){i=new Array(t);for(let r=0;r<t;r++)i[r]=e(r+1,r,void 0,o&&o[r])}else if(De(t))if(t[Symbol.iterator])i=Array.from(t,(r,l)=>e(r,l,void 0,o&&o[l]));else{const r=Object.keys(t);i=new Array(r.length);for(let l=0,a=r.length;l<a;l++){const c=r[l];i[l]=e(t[c],c,l,o&&o[l])}}else i=[];return n&&(n[s]=i),i}function ds(t,e,n={},s,i){if(tt.isCE||tt.parent&&Us(tt.parent)&&tt.parent.isCE)return e!=="default"&&(n.name=e),b("slot",n,s&&s());let o=t[e];o&&o._c&&(o._d=!1),E();const r=o&&nd(o(n)),l=bt(Re,{key:n.key||r&&r.key||`_${e}`},r||(s?s():[]),r&&t._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function nd(t){return t.some(e=>eo(e)?!(e.type===xt||e.type===Re&&!nd(e.children)):!0)?t:null}const Pr=t=>t?fd(t)?Oo(t)||t.proxy:Pr(t.parent):null,Hs=Ge(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Pr(t.parent),$root:t=>Pr(t.root),$emit:t=>t.emit,$options:t=>Sl(t),$forceUpdate:t=>t.f||(t.f=()=>wl(t.update)),$nextTick:t=>t.n||(t.n=bl.bind(t.proxy)),$watch:t=>Fp.bind(t)}),nr=(t,e)=>t!==Ue&&!t.__isScriptSetup&&be(t,e),t_={get({_:t},e){const{ctx:n,setupState:s,data:i,props:o,accessCache:r,type:l,appContext:a}=t;let c;if(e[0]!=="$"){const p=r[e];if(p!==void 0)switch(p){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(nr(s,e))return r[e]=1,s[e];if(i!==Ue&&be(i,e))return r[e]=2,i[e];if((c=t.propsOptions[0])&&be(c,e))return r[e]=3,o[e];if(n!==Ue&&be(n,e))return r[e]=4,n[e];Nr&&(r[e]=0)}}const u=Hs[e];let d,f;if(u)return e==="$attrs"&&gt(t,"get",e),u(t);if((d=l.__cssModules)&&(d=d[e]))return d;if(n!==Ue&&be(n,e))return r[e]=4,n[e];if(f=a.config.globalProperties,be(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:o}=t;return nr(i,e)?(i[e]=n,!0):s!==Ue&&be(s,e)?(s[e]=n,!0):be(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:o}},r){let l;return!!n[r]||t!==Ue&&be(t,r)||nr(e,r)||(l=o[0])&&be(l,r)||be(s,r)||be(Hs,r)||be(i.config.globalProperties,r)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:be(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Da(t){return X(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Nr=!0;function n_(t){const e=Sl(t),n=t.proxy,s=t.ctx;Nr=!1,e.beforeCreate&&Oa(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:r,watch:l,provide:a,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:p,updated:v,activated:w,deactivated:P,beforeDestroy:N,beforeUnmount:L,destroyed:C,unmounted:k,render:D,renderTracked:G,renderTriggered:de,errorCaptured:H,serverPrefetch:K,expose:ne,inheritAttrs:Ce,components:q,directives:ge,filters:Z}=e;if(c&&s_(c,s,null),r)for(const he in r){const ke=r[he];ae(ke)&&(s[he]=ke.bind(n))}if(i){const he=i.call(n,n);De(he)&&(t.data=Wn(he))}if(Nr=!0,o)for(const he in o){const ke=o[he],Ve=ae(ke)?ke.bind(n,n):ae(ke.get)?ke.get.bind(n,n):Dt,Ut=!ae(ke)&&ae(ke.set)?ke.set.bind(n):Dt,kt=je({get:Ve,set:Ut});Object.defineProperty(s,he,{enumerable:!0,configurable:!0,get:()=>kt.value,set:ht=>kt.value=ht})}if(l)for(const he in l)sd(l[he],s,n,he);if(a){const he=ae(a)?a.call(n):a;Reflect.ownKeys(he).forEach(ke=>{qi(ke,he[ke])})}u&&Oa(u,t,"c");function le(he,ke){X(ke)?ke.forEach(Ve=>he(Ve.bind(n))):ke&&he(ke.bind(n))}if(le(qp,d),le(ot,f),le(zp,p),le(Gp,v),le(Hp,w),le(jp,P),le(Zp,H),le(Qp,G),le(Yp,de),le(ed,L),le(El,k),le(Kp,K),X(ne))if(ne.length){const he=t.exposed||(t.exposed={});ne.forEach(ke=>{Object.defineProperty(he,ke,{get:()=>n[ke],set:Ve=>n[ke]=Ve})})}else t.exposed||(t.exposed={});D&&t.render===Dt&&(t.render=D),Ce!=null&&(t.inheritAttrs=Ce),q&&(t.components=q),ge&&(t.directives=ge)}function s_(t,e,n=Dt){X(t)&&(t=Rr(t));for(const s in t){const i=t[s];let o;De(i)?"default"in i?o=Mt(i.from||s,i.default,!0):o=Mt(i.from||s):o=Mt(i),qe(o)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):e[s]=o}}function Oa(t,e,n){St(X(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function sd(t,e,n,s){const i=s.includes(".")?Yu(n,s):()=>n[s];if(Ke(t)){const o=e[t];ae(o)&&nt(i,o)}else if(ae(t))nt(i,t.bind(n));else if(De(t))if(X(t))t.forEach(o=>sd(o,e,n,s));else{const o=ae(t.handler)?t.handler.bind(n):e[t.handler];ae(o)&&nt(i,o,t)}}function Sl(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:r}}=t.appContext,l=o.get(e);let a;return l?a=l:!i.length&&!n&&!s?a=e:(a={},i.length&&i.forEach(c=>Xi(a,c,r,!0)),Xi(a,e,r)),De(e)&&o.set(e,a),a}function Xi(t,e,n,s=!1){const{mixins:i,extends:o}=e;o&&Xi(t,o,n,!0),i&&i.forEach(r=>Xi(t,r,n,!0));for(const r in e)if(!(s&&r==="expose")){const l=i_[r]||n&&n[r];t[r]=l?l(t[r],e[r]):e[r]}return t}const i_={data:Ma,props:La,emits:La,methods:Vs,computed:Vs,beforeCreate:ut,created:ut,beforeMount:ut,mounted:ut,beforeUpdate:ut,updated:ut,beforeDestroy:ut,beforeUnmount:ut,destroyed:ut,unmounted:ut,activated:ut,deactivated:ut,errorCaptured:ut,serverPrefetch:ut,components:Vs,directives:Vs,watch:r_,provide:Ma,inject:o_};function Ma(t,e){return e?t?function(){return Ge(ae(t)?t.call(this,this):t,ae(e)?e.call(this,this):e)}:e:t}function o_(t,e){return Vs(Rr(t),Rr(e))}function Rr(t){if(X(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ut(t,e){return t?[...new Set([].concat(t,e))]:e}function Vs(t,e){return t?Ge(Object.create(null),t,e):e}function La(t,e){return t?X(t)&&X(e)?[...new Set([...t,...e])]:Ge(Object.create(null),Da(t),Da(e??{})):e}function r_(t,e){if(!t)return e;if(!e)return t;const n=Ge(Object.create(null),t);for(const s in e)n[s]=ut(t[s],e[s]);return n}function id(){return{app:null,config:{isNativeTag:If,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let l_=0;function a_(t,e){return function(s,i=null){ae(s)||(s=Ge({},s)),i!=null&&!De(i)&&(i=null);const o=id(),r=new Set;let l=!1;const a=o.app={_uid:l_++,_component:s,_props:i,_container:null,_context:o,_instance:null,version:O_,get config(){return o.config},set config(c){},use(c,...u){return r.has(c)||(c&&ae(c.install)?(r.add(c),c.install(a,...u)):ae(c)&&(r.add(c),c(a,...u))),a},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),a},component(c,u){return u?(o.components[c]=u,a):o.components[c]},directive(c,u){return u?(o.directives[c]=u,a):o.directives[c]},mount(c,u,d){if(!l){const f=b(s,i);return f.appContext=o,u&&e?e(f,c):t(f,c,d),l=!0,a._container=c,c.__vue_app__=a,Oo(f.component)||f.component.proxy}},unmount(){l&&(t(null,a._container),delete a._container.__vue_app__)},provide(c,u){return o.provides[c]=u,a},runWithContext(c){oi=a;try{return c()}finally{oi=null}}};return a}}let oi=null;function qi(t,e){if(Ye){let n=Ye.provides;const s=Ye.parent&&Ye.parent.provides;s===n&&(n=Ye.provides=Object.create(s)),n[t]=e}}function Mt(t,e,n=!1){const s=Ye||tt;if(s||oi){const i=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:oi._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&ae(e)?e.call(s&&s.proxy):e}}function c_(){return!!(Ye||tt||oi)}function u_(t,e,n,s=!1){const i={},o={};Yi(o,Do,1),t.propsDefaults=Object.create(null),od(t,e,i,o);for(const r in t.propsOptions[0])r in i||(i[r]=void 0);n?t.props=s?i:mp(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function d_(t,e,n,s){const{props:i,attrs:o,vnode:{patchFlag:r}}=t,l=ve(i),[a]=t.propsOptions;let c=!1;if((s||r>0)&&!(r&16)){if(r&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(Po(t.emitsOptions,f))continue;const p=e[f];if(a)if(be(o,f))p!==o[f]&&(o[f]=p,c=!0);else{const v=Gt(f);i[v]=Ar(a,l,v,p,t,!1)}else p!==o[f]&&(o[f]=p,c=!0)}}}else{od(t,e,i,o)&&(c=!0);let u;for(const d in l)(!e||!be(e,d)&&((u=Cs(d))===d||!be(e,u)))&&(a?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=Ar(a,l,d,void 0,t,!0)):delete i[d]);if(o!==l)for(const d in o)(!e||!be(e,d))&&(delete o[d],c=!0)}c&&Xt(t,"set","$attrs")}function od(t,e,n,s){const[i,o]=t.propsOptions;let r=!1,l;if(e)for(let a in e){if(ji(a))continue;const c=e[a];let u;i&&be(i,u=Gt(a))?!o||!o.includes(u)?n[u]=c:(l||(l={}))[u]=c:Po(t.emitsOptions,a)||(!(a in s)||c!==s[a])&&(s[a]=c,r=!0)}if(o){const a=ve(n),c=l||Ue;for(let u=0;u<o.length;u++){const d=o[u];n[d]=Ar(i,a,d,c[d],t,!be(c,d))}}return r}function Ar(t,e,n,s,i,o){const r=t[n];if(r!=null){const l=be(r,"default");if(l&&s===void 0){const a=r.default;if(r.type!==Function&&!r.skipFactory&&ae(a)){const{propsDefaults:c}=i;n in c?s=c[n]:(hs(i),s=c[n]=a.call(null,e),Vn())}else s=a}r[0]&&(o&&!l?s=!1:r[1]&&(s===""||s===Cs(n))&&(s=!0))}return s}function rd(t,e,n=!1){const s=e.propsCache,i=s.get(t);if(i)return i;const o=t.props,r={},l=[];let a=!1;if(!ae(t)){const u=d=>{a=!0;const[f,p]=rd(d,e,!0);Ge(r,f),p&&l.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!o&&!a)return De(t)&&s.set(t,ns),ns;if(X(o))for(let u=0;u<o.length;u++){const d=Gt(o[u]);Fa(d)&&(r[d]=Ue)}else if(o)for(const u in o){const d=Gt(u);if(Fa(d)){const f=o[u],p=r[d]=X(f)||ae(f)?{type:f}:Ge({},f);if(p){const v=Ua(Boolean,p.type),w=Ua(String,p.type);p[0]=v>-1,p[1]=w<0||v<w,(v>-1||be(p,"default"))&&l.push(d)}}}const c=[r,l];return De(t)&&s.set(t,c),c}function Fa(t){return t[0]!=="$"}function Va(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Ba(t,e){return Va(t)===Va(e)}function Ua(t,e){return X(e)?e.findIndex(n=>Ba(n,t)):ae(e)&&Ba(e,t)?0:-1}const ld=t=>t[0]==="_"||t==="$stable",xl=t=>X(t)?t.map(Wt):[Wt(t)],h_=(t,e,n)=>{if(e._n)return e;const s=A((...i)=>xl(e(...i)),n);return s._c=!1,s},ad=(t,e,n)=>{const s=t._ctx;for(const i in t){if(ld(i))continue;const o=t[i];if(ae(o))e[i]=h_(i,o,s);else if(o!=null){const r=xl(o);e[i]=()=>r}}},cd=(t,e)=>{const n=xl(e);t.slots.default=()=>n},f_=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=ve(e),Yi(e,"_",n)):ad(e,t.slots={})}else t.slots={},e&&cd(t,e);Yi(t.slots,Do,1)},p_=(t,e,n)=>{const{vnode:s,slots:i}=t;let o=!0,r=Ue;if(s.shapeFlag&32){const l=e._;l?n&&l===1?o=!1:(Ge(i,e),!n&&l===1&&delete i._):(o=!e.$stable,ad(e,i)),r=e}else e&&(cd(t,e),r={default:1});if(o)for(const l in i)!ld(l)&&!(l in r)&&delete i[l]};function $r(t,e,n,s,i=!1){if(X(t)){t.forEach((f,p)=>$r(f,e&&(X(e)?e[p]:e),n,s,i));return}if(Us(s)&&!i)return;const o=s.shapeFlag&4?Oo(s.component)||s.component.proxy:s.el,r=i?null:o,{i:l,r:a}=t,c=e&&e.r,u=l.refs===Ue?l.refs={}:l.refs,d=l.setupState;if(c!=null&&c!==a&&(Ke(c)?(u[c]=null,be(d,c)&&(d[c]=null)):qe(c)&&(c.value=null)),ae(a))mn(a,l,12,[r,u]);else{const f=Ke(a),p=qe(a);if(f||p){const v=()=>{if(t.f){const w=f?be(d,a)?d[a]:u[a]:a.value;i?X(w)&&ul(w,o):X(w)?w.includes(o)||w.push(o):f?(u[a]=[o],be(d,a)&&(d[a]=u[a])):(a.value=[o],t.k&&(u[t.k]=a.value))}else f?(u[a]=r,be(d,a)&&(d[a]=r)):p&&(a.value=r,t.k&&(u[t.k]=r))};r?(v.id=-1,ft(v,n)):v()}}}const ft=Mp;function __(t){return m_(t)}function m_(t,e){const n=wr();n.__VUE__=!0;const{insert:s,remove:i,patchProp:o,createElement:r,createText:l,createComment:a,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:p=Dt,insertStaticContent:v}=t,w=(_,m,y,I=null,R=null,O=null,W=!1,F=null,B=!!m.dynamicChildren)=>{if(_===m)return;_&&!$n(_,m)&&(I=T(_),ht(_,R,O,!0),_=null),m.patchFlag===-2&&(B=!1,m.dynamicChildren=null);const{type:M,ref:ee,shapeFlag:Y}=m;switch(M){case $o:P(_,m,y,I);break;case xt:N(_,m,y,I);break;case zi:_==null&&L(m,y,I,W);break;case Re:q(_,m,y,I,R,O,W,F,B);break;default:Y&1?D(_,m,y,I,R,O,W,F,B):Y&6?ge(_,m,y,I,R,O,W,F,B):(Y&64||Y&128)&&M.process(_,m,y,I,R,O,W,F,B,U)}ee!=null&&R&&$r(ee,_&&_.ref,O,m||_,!m)},P=(_,m,y,I)=>{if(_==null)s(m.el=l(m.children),y,I);else{const R=m.el=_.el;m.children!==_.children&&c(R,m.children)}},N=(_,m,y,I)=>{_==null?s(m.el=a(m.children||""),y,I):m.el=_.el},L=(_,m,y,I)=>{[_.el,_.anchor]=v(_.children,m,y,I,_.el,_.anchor)},C=({el:_,anchor:m},y,I)=>{let R;for(;_&&_!==m;)R=f(_),s(_,y,I),_=R;s(m,y,I)},k=({el:_,anchor:m})=>{let y;for(;_&&_!==m;)y=f(_),i(_),_=y;i(m)},D=(_,m,y,I,R,O,W,F,B)=>{W=W||m.type==="svg",_==null?G(m,y,I,R,O,W,F,B):K(_,m,R,O,W,F,B)},G=(_,m,y,I,R,O,W,F)=>{let B,M;const{type:ee,props:Y,shapeFlag:te,transition:oe,dirs:_e}=_;if(B=_.el=r(_.type,O,Y&&Y.is,Y),te&8?u(B,_.children):te&16&&H(_.children,B,null,I,R,O&&ee!=="foreignObject",W,F),_e&&xn(_,null,I,"created"),de(B,_,_.scopeId,W,I),Y){for(const Ae in Y)Ae!=="value"&&!ji(Ae)&&o(B,Ae,null,Y[Ae],O,_.children,I,R,lt);"value"in Y&&o(B,"value",null,Y.value),(M=Y.onVnodeBeforeMount)&&jt(M,I,_)}_e&&xn(_,null,I,"beforeMount");const Me=(!R||R&&!R.pendingBranch)&&oe&&!oe.persisted;Me&&oe.beforeEnter(B),s(B,m,y),((M=Y&&Y.onVnodeMounted)||Me||_e)&&ft(()=>{M&&jt(M,I,_),Me&&oe.enter(B),_e&&xn(_,null,I,"mounted")},R)},de=(_,m,y,I,R)=>{if(y&&p(_,y),I)for(let O=0;O<I.length;O++)p(_,I[O]);if(R){let O=R.subTree;if(m===O){const W=R.vnode;de(_,W,W.scopeId,W.slotScopeIds,R.parent)}}},H=(_,m,y,I,R,O,W,F,B=0)=>{for(let M=B;M<_.length;M++){const ee=_[M]=F?dn(_[M]):Wt(_[M]);w(null,ee,m,y,I,R,O,W,F)}},K=(_,m,y,I,R,O,W)=>{const F=m.el=_.el;let{patchFlag:B,dynamicChildren:M,dirs:ee}=m;B|=_.patchFlag&16;const Y=_.props||Ue,te=m.props||Ue;let oe;y&&In(y,!1),(oe=te.onVnodeBeforeUpdate)&&jt(oe,y,m,_),ee&&xn(m,_,y,"beforeUpdate"),y&&In(y,!0);const _e=R&&m.type!=="foreignObject";if(M?ne(_.dynamicChildren,M,F,y,I,_e,O):W||ke(_,m,F,null,y,I,_e,O,!1),B>0){if(B&16)Ce(F,m,Y,te,y,I,R);else if(B&2&&Y.class!==te.class&&o(F,"class",null,te.class,R),B&4&&o(F,"style",Y.style,te.style,R),B&8){const Me=m.dynamicProps;for(let Ae=0;Ae<Me.length;Ae++){const ze=Me[Ae],Tt=Y[ze],Kn=te[ze];(Kn!==Tt||ze==="value")&&o(F,ze,Tt,Kn,R,_.children,y,I,lt)}}B&1&&_.children!==m.children&&u(F,m.children)}else!W&&M==null&&Ce(F,m,Y,te,y,I,R);((oe=te.onVnodeUpdated)||ee)&&ft(()=>{oe&&jt(oe,y,m,_),ee&&xn(m,_,y,"updated")},I)},ne=(_,m,y,I,R,O,W)=>{for(let F=0;F<m.length;F++){const B=_[F],M=m[F],ee=B.el&&(B.type===Re||!$n(B,M)||B.shapeFlag&70)?d(B.el):y;w(B,M,ee,null,I,R,O,W,!0)}},Ce=(_,m,y,I,R,O,W)=>{if(y!==I){if(y!==Ue)for(const F in y)!ji(F)&&!(F in I)&&o(_,F,y[F],null,W,m.children,R,O,lt);for(const F in I){if(ji(F))continue;const B=I[F],M=y[F];B!==M&&F!=="value"&&o(_,F,M,B,W,m.children,R,O,lt)}"value"in I&&o(_,"value",y.value,I.value)}},q=(_,m,y,I,R,O,W,F,B)=>{const M=m.el=_?_.el:l(""),ee=m.anchor=_?_.anchor:l("");let{patchFlag:Y,dynamicChildren:te,slotScopeIds:oe}=m;oe&&(F=F?F.concat(oe):oe),_==null?(s(M,y,I),s(ee,y,I),H(m.children,y,ee,R,O,W,F,B)):Y>0&&Y&64&&te&&_.dynamicChildren?(ne(_.dynamicChildren,te,y,R,O,W,F),(m.key!=null||R&&m===R.subTree)&&ud(_,m,!0)):ke(_,m,y,ee,R,O,W,F,B)},ge=(_,m,y,I,R,O,W,F,B)=>{m.slotScopeIds=F,_==null?m.shapeFlag&512?R.ctx.activate(m,y,I,W,B):Z(m,y,I,R,O,W,B):Te(_,m,B)},Z=(_,m,y,I,R,O,W)=>{const F=_.component=S_(_,I,R);if(Ro(_)&&(F.ctx.renderer=U),I_(F),F.asyncDep){if(R&&R.registerDep(F,le),!_.el){const B=F.subTree=b(xt);N(null,B,m,y)}return}le(F,_,m,y,R,O,W)},Te=(_,m,y)=>{const I=m.component=_.component;if($p(_,m,y))if(I.asyncDep&&!I.asyncResolved){he(I,m,y);return}else I.next=m,Ip(I.update),I.update();else m.el=_.el,I.vnode=m},le=(_,m,y,I,R,O,W)=>{const F=()=>{if(_.isMounted){let{next:ee,bu:Y,u:te,parent:oe,vnode:_e}=_,Me=ee,Ae;In(_,!1),ee?(ee.el=_e.el,he(_,ee,W)):ee=_e,Y&&Wi(Y),(Ae=ee.props&&ee.props.onVnodeBeforeUpdate)&&jt(Ae,oe,ee,_e),In(_,!0);const ze=er(_),Tt=_.subTree;_.subTree=ze,w(Tt,ze,d(Tt.el),T(Tt),_,R,O),ee.el=ze.el,Me===null&&Dp(_,ze.el),te&&ft(te,R),(Ae=ee.props&&ee.props.onVnodeUpdated)&&ft(()=>jt(Ae,oe,ee,_e),R)}else{let ee;const{el:Y,props:te}=m,{bm:oe,m:_e,parent:Me}=_,Ae=Us(m);if(In(_,!1),oe&&Wi(oe),!Ae&&(ee=te&&te.onVnodeBeforeMount)&&jt(ee,Me,m),In(_,!0),Y&&xe){const ze=()=>{_.subTree=er(_),xe(Y,_.subTree,_,R,null)};Ae?m.type.__asyncLoader().then(()=>!_.isUnmounted&&ze()):ze()}else{const ze=_.subTree=er(_);w(null,ze,y,I,_,R,O),m.el=ze.el}if(_e&&ft(_e,R),!Ae&&(ee=te&&te.onVnodeMounted)){const ze=m;ft(()=>jt(ee,Me,ze),R)}(m.shapeFlag&256||Me&&Us(Me.vnode)&&Me.vnode.shapeFlag&256)&&_.a&&ft(_.a,R),_.isMounted=!0,m=y=I=null}},B=_.effect=new pl(F,()=>wl(M),_.scope),M=_.update=()=>B.run();M.id=_.uid,In(_,!0),M()},he=(_,m,y)=>{m.component=_;const I=_.vnode.props;_.vnode=m,_.next=null,d_(_,m.props,I,y),p_(_,m.children,y),bs(),Na(),ws()},ke=(_,m,y,I,R,O,W,F,B=!1)=>{const M=_&&_.children,ee=_?_.shapeFlag:0,Y=m.children,{patchFlag:te,shapeFlag:oe}=m;if(te>0){if(te&128){Ut(M,Y,y,I,R,O,W,F,B);return}else if(te&256){Ve(M,Y,y,I,R,O,W,F,B);return}}oe&8?(ee&16&&lt(M,R,O),Y!==M&&u(y,Y)):ee&16?oe&16?Ut(M,Y,y,I,R,O,W,F,B):lt(M,R,O,!0):(ee&8&&u(y,""),oe&16&&H(Y,y,I,R,O,W,F,B))},Ve=(_,m,y,I,R,O,W,F,B)=>{_=_||ns,m=m||ns;const M=_.length,ee=m.length,Y=Math.min(M,ee);let te;for(te=0;te<Y;te++){const oe=m[te]=B?dn(m[te]):Wt(m[te]);w(_[te],oe,y,null,R,O,W,F,B)}M>ee?lt(_,R,O,!0,!1,Y):H(m,y,I,R,O,W,F,B,Y)},Ut=(_,m,y,I,R,O,W,F,B)=>{let M=0;const ee=m.length;let Y=_.length-1,te=ee-1;for(;M<=Y&&M<=te;){const oe=_[M],_e=m[M]=B?dn(m[M]):Wt(m[M]);if($n(oe,_e))w(oe,_e,y,null,R,O,W,F,B);else break;M++}for(;M<=Y&&M<=te;){const oe=_[Y],_e=m[te]=B?dn(m[te]):Wt(m[te]);if($n(oe,_e))w(oe,_e,y,null,R,O,W,F,B);else break;Y--,te--}if(M>Y){if(M<=te){const oe=te+1,_e=oe<ee?m[oe].el:I;for(;M<=te;)w(null,m[M]=B?dn(m[M]):Wt(m[M]),y,_e,R,O,W,F,B),M++}}else if(M>te)for(;M<=Y;)ht(_[M],R,O,!0),M++;else{const oe=M,_e=M,Me=new Map;for(M=_e;M<=te;M++){const yt=m[M]=B?dn(m[M]):Wt(m[M]);yt.key!=null&&Me.set(yt.key,M)}let Ae,ze=0;const Tt=te-_e+1;let Kn=!1,va=0;const Ns=new Array(Tt);for(M=0;M<Tt;M++)Ns[M]=0;for(M=oe;M<=Y;M++){const yt=_[M];if(ze>=Tt){ht(yt,R,O,!0);continue}let Ht;if(yt.key!=null)Ht=Me.get(yt.key);else for(Ae=_e;Ae<=te;Ae++)if(Ns[Ae-_e]===0&&$n(yt,m[Ae])){Ht=Ae;break}Ht===void 0?ht(yt,R,O,!0):(Ns[Ht-_e]=M+1,Ht>=va?va=Ht:Kn=!0,w(yt,m[Ht],y,null,R,O,W,F,B),ze++)}const ya=Kn?g_(Ns):ns;for(Ae=ya.length-1,M=Tt-1;M>=0;M--){const yt=_e+M,Ht=m[yt],Ca=yt+1<ee?m[yt+1].el:I;Ns[M]===0?w(null,Ht,y,Ca,R,O,W,F,B):Kn&&(Ae<0||M!==ya[Ae]?kt(Ht,y,Ca,2):Ae--)}}},kt=(_,m,y,I,R=null)=>{const{el:O,type:W,transition:F,children:B,shapeFlag:M}=_;if(M&6){kt(_.component.subTree,m,y,I);return}if(M&128){_.suspense.move(m,y,I);return}if(M&64){W.move(_,m,y,U);return}if(W===Re){s(O,m,y);for(let Y=0;Y<B.length;Y++)kt(B[Y],m,y,I);s(_.anchor,m,y);return}if(W===zi){C(_,m,y);return}if(I!==2&&M&1&&F)if(I===0)F.beforeEnter(O),s(O,m,y),ft(()=>F.enter(O),R);else{const{leave:Y,delayLeave:te,afterLeave:oe}=F,_e=()=>s(O,m,y),Me=()=>{Y(O,()=>{_e(),oe&&oe()})};te?te(O,_e,Me):Me()}else s(O,m,y)},ht=(_,m,y,I=!1,R=!1)=>{const{type:O,props:W,ref:F,children:B,dynamicChildren:M,shapeFlag:ee,patchFlag:Y,dirs:te}=_;if(F!=null&&$r(F,null,y,_,!0),ee&256){m.ctx.deactivate(_);return}const oe=ee&1&&te,_e=!Us(_);let Me;if(_e&&(Me=W&&W.onVnodeBeforeUnmount)&&jt(Me,m,_),ee&6)$i(_.component,y,I);else{if(ee&128){_.suspense.unmount(y,I);return}oe&&xn(_,null,m,"beforeUnmount"),ee&64?_.type.remove(_,m,y,R,U,I):M&&(O!==Re||Y>0&&Y&64)?lt(M,m,y,!1,!0):(O===Re&&Y&384||!R&&ee&16)&&lt(B,m,y),I&&zn(_)}(_e&&(Me=W&&W.onVnodeUnmounted)||oe)&&ft(()=>{Me&&jt(Me,m,_),oe&&xn(_,null,m,"unmounted")},y)},zn=_=>{const{type:m,el:y,anchor:I,transition:R}=_;if(m===Re){Gn(y,I);return}if(m===zi){k(_);return}const O=()=>{i(y),R&&!R.persisted&&R.afterLeave&&R.afterLeave()};if(_.shapeFlag&1&&R&&!R.persisted){const{leave:W,delayLeave:F}=R,B=()=>W(y,O);F?F(_.el,O,B):B()}else O()},Gn=(_,m)=>{let y;for(;_!==m;)y=f(_),i(_),_=y;i(m)},$i=(_,m,y)=>{const{bum:I,scope:R,update:O,subTree:W,um:F}=_;I&&Wi(I),R.stop(),O&&(O.active=!1,ht(W,_,m,y)),F&&ft(F,m),ft(()=>{_.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},lt=(_,m,y,I=!1,R=!1,O=0)=>{for(let W=O;W<_.length;W++)ht(_[W],m,y,I,R)},T=_=>_.shapeFlag&6?T(_.component.subTree):_.shapeFlag&128?_.suspense.next():f(_.anchor||_.el),z=(_,m,y)=>{_==null?m._vnode&&ht(m._vnode,null,null,!0):w(m._vnode||null,_,m,null,null,null,y),Na(),zu(),m._vnode=_},U={p:w,um:ht,m:kt,r:zn,mt:Z,mc:H,pc:ke,pbc:ne,n:T,o:t};let J,xe;return e&&([J,xe]=e(U)),{render:z,hydrate:J,createApp:a_(z,J)}}function In({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function ud(t,e,n=!1){const s=t.children,i=e.children;if(X(s)&&X(i))for(let o=0;o<s.length;o++){const r=s[o];let l=i[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[o]=dn(i[o]),l.el=r.el),n||ud(r,l)),l.type===$o&&(l.el=r.el)}}function g_(t){const e=t.slice(),n=[0];let s,i,o,r,l;const a=t.length;for(s=0;s<a;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(o=0,r=n.length-1;o<r;)l=o+r>>1,t[n[l]]<c?o=l+1:r=l;c<t[n[o]]&&(o>0&&(e[s]=n[o-1]),n[o]=s)}}for(o=n.length,r=n[o-1];o-- >0;)n[o]=r,r=e[r];return n}const v_=t=>t.__isTeleport,Re=Symbol.for("v-fgt"),$o=Symbol.for("v-txt"),xt=Symbol.for("v-cmt"),zi=Symbol.for("v-stc"),js=[];let Rt=null;function E(t=!1){js.push(Rt=t?null:[])}function y_(){js.pop(),Rt=js[js.length-1]||null}let ri=1;function Ha(t){ri+=t}function dd(t){return t.dynamicChildren=ri>0?Rt||ns:null,y_(),ri>0&&Rt&&Rt.push(t),t}function x(t,e,n,s,i,o){return dd(h(t,e,n,s,i,o,!0))}function bt(t,e,n,s,i){return dd(b(t,e,n,s,i,!0))}function eo(t){return t?t.__v_isVNode===!0:!1}function $n(t,e){return t.type===e.type&&t.key===e.key}const Do="__vInternal",hd=({key:t})=>t??null,Gi=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ke(t)||qe(t)||ae(t)?{i:tt,r:t,k:e,f:!!n}:t:null);function h(t,e=null,n=null,s=0,i=null,o=t===Re?0:1,r=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&hd(e),ref:e&&Gi(e),scopeId:No,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:tt};return l?(Il(a,n),o&128&&t.normalize(a)):n&&(a.shapeFlag|=Ke(n)?8:16),ri>0&&!r&&Rt&&(a.patchFlag>0||o&6)&&a.patchFlag!==32&&Rt.push(a),a}const b=C_;function C_(t,e=null,n=null,s=0,i=null,o=!1){if((!t||t===Xp)&&(t=xt),eo(t)){const l=wn(t,e,!0);return n&&Il(l,n),ri>0&&!o&&Rt&&(l.shapeFlag&6?Rt[Rt.indexOf(t)]=l:Rt.push(l)),l.patchFlag|=-2,l}if(A_(t)&&(t=t.__vccOpts),e){e=b_(e);let{class:l,style:a}=e;l&&!Ke(l)&&(e.class=Ie(l)),De(a)&&(Vu(a)&&!X(a)&&(a=Ge({},a)),e.style=ti(a))}const r=Ke(t)?1:Op(t)?128:v_(t)?64:De(t)?4:ae(t)?2:0;return h(t,e,n,s,i,r,o,!0)}function b_(t){return t?Vu(t)||Do in t?Ge({},t):t:null}function wn(t,e,n=!1){const{props:s,ref:i,patchFlag:o,children:r}=t,l=e?w_(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&hd(l),ref:e&&e.ref?n&&i?X(i)?i.concat(Gi(e)):[i,Gi(e)]:Gi(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:r,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Re?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&wn(t.ssContent),ssFallback:t.ssFallback&&wn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function $(t=" ",e=0){return b($o,null,t,e)}function ks(t,e){const n=b(zi,null,t);return n.staticCount=e,n}function Ee(t="",e=!1){return e?(E(),bt(xt,null,t)):b(xt,null,t)}function Wt(t){return t==null||typeof t=="boolean"?b(xt):X(t)?b(Re,null,t.slice()):typeof t=="object"?dn(t):b($o,null,String(t))}function dn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:wn(t)}function Il(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(X(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),Il(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Do in e)?e._ctx=tt:i===3&&tt&&(tt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ae(e)?(e={default:e,_ctx:tt},n=32):(e=String(e),s&64?(n=16,e=[$(e)]):n=8);t.children=e,t.shapeFlag|=n}function w_(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Ie([e.class,s.class]));else if(i==="style")e.style=ti([e.style,s.style]);else if(wo(i)){const o=e[i],r=s[i];r&&o!==r&&!(X(o)&&o.includes(r))&&(e[i]=o?[].concat(o,r):r)}else i!==""&&(e[i]=s[i])}return e}function jt(t,e,n,s=null){St(t,e,7,[n,s])}const k_=id();let E_=0;function S_(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||k_,o={uid:E_++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Su(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:rd(s,i),emitsOptions:Ku(s,i),emit:null,emitted:null,propsDefaults:Ue,inheritAttrs:s.inheritAttrs,ctx:Ue,data:Ue,props:Ue,attrs:Ue,slots:Ue,refs:Ue,setupState:Ue,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=Np.bind(null,o),t.ce&&t.ce(o),o}let Ye=null;const x_=()=>Ye||tt;let Tl,Yn,ja="__VUE_INSTANCE_SETTERS__";(Yn=wr()[ja])||(Yn=wr()[ja]=[]),Yn.push(t=>Ye=t),Tl=t=>{Yn.length>1?Yn.forEach(e=>e(t)):Yn[0](t)};const hs=t=>{Tl(t),t.scope.on()},Vn=()=>{Ye&&Ye.scope.off(),Tl(null)};function fd(t){return t.vnode.shapeFlag&4}let li=!1;function I_(t,e=!1){li=e;const{props:n,children:s}=t.vnode,i=fd(t);u_(t,n,i,e),f_(t,s);const o=i?T_(t,e):void 0;return li=!1,o}function T_(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Io(new Proxy(t.ctx,t_));const{setup:s}=n;if(s){const i=t.setupContext=s.length>1?N_(t):null;hs(t),bs();const o=mn(s,t,0,[t.props,i]);if(ws(),Vn(),yu(o)){if(o.then(Vn,Vn),e)return o.then(r=>{Wa(t,r,e)}).catch(r=>{To(r,t,0)});t.asyncDep=o}else Wa(t,o,e)}else pd(t,e)}function Wa(t,e,n){ae(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:De(e)&&(t.setupState=ju(e)),pd(t,n)}let qa;function pd(t,e,n){const s=t.type;if(!t.render){if(!e&&qa&&!s.render){const i=s.template||Sl(t).template;if(i){const{isCustomElement:o,compilerOptions:r}=t.appContext.config,{delimiters:l,compilerOptions:a}=s,c=Ge(Ge({isCustomElement:o,delimiters:l},r),a);s.render=qa(i,c)}}t.render=s.render||Dt}hs(t),bs(),n_(t),ws(),Vn()}function P_(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return gt(t,"get","$attrs"),e[n]}}))}function N_(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return P_(t)},slots:t.slots,emit:t.emit,expose:e}}function Oo(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(ju(Io(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Hs)return Hs[n](t)},has(e,n){return n in e||n in Hs}}))}function R_(t,e=!0){return ae(t)?t.displayName||t.name:t.name||e&&t.__name}function A_(t){return ae(t)&&"__vccOpts"in t}const je=(t,e)=>Ep(t,e,li);function Pl(t,e,n){const s=arguments.length;return s===2?De(e)&&!X(e)?eo(e)?b(t,null,[e]):b(t,e):b(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&eo(n)&&(n=[n]),b(t,e,n))}const $_=Symbol.for("v-scx"),D_=()=>Mt($_),O_="3.3.4",M_="http://www.w3.org/2000/svg",Dn=typeof document<"u"?document:null,za=Dn&&Dn.createElement("template"),L_={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e?Dn.createElementNS(M_,t):Dn.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>Dn.createTextNode(t),createComment:t=>Dn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Dn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,o){const r=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{za.innerHTML=s?`<svg>${t}</svg>`:t;const l=za.content;if(s){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}e.insertBefore(l,n)}return[r?r.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function F_(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function V_(t,e,n){const s=t.style,i=Ke(n);if(n&&!i){if(e&&!Ke(e))for(const o in e)n[o]==null&&Dr(s,o,"");for(const o in n)Dr(s,o,n[o])}else{const o=s.display;i?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=o)}}const Ga=/\s*!important$/;function Dr(t,e,n){if(X(n))n.forEach(s=>Dr(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=B_(t,e);Ga.test(n)?t.setProperty(Cs(s),n.replace(Ga,""),"important"):t[s]=n}}const Ka=["Webkit","Moz","ms"],sr={};function B_(t,e){const n=sr[e];if(n)return n;let s=Gt(e);if(s!=="filter"&&s in t)return sr[e]=s;s=So(s);for(let i=0;i<Ka.length;i++){const o=Ka[i]+s;if(o in t)return sr[e]=o}return e}const Ya="http://www.w3.org/1999/xlink";function U_(t,e,n,s,i){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Ya,e.slice(6,e.length)):t.setAttributeNS(Ya,e,n);else{const o=Bf(e);n==null||o&&!wu(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function H_(t,e,n,s,i,o,r){if(e==="innerHTML"||e==="textContent"){s&&r(s,i,o),t[e]=n??"";return}const l=t.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){t._value=n;const c=l==="OPTION"?t.getAttribute("value"):t.value,u=n??"";c!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=wu(n):n==null&&c==="string"?(n="",a=!0):c==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}function Nl(t,e,n,s){t.addEventListener(e,n,s)}function j_(t,e,n,s){t.removeEventListener(e,n,s)}function W_(t,e,n,s,i=null){const o=t._vei||(t._vei={}),r=o[e];if(s&&r)r.value=s;else{const[l,a]=q_(e);if(s){const c=o[e]=K_(s,i);Nl(t,l,c,a)}else r&&(j_(t,l,r,a),o[e]=void 0)}}const Qa=/(?:Once|Passive|Capture)$/;function q_(t){let e;if(Qa.test(t)){e={};let s;for(;s=t.match(Qa);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Cs(t.slice(2)),e]}let ir=0;const z_=Promise.resolve(),G_=()=>ir||(z_.then(()=>ir=0),ir=Date.now());function K_(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;St(Y_(s,n.value),e,5,[s])};return n.value=t,n.attached=G_(),n}function Y_(t,e){if(X(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const Za=/^on[a-z]/,Q_=(t,e,n,s,i=!1,o,r,l,a)=>{e==="class"?F_(t,s,i):e==="style"?V_(t,n,s):wo(e)?cl(e)||W_(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Z_(t,e,s,i))?H_(t,e,s,o,r,l,a):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),U_(t,e,s,i))};function Z_(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&Za.test(e)&&ae(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Za.test(e)&&Ke(n)?!1:e in t}const ln="transition",Rs="animation",Es=(t,{slots:e})=>Pl(Up,J_(t),e);Es.displayName="Transition";const _d={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Es.props=Ge({},Qu,_d);const Tn=(t,e=[])=>{X(t)?t.forEach(n=>n(...e)):t&&t(...e)},Ja=t=>t?X(t)?t.some(e=>e.length>1):t.length>1:!1;function J_(t){const e={};for(const q in t)q in _d||(e[q]=t[q]);if(t.css===!1)return e;const{name:n="v",type:s,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:r=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:a=o,appearActiveClass:c=r,appearToClass:u=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,v=X_(i),w=v&&v[0],P=v&&v[1],{onBeforeEnter:N,onEnter:L,onEnterCancelled:C,onLeave:k,onLeaveCancelled:D,onBeforeAppear:G=N,onAppear:de=L,onAppearCancelled:H=C}=e,K=(q,ge,Z)=>{Pn(q,ge?u:l),Pn(q,ge?c:r),Z&&Z()},ne=(q,ge)=>{q._isLeaving=!1,Pn(q,d),Pn(q,p),Pn(q,f),ge&&ge()},Ce=q=>(ge,Z)=>{const Te=q?de:L,le=()=>K(ge,q,Z);Tn(Te,[ge,le]),Xa(()=>{Pn(ge,q?a:o),an(ge,q?u:l),Ja(Te)||ec(ge,s,w,le)})};return Ge(e,{onBeforeEnter(q){Tn(N,[q]),an(q,o),an(q,r)},onBeforeAppear(q){Tn(G,[q]),an(q,a),an(q,c)},onEnter:Ce(!1),onAppear:Ce(!0),onLeave(q,ge){q._isLeaving=!0;const Z=()=>ne(q,ge);an(q,d),n1(),an(q,f),Xa(()=>{q._isLeaving&&(Pn(q,d),an(q,p),Ja(k)||ec(q,s,P,Z))}),Tn(k,[q,Z])},onEnterCancelled(q){K(q,!1),Tn(C,[q])},onAppearCancelled(q){K(q,!0),Tn(H,[q])},onLeaveCancelled(q){ne(q),Tn(D,[q])}})}function X_(t){if(t==null)return null;if(De(t))return[or(t.enter),or(t.leave)];{const e=or(t);return[e,e]}}function or(t){return Df(t)}function an(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function Pn(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function Xa(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let e1=0;function ec(t,e,n,s){const i=t._endId=++e1,o=()=>{i===t._endId&&s()};if(n)return setTimeout(o,n);const{type:r,timeout:l,propCount:a}=t1(t,e);if(!r)return s();const c=r+"end";let u=0;const d=()=>{t.removeEventListener(c,f),o()},f=p=>{p.target===t&&++u>=a&&d()};setTimeout(()=>{u<a&&d()},l+1),t.addEventListener(c,f)}function t1(t,e){const n=window.getComputedStyle(t),s=v=>(n[v]||"").split(", "),i=s(`${ln}Delay`),o=s(`${ln}Duration`),r=tc(i,o),l=s(`${Rs}Delay`),a=s(`${Rs}Duration`),c=tc(l,a);let u=null,d=0,f=0;e===ln?r>0&&(u=ln,d=r,f=o.length):e===Rs?c>0&&(u=Rs,d=c,f=a.length):(d=Math.max(r,c),u=d>0?r>c?ln:Rs:null,f=u?u===ln?o.length:a.length:0);const p=u===ln&&/\b(transform|all)(,|$)/.test(s(`${ln}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:p}}function tc(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>nc(n)+nc(t[s])))}function nc(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function n1(){return document.body.offsetHeight}const to=t=>{const e=t.props["onUpdate:modelValue"]||!1;return X(e)?n=>Wi(e,n):e},s1={deep:!0,created(t,e,n){t._assign=to(n),Nl(t,"change",()=>{const s=t._modelValue,i=gd(t),o=t.checked,r=t._assign;if(X(s)){const l=ku(s,i),a=l!==-1;if(o&&!a)r(s.concat(i));else if(!o&&a){const c=[...s];c.splice(l,1),r(c)}}else if(ko(s)){const l=new Set(s);o?l.add(i):l.delete(i),r(l)}else r(vd(t,o))})},mounted:sc,beforeUpdate(t,e,n){t._assign=to(n),sc(t,e,n)}};function sc(t,{value:e,oldValue:n},s){t._modelValue=e,X(e)?t.checked=ku(e,s.props.value)>-1:ko(e)?t.checked=e.has(s.props.value):e!==n&&(t.checked=cs(e,vd(t,!0)))}const md={created(t,{value:e},n){t.checked=cs(e,n.props.value),t._assign=to(n),Nl(t,"change",()=>{t._assign(gd(t))})},beforeUpdate(t,{value:e,oldValue:n},s){t._assign=to(s),e!==n&&(t.checked=cs(e,s.props.value))}};function gd(t){return"_value"in t?t._value:t.value}function vd(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const yd={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):As(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),As(t,!0),s.enter(t)):s.leave(t,()=>{As(t,!1)}):As(t,e))},beforeUnmount(t,{value:e}){As(t,e)}};function As(t,e){t.style.display=e?t._vod:"none"}const i1=Ge({patchProp:Q_},L_);let ic;function o1(){return ic||(ic=__(i1))}const r1=(...t)=>{const e=o1().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=l1(s);if(!i)return;const o=e._component;!ae(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const r=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},e};function l1(t){return Ke(t)?document.querySelector(t):t}var a1=!1;/*!
  * pinia v2.1.3
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let Cd;const Mo=t=>Cd=t,bd=Symbol();function Or(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Ws;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Ws||(Ws={}));function c1(){const t=xu(!0),e=t.run(()=>j({}));let n=[],s=[];const i=Io({install(o){Mo(i),i._a=o,o.provide(bd,i),o.config.globalProperties.$pinia=i,s.forEach(r=>n.push(r)),s=[]},use(o){return!this._a&&!a1?s.push(o):n.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const wd=()=>{};function oc(t,e,n,s=wd){t.push(e);const i=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),s())};return!n&&hl()&&Iu(i),i}function Qn(t,...e){t.slice().forEach(n=>{n(...e)})}const u1=t=>t();function Mr(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,s)=>t.set(s,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];Or(i)&&Or(s)&&t.hasOwnProperty(n)&&!qe(s)&&!_n(s)?t[n]=Mr(i,s):t[n]=s}return t}const d1=Symbol();function h1(t){return!Or(t)||!t.hasOwnProperty(d1)}const{assign:un}=Object;function f1(t){return!!(qe(t)&&t.effect)}function p1(t,e,n,s){const{state:i,actions:o,getters:r}=e,l=n.state.value[t];let a;function c(){l||(n.state.value[t]=i?i():{});const u=Cp(n.state.value[t]);return un(u,o,Object.keys(r||{}).reduce((d,f)=>(d[f]=Io(je(()=>{Mo(n);const p=n._s.get(t);return r[f].call(p,p)})),d),{}))}return a=kd(t,c,e,n,s,!0),a}function kd(t,e,n={},s,i,o){let r;const l=un({actions:{}},n),a={deep:!0};let c,u,d=[],f=[],p;const v=s.state.value[t];!o&&!v&&(s.state.value[t]={}),j({});let w;function P(H){let K;c=u=!1,typeof H=="function"?(H(s.state.value[t]),K={type:Ws.patchFunction,storeId:t,events:p}):(Mr(s.state.value[t],H),K={type:Ws.patchObject,payload:H,storeId:t,events:p});const ne=w=Symbol();bl().then(()=>{w===ne&&(c=!0)}),u=!0,Qn(d,K,s.state.value[t])}const N=o?function(){const{state:K}=n,ne=K?K():{};this.$patch(Ce=>{un(Ce,ne)})}:wd;function L(){r.stop(),d=[],f=[],s._s.delete(t)}function C(H,K){return function(){Mo(s);const ne=Array.from(arguments),Ce=[],q=[];function ge(le){Ce.push(le)}function Z(le){q.push(le)}Qn(f,{args:ne,name:H,store:D,after:ge,onError:Z});let Te;try{Te=K.apply(this&&this.$id===t?this:D,ne)}catch(le){throw Qn(q,le),le}return Te instanceof Promise?Te.then(le=>(Qn(Ce,le),le)).catch(le=>(Qn(q,le),Promise.reject(le))):(Qn(Ce,Te),Te)}}const k={_p:s,$id:t,$onAction:oc.bind(null,f),$patch:P,$reset:N,$subscribe(H,K={}){const ne=oc(d,H,K.detached,()=>Ce()),Ce=r.run(()=>nt(()=>s.state.value[t],q=>{(K.flush==="sync"?u:c)&&H({storeId:t,type:Ws.direct,events:p},q)},un({},a,K)));return ne},$dispose:L},D=Wn(k);s._s.set(t,D);const G=s._a&&s._a.runWithContext||u1,de=s._e.run(()=>(r=xu(),G(()=>r.run(e))));for(const H in de){const K=de[H];if(qe(K)&&!f1(K)||_n(K))o||(v&&h1(K)&&(qe(K)?K.value=v[H]:Mr(K,v[H])),s.state.value[t][H]=K);else if(typeof K=="function"){const ne=C(H,K);de[H]=ne,l.actions[H]=K}}return un(D,de),un(ve(D),de),Object.defineProperty(D,"$state",{get:()=>s.state.value[t],set:H=>{P(K=>{un(K,H)})}}),s._p.forEach(H=>{un(D,r.run(()=>H({store:D,app:s._a,pinia:s,options:l})))}),v&&o&&n.hydrate&&n.hydrate(D.$state,v),c=!0,u=!0,D}function Ed(t,e,n){let s,i;const o=typeof e=="function";typeof t=="string"?(s=t,i=o?n:e):(i=t,s=t.id);function r(l,a){const c=c_();return l=l||(c?Mt(bd,null):null),l&&Mo(l),l=Cd,l._s.has(s)||(o?kd(s,e,i,l):p1(s,i,l)),l._s.get(s)}return r.$id=s,r}var It=(t=>(t.Basic="Basic",t.Monthly="Monthly",t.Annually="Annually",t))(It||{}),Sd=(t=>(t.Woman="Woman",t.Man="Man",t.NonBinary="Non-binary",t.Other="Other",t.ChooseNotToSay="Choose not to say",t))(Sd||{});const xd={profilePicture:"",firstName:"",lastName:"",description:"",gender:"",birthday:"",phone:"",city:"",jobTitle:""},_1={profilePicture:!1,firstName:!1,lastName:!1,description:!1,gender:!1,birthday:!1,phone:!1,city:!1,jobTitle:!1},Id={updatesChecked:!1,contactsChecked:!1,personalDataChecked:!1},rc={email:"",premiumStatus:"Basic",checks:Id,data:xd},Lr={startTime:null,endTime:null,path:[],finished:!1,aborted:!1,resetted:!1},S=Wn({navbar:!1,intteruptButton:!1,darkPatterns:!1,personalDataAsked:!1,imagePopupOpen:!1,constructionPopupOpen:!1,profilePopupOpen:!1,innitialFocus:"",premiumStatus:It.Basic,comment:""});nt(S,t=>{sessionStorage.setItem("appstate",JSON.stringify(t))},{deep:!0});const lc=sessionStorage.getItem("appstate");lc&&Object.assign(S,JSON.parse(lc));const m1=["disabled"],g1=re({__name:"MyButton",props:{buttonStyle:{type:String,default:"neutral"},size:{type:String,default:"big"},disabled:{type:Boolean,default:!1}},setup(t){return(e,n)=>(E(),x("button",{class:Ie([{neutral:t.buttonStyle==="neutral",highlight:t.buttonStyle==="highlight",subtle:t.buttonStyle==="subtle",big:t.size==="big",small:t.size==="small"},"interact-node"]),disabled:t.disabled},[ds(e.$slots,"default",{},void 0,!0)],10,m1))}});const ye=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},Q=ye(g1,[["__scopeId","data-v-7ac08948"]]),$e="white",Pe="#628BFD",rr="#747474",Fr="#A4A4A4",v1="#f9df88",ac="#becfff",y1={xmlns:"http://www.w3.org/2000/svg",height:"12",width:"12",viewBox:"0 0 28 28"},C1=["stroke"],b1=["stroke"],Td=re({__name:"CloseSvg",setup(t){return(e,n)=>(E(),x("svg",y1,[h("path",{d:"M3.5 25L24.5 3",stroke:g(Pe),"stroke-width":"5","stroke-linecap":"round"},null,8,C1),h("path",{d:"M3 3.5L25 24.5",stroke:g(Pe),"stroke-width":"5","stroke-linecap":"round"},null,8,b1)]))}});function Vt(t){const e=document.getElementById(t);if(e==null)return;const n=new Map;e.querySelectorAll("*").forEach(s=>{var l;if(s.closest("svg"))return;const i=S.darkPatterns?"-dp":"",o=s.nodeName.toLowerCase(),r=n.has(o)?n.get(o)+1:1;if(s.id=`${t+i}_${o}-${r}`,o=="div"&&s.classList.length>0&&(s.id+=`_${s.classList[0].toLowerCase()}`),["a","li","p","label","h1","h2","h3","h4","h5","h6","em","span","button"].includes(o)&&s.textContent){const a=s.textContent.slice(0,20).replace(/[^a-zA-Z0-9-_]/g," ").trim().toLowerCase().replace(/\s+/g,"-");s.id+=`_${a}`}if(o=="img"){const u=(s.src.split("/").pop()||"").split(".")[0].toLowerCase();s.id+=`_${u}`}if(o=="video"){const u=(s.firstChild.src.split("/").pop()||"").split(".")[0].toLowerCase();s.id+=`_${u}`}if(["input","textarea","select"].includes(o)&&s.getAttribute("name")){const a=(l=s.getAttribute("name"))==null?void 0:l.replace(/[^a-zA-Z0-9-_]/g," ").trim().toLowerCase().replace(" ","-");s.id+=`_${a}`}n.set(o,r)})}function qs(t){const e=Object.values(t),n=e.filter(s=>s.trim()!=="");return Math.round(n.length/e.length*100)}function zt(t){return JSON.parse(JSON.stringify(t))}const Pd=t=>{var e={};for(var n in t)e[n]=t[n];return zt(e)},w1=["id"],k1={class:"vue-modal-inner"},E1={class:"vue-modal-content"},S1=re({__name:"Popup",props:{popupId:{type:String,required:!0},open:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1}},emits:["close"],setup(t,{emit:e}){const{popupId:n,open:s,vertical:i}=t,o=j(n+"-popup");return ot(()=>{Vt(o.value)}),(r,l)=>ki((E(),x("div",{id:o.value,class:"vue-modal",ref:"mainContainer"},[b(Es,{name:"slide"},{default:A(()=>[h("div",k1,[h("div",E1,[h("div",{class:"close-button-box interact-node",onClick:l[0]||(l[0]=a=>e("close"))},[b(Td,{class:"close-button-icon"})]),ds(r.$slots,"content",{class:"content"},void 0,!0),h("div",{class:Ie(["popup-button-container",{horizontal:!t.vertical,vertical:t.vertical}])},[ds(r.$slots,"buttons",{},void 0,!0)],2)])])]),_:3})],8,w1)),[[yd,t.open]])}});const _t=ye(S1,[["__scopeId","data-v-cc749525"]]),x1={key:0,width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I1=["opacity"],T1=["fill"],P1=["fill"],N1=h("path",{d:"M22.2361 12.9907C22.1088 11.3785 23.3828 10 25 10V10C26.6172 10 27.8912 11.3785 27.7639 12.9907L26.6181 27.5047C26.5514 28.3489 25.8469 29 25 29V29C24.1531 29 23.4486 28.3489 23.3819 27.5047L22.2361 12.9907Z",fill:"black"},null,-1),R1=h("circle",{cx:"25",cy:"32",r:"2",fill:"black"},null,-1),A1={key:1,width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$1=["opacity"],D1=["fill"],O1=h("rect",{x:"21",y:"37",width:"8",height:"8",rx:"2",fill:"#D9D9D9"},null,-1),M1=h("path",{d:"M25 32C25 23 34.5883 27.4895 34.7632 18.2201C34.7632 12.6177 31.0177 10 25.3188 10C19.6199 10 15 13.3977 15 19",stroke:"#D9D9D9","stroke-width":"8"},null,-1),L1=h("path",{d:"M11 19H19V19C19 20.1046 18.1046 21 17 21H15H13C11.8954 21 11 20.1046 11 19V19Z",fill:"#D9D9D9"},null,-1),F1=h("path",{d:"M21 32H29V32C29 33.1046 28.1046 34 27 34H25H23C21.8954 34 21 33.1046 21 32V32Z",fill:"#D9D9D9"},null,-1),V1={key:2,width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},B1=["opacity"],U1=["fill"],H1=["fill"],j1=["fill"],no=re({__name:"HeaderSvg",props:{name:{type:String,required:!0},opacity:{type:Number,default:.6}},setup(t){return(e,n)=>t.name==="warning"?(E(),x("svg",x1,[h("g",{opacity:t.opacity},[h("circle",{cx:"25",cy:"25",r:"25",fill:g(rr)},null,8,T1),h("path",{d:"M21.5359 6C23.0755 3.33333 26.9245 3.33333 28.4641 6L43.1865 31.5C44.7261 34.1667 42.8016 37.5 39.7224 37.5H10.2776C7.19837 37.5 5.27387 34.1667 6.81347 31.5L21.5359 6Z",fill:g(v1)},null,8,P1),N1,R1],8,I1)])):t.name==="question"?(E(),x("svg",A1,[h("g",{opacity:t.opacity},[h("circle",{cx:"25",cy:"25",r:"25",fill:g(rr)},null,8,D1),O1,M1,L1,F1],8,$1)])):t.name==="hammer"?(E(),x("svg",V1,[h("g",{opacity:t.opacity},[h("circle",{cx:"25",cy:"25",r:"25",fill:g(rr)},null,8,U1),h("rect",{x:"21",y:"19",width:"5",height:"25",rx:"1",fill:g(ac)},null,8,H1),h("path",{d:"M40.9017 14.4226C39.6245 13.0353 37.4467 10.9482 35.2548 10.125C32.5511 9.10962 28.2548 9.00376 28.0927 9.0001L28.0802 9H20.544C20.1273 9 19.7896 9.33579 19.7896 9.75V10.4956C19.7896 10.9122 19.4496 11.25 19.033 11.25C18.6188 11.25 18.2808 10.9142 18.2808 10.5C18.2808 9.67157 17.6053 9 16.772 9H14.5088C13.6755 9 13 9.67157 13 10.5V16.5C13 17.3284 13.6755 18 14.5088 18H16.772C17.6053 18 18.2808 17.3284 18.2808 16.5C18.2808 16.0858 18.6188 15.75 19.033 15.75C19.4496 15.75 19.7896 16.0878 19.7896 16.5044V17.25C19.7896 17.6642 20.1273 18 20.544 18L26.5792 18C26.8567 18 27.1924 17.4876 27.3336 17.25C27.7998 16.4656 28.0259 15.2314 29.2196 14.4226C31.7483 12.7092 38.0826 14.0104 40.4527 15.0107C40.827 15.1686 41.1762 14.7207 40.9017 14.4226Z",fill:g(ac)},null,8,j1)],8,B1)])):Ee("",!0)}});/*!
  * vue-router v4.2.1
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const es=typeof window<"u";function W1(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Ne=Object.assign;function lr(t,e){const n={};for(const s in e){const i=e[s];n[s]=Ft(i)?i.map(t):t(i)}return n}const zs=()=>{},Ft=Array.isArray,q1=/\/$/,z1=t=>t.replace(q1,"");function ar(t,e,n="/"){let s,i={},o="",r="";const l=e.indexOf("#");let a=e.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(s=e.slice(0,a),o=e.slice(a+1,l>-1?l:e.length),i=t(o)),l>-1&&(s=s||e.slice(0,l),r=e.slice(l,e.length)),s=Q1(s??e,n),{fullPath:s+(o&&"?")+o+r,path:s,query:i,hash:r}}function G1(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function cc(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function K1(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&fs(e.matched[s],n.matched[i])&&Nd(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function fs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Nd(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Y1(t[n],e[n]))return!1;return!0}function Y1(t,e){return Ft(t)?uc(t,e):Ft(e)?uc(e,t):t===e}function uc(t,e){return Ft(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function Q1(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let o=n.length-1,r,l;for(r=0;r<s.length;r++)if(l=s[r],l!==".")if(l==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+s.slice(r-(r===s.length?1:0)).join("/")}var ai;(function(t){t.pop="pop",t.push="push"})(ai||(ai={}));var Gs;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Gs||(Gs={}));function Z1(t){if(!t)if(es){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),z1(t)}const J1=/^[^#]+#/;function X1(t,e){return t.replace(J1,"#")+e}function em(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Lo=()=>({left:window.pageXOffset,top:window.pageYOffset});function tm(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=em(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function dc(t,e){return(history.state?history.state.position-e:-1)+t}const Vr=new Map;function nm(t,e){Vr.set(t,e)}function sm(t){const e=Vr.get(t);return Vr.delete(t),e}let im=()=>location.protocol+"//"+location.host;function Rd(t,e){const{pathname:n,search:s,hash:i}=e,o=t.indexOf("#");if(o>-1){let l=i.includes(t.slice(o))?t.slice(o).length:1,a=i.slice(l);return a[0]!=="/"&&(a="/"+a),cc(a,"")}return cc(n,t)+s+i}function om(t,e,n,s){let i=[],o=[],r=null;const l=({state:f})=>{const p=Rd(t,location),v=n.value,w=e.value;let P=0;if(f){if(n.value=p,e.value=f,r&&r===v){r=null;return}P=w?f.position-w.position:0}else s(p);i.forEach(N=>{N(n.value,v,{delta:P,type:ai.pop,direction:P?P>0?Gs.forward:Gs.back:Gs.unknown})})};function a(){r=n.value}function c(f){i.push(f);const p=()=>{const v=i.indexOf(f);v>-1&&i.splice(v,1)};return o.push(p),p}function u(){const{history:f}=window;f.state&&f.replaceState(Ne({},f.state,{scroll:Lo()}),"")}function d(){for(const f of o)f();o=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:a,listen:c,destroy:d}}function hc(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?Lo():null}}function rm(t){const{history:e,location:n}=window,s={value:Rd(t,n)},i={value:e.state};i.value||o(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(a,c,u){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+a:im()+t+a;try{e[u?"replaceState":"pushState"](c,"",f),i.value=c}catch(p){console.error(p),n[u?"replace":"assign"](f)}}function r(a,c){const u=Ne({},e.state,hc(i.value.back,a,i.value.forward,!0),c,{position:i.value.position});o(a,u,!0),s.value=a}function l(a,c){const u=Ne({},i.value,e.state,{forward:a,scroll:Lo()});o(u.current,u,!0);const d=Ne({},hc(s.value,a,null),{position:u.position+1},c);o(a,d,!1),s.value=a}return{location:s,state:i,push:l,replace:r}}function lm(t){t=Z1(t);const e=rm(t),n=om(t,e.state,e.location,e.replace);function s(o,r=!0){r||n.pauseListeners(),history.go(o)}const i=Ne({location:"",base:t,go:s,createHref:X1.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function am(t){return typeof t=="string"||t&&typeof t=="object"}function Ad(t){return typeof t=="string"||typeof t=="symbol"}const cn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},$d=Symbol("");var fc;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(fc||(fc={}));function ps(t,e){return Ne(new Error,{type:t,[$d]:!0},e)}function Yt(t,e){return t instanceof Error&&$d in t&&(e==null||!!(t.type&e))}const pc="[^/]+?",cm={sensitive:!1,strict:!1,start:!0,end:!0},um=/[.+*?^${}()[\]/\\]/g;function dm(t,e){const n=Ne({},cm,e),s=[];let i=n.start?"^":"";const o=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const f=c[d];let p=40+(n.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(um,"\\$&"),p+=40;else if(f.type===1){const{value:v,repeatable:w,optional:P,regexp:N}=f;o.push({name:v,repeatable:w,optional:P});const L=N||pc;if(L!==pc){p+=10;try{new RegExp(`(${L})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${v}" (${L}): `+k.message)}}let C=w?`((?:${L})(?:/(?:${L}))*)`:`(${L})`;d||(C=P&&c.length<2?`(?:/${C})`:"/"+C),P&&(C+="?"),i+=C,p+=20,P&&(p+=-8),w&&(p+=-20),L===".*"&&(p+=-50)}u.push(p)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const r=new RegExp(i,n.sensitive?"":"i");function l(c){const u=c.match(r),d={};if(!u)return null;for(let f=1;f<u.length;f++){const p=u[f]||"",v=o[f-1];d[v.name]=p&&v.repeatable?p.split("/"):p}return d}function a(c){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const p of f)if(p.type===0)u+=p.value;else if(p.type===1){const{value:v,repeatable:w,optional:P}=p,N=v in c?c[v]:"";if(Ft(N)&&!w)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const L=Ft(N)?N.join("/"):N;if(!L)if(P)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${v}"`);u+=L}}return u||"/"}return{re:r,score:s,keys:o,parse:l,stringify:a}}function hm(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function fm(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const o=hm(s[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-s.length)===1){if(_c(s))return 1;if(_c(i))return-1}return i.length-s.length}function _c(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const pm={type:0,value:""},_m=/[a-zA-Z0-9_]/;function mm(t){if(!t)return[[]];if(t==="/")return[[pm]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${c}": ${p}`)}let n=0,s=n;const i=[];let o;function r(){o&&i.push(o),o=[]}let l=0,a,c="",u="";function d(){c&&(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(a==="*"||a==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=a}for(;l<t.length;){if(a=t[l++],a==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:a==="/"?(c&&d(),r()):a===":"?(d(),n=1):f();break;case 4:f(),n=s;break;case 1:a==="("?n=2:_m.test(a)?f():(d(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:d(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),r(),i}function gm(t,e,n){const s=dm(mm(t.path),n),i=Ne(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function vm(t,e){const n=[],s=new Map;e=vc({strict:!1,end:!0,sensitive:!1},e);function i(u){return s.get(u)}function o(u,d,f){const p=!f,v=ym(u);v.aliasOf=f&&f.record;const w=vc(e,u),P=[v];if("alias"in u){const C=typeof u.alias=="string"?[u.alias]:u.alias;for(const k of C)P.push(Ne({},v,{components:f?f.record.components:v.components,path:k,aliasOf:f?f.record:v}))}let N,L;for(const C of P){const{path:k}=C;if(d&&k[0]!=="/"){const D=d.record.path,G=D[D.length-1]==="/"?"":"/";C.path=d.record.path+(k&&G+k)}if(N=gm(C,d,w),f?f.alias.push(N):(L=L||N,L!==N&&L.alias.push(N),p&&u.name&&!gc(N)&&r(u.name)),v.children){const D=v.children;for(let G=0;G<D.length;G++)o(D[G],N,f&&f.children[G])}f=f||N,(N.record.components&&Object.keys(N.record.components).length||N.record.name||N.record.redirect)&&a(N)}return L?()=>{r(L)}:zs}function r(u){if(Ad(u)){const d=s.get(u);d&&(s.delete(u),n.splice(n.indexOf(d),1),d.children.forEach(r),d.alias.forEach(r))}else{const d=n.indexOf(u);d>-1&&(n.splice(d,1),u.record.name&&s.delete(u.record.name),u.children.forEach(r),u.alias.forEach(r))}}function l(){return n}function a(u){let d=0;for(;d<n.length&&fm(u,n[d])>=0&&(u.record.path!==n[d].record.path||!Dd(u,n[d]));)d++;n.splice(d,0,u),u.record.name&&!gc(u)&&s.set(u.record.name,u)}function c(u,d){let f,p={},v,w;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw ps(1,{location:u});w=f.record.name,p=Ne(mc(d.params,f.keys.filter(L=>!L.optional).map(L=>L.name)),u.params&&mc(u.params,f.keys.map(L=>L.name))),v=f.stringify(p)}else if("path"in u)v=u.path,f=n.find(L=>L.re.test(v)),f&&(p=f.parse(v),w=f.record.name);else{if(f=d.name?s.get(d.name):n.find(L=>L.re.test(d.path)),!f)throw ps(1,{location:u,currentLocation:d});w=f.record.name,p=Ne({},d.params,u.params),v=f.stringify(p)}const P=[];let N=f;for(;N;)P.unshift(N.record),N=N.parent;return{name:w,path:v,params:p,matched:P,meta:bm(P)}}return t.forEach(u=>o(u)),{addRoute:o,resolve:c,removeRoute:r,getRoutes:l,getRecordMatcher:i}}function mc(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function ym(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Cm(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Cm(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="boolean"?n:n[s];return e}function gc(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function bm(t){return t.reduce((e,n)=>Ne(e,n.meta),{})}function vc(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function Dd(t,e){return e.children.some(n=>n===t||Dd(t,n))}const Od=/#/g,wm=/&/g,km=/\//g,Em=/=/g,Sm=/\?/g,Md=/\+/g,xm=/%5B/g,Im=/%5D/g,Ld=/%5E/g,Tm=/%60/g,Fd=/%7B/g,Pm=/%7C/g,Vd=/%7D/g,Nm=/%20/g;function Rl(t){return encodeURI(""+t).replace(Pm,"|").replace(xm,"[").replace(Im,"]")}function Rm(t){return Rl(t).replace(Fd,"{").replace(Vd,"}").replace(Ld,"^")}function Br(t){return Rl(t).replace(Md,"%2B").replace(Nm,"+").replace(Od,"%23").replace(wm,"%26").replace(Tm,"`").replace(Fd,"{").replace(Vd,"}").replace(Ld,"^")}function Am(t){return Br(t).replace(Em,"%3D")}function $m(t){return Rl(t).replace(Od,"%23").replace(Sm,"%3F")}function Dm(t){return t==null?"":$m(t).replace(km,"%2F")}function so(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Om(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const o=s[i].replace(Md," "),r=o.indexOf("="),l=so(r<0?o:o.slice(0,r)),a=r<0?null:so(o.slice(r+1));if(l in e){let c=e[l];Ft(c)||(c=e[l]=[c]),c.push(a)}else e[l]=a}return e}function yc(t){let e="";for(let n in t){const s=t[n];if(n=Am(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Ft(s)?s.map(o=>o&&Br(o)):[s&&Br(s)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function Mm(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Ft(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const Lm=Symbol(""),Cc=Symbol(""),Al=Symbol(""),$l=Symbol(""),Ur=Symbol("");function $s(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function hn(t,e,n,s,i){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((r,l)=>{const a=d=>{d===!1?l(ps(4,{from:n,to:e})):d instanceof Error?l(d):am(d)?l(ps(2,{from:e,to:d})):(o&&s.enterCallbacks[i]===o&&typeof d=="function"&&o.push(d),r())},c=t.call(s&&s.instances[i],e,n,a);let u=Promise.resolve(c);t.length<3&&(u=u.then(a)),u.catch(d=>l(d))})}function cr(t,e,n,s){const i=[];for(const o of t)for(const r in o.components){let l=o.components[r];if(!(e!=="beforeRouteEnter"&&!o.instances[r]))if(Fm(l)){const c=(l.__vccOpts||l)[e];c&&i.push(hn(c,n,s,o,r))}else{let a=l();i.push(()=>a.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${r}" at "${o.path}"`));const u=W1(c)?c.default:c;o.components[r]=u;const f=(u.__vccOpts||u)[e];return f&&hn(f,n,s,o,r)()}))}}return i}function Fm(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function bc(t){const e=Mt(Al),n=Mt($l),s=je(()=>e.resolve(g(t.to))),i=je(()=>{const{matched:a}=s.value,{length:c}=a,u=a[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(fs.bind(null,u));if(f>-1)return f;const p=wc(a[c-2]);return c>1&&wc(u)===p&&d[d.length-1].path!==p?d.findIndex(fs.bind(null,a[c-2])):f}),o=je(()=>i.value>-1&&Hm(n.params,s.value.params)),r=je(()=>i.value>-1&&i.value===n.matched.length-1&&Nd(n.params,s.value.params));function l(a={}){return Um(a)?e[g(t.replace)?"replace":"push"](g(t.to)).catch(zs):Promise.resolve()}return{route:s,href:je(()=>s.value.href),isActive:o,isExactActive:r,navigate:l}}const Vm=re({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:bc,setup(t,{slots:e}){const n=Wn(bc(t)),{options:s}=Mt(Al),i=je(()=>({[kc(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[kc(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:Pl("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),Bm=Vm;function Um(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Hm(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!Ft(i)||i.length!==s.length||s.some((o,r)=>o!==i[r]))return!1}return!0}function wc(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const kc=(t,e,n)=>t??e??n,jm=re({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Mt(Ur),i=je(()=>t.route||s.value),o=Mt(Cc,0),r=je(()=>{let c=g(o);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),l=je(()=>i.value.matched[r.value]);qi(Cc,je(()=>r.value+1)),qi(Lm,l),qi(Ur,i);const a=j();return nt(()=>[a.value,l.value,t.name],([c,u,d],[f,p,v])=>{u&&(u.instances[d]=c,p&&p!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!fs(u,p)||!f)&&(u.enterCallbacks[d]||[]).forEach(w=>w(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,d=l.value,f=d&&d.components[u];if(!f)return Ec(n.default,{Component:f,route:c});const p=d.props[u],v=p?p===!0?c.params:typeof p=="function"?p(c):p:null,P=Pl(f,Ne({},v,e,{onVnodeUnmounted:N=>{N.component.isUnmounted&&(d.instances[u]=null)},ref:a}));return Ec(n.default,{Component:P,route:c})||P}}});function Ec(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Wm=jm;function qm(t){const e=vm(t.routes,t),n=t.parseQuery||Om,s=t.stringifyQuery||yc,i=t.history,o=$s(),r=$s(),l=$s(),a=gp(cn);let c=cn;es&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=lr.bind(null,T=>""+T),d=lr.bind(null,Dm),f=lr.bind(null,so);function p(T,z){let U,J;return Ad(T)?(U=e.getRecordMatcher(T),J=z):J=T,e.addRoute(J,U)}function v(T){const z=e.getRecordMatcher(T);z&&e.removeRoute(z)}function w(){return e.getRoutes().map(T=>T.record)}function P(T){return!!e.getRecordMatcher(T)}function N(T,z){if(z=Ne({},z||a.value),typeof T=="string"){const y=ar(n,T,z.path),I=e.resolve({path:y.path},z),R=i.createHref(y.fullPath);return Ne(y,I,{params:f(I.params),hash:so(y.hash),redirectedFrom:void 0,href:R})}let U;if("path"in T)U=Ne({},T,{path:ar(n,T.path,z.path).path});else{const y=Ne({},T.params);for(const I in y)y[I]==null&&delete y[I];U=Ne({},T,{params:d(y)}),z.params=d(z.params)}const J=e.resolve(U,z),xe=T.hash||"";J.params=u(f(J.params));const _=G1(s,Ne({},T,{hash:Rm(xe),path:J.path})),m=i.createHref(_);return Ne({fullPath:_,hash:xe,query:s===yc?Mm(T.query):T.query||{}},J,{redirectedFrom:void 0,href:m})}function L(T){return typeof T=="string"?ar(n,T,a.value.path):Ne({},T)}function C(T,z){if(c!==T)return ps(8,{from:z,to:T})}function k(T){return de(T)}function D(T){return k(Ne(L(T),{replace:!0}))}function G(T){const z=T.matched[T.matched.length-1];if(z&&z.redirect){const{redirect:U}=z;let J=typeof U=="function"?U(T):U;return typeof J=="string"&&(J=J.includes("?")||J.includes("#")?J=L(J):{path:J},J.params={}),Ne({query:T.query,hash:T.hash,params:"path"in J?{}:T.params},J)}}function de(T,z){const U=c=N(T),J=a.value,xe=T.state,_=T.force,m=T.replace===!0,y=G(U);if(y)return de(Ne(L(y),{state:typeof y=="object"?Ne({},xe,y.state):xe,force:_,replace:m}),z||U);const I=U;I.redirectedFrom=z;let R;return!_&&K1(s,J,U)&&(R=ps(16,{to:I,from:J}),kt(J,J,!0,!1)),(R?Promise.resolve(R):ne(I,J)).catch(O=>Yt(O)?Yt(O,2)?O:Ut(O):ke(O,I,J)).then(O=>{if(O){if(Yt(O,2))return de(Ne({replace:m},L(O.to),{state:typeof O.to=="object"?Ne({},xe,O.to.state):xe,force:_}),z||I)}else O=q(I,J,!0,m,xe);return Ce(I,J,O),O})}function H(T,z){const U=C(T,z);return U?Promise.reject(U):Promise.resolve()}function K(T){const z=Gn.values().next().value;return z&&typeof z.runWithContext=="function"?z.runWithContext(T):T()}function ne(T,z){let U;const[J,xe,_]=zm(T,z);U=cr(J.reverse(),"beforeRouteLeave",T,z);for(const y of J)y.leaveGuards.forEach(I=>{U.push(hn(I,T,z))});const m=H.bind(null,T,z);return U.push(m),lt(U).then(()=>{U=[];for(const y of o.list())U.push(hn(y,T,z));return U.push(m),lt(U)}).then(()=>{U=cr(xe,"beforeRouteUpdate",T,z);for(const y of xe)y.updateGuards.forEach(I=>{U.push(hn(I,T,z))});return U.push(m),lt(U)}).then(()=>{U=[];for(const y of T.matched)if(y.beforeEnter&&!z.matched.includes(y))if(Ft(y.beforeEnter))for(const I of y.beforeEnter)U.push(hn(I,T,z));else U.push(hn(y.beforeEnter,T,z));return U.push(m),lt(U)}).then(()=>(T.matched.forEach(y=>y.enterCallbacks={}),U=cr(_,"beforeRouteEnter",T,z),U.push(m),lt(U))).then(()=>{U=[];for(const y of r.list())U.push(hn(y,T,z));return U.push(m),lt(U)}).catch(y=>Yt(y,8)?y:Promise.reject(y))}function Ce(T,z,U){for(const J of l.list())K(()=>J(T,z,U))}function q(T,z,U,J,xe){const _=C(T,z);if(_)return _;const m=z===cn,y=es?history.state:{};U&&(J||m?i.replace(T.fullPath,Ne({scroll:m&&y&&y.scroll},xe)):i.push(T.fullPath,xe)),a.value=T,kt(T,z,U,m),Ut()}let ge;function Z(){ge||(ge=i.listen((T,z,U)=>{if(!$i.listening)return;const J=N(T),xe=G(J);if(xe){de(Ne(xe,{replace:!0}),J).catch(zs);return}c=J;const _=a.value;es&&nm(dc(_.fullPath,U.delta),Lo()),ne(J,_).catch(m=>Yt(m,12)?m:Yt(m,2)?(de(m.to,J).then(y=>{Yt(y,20)&&!U.delta&&U.type===ai.pop&&i.go(-1,!1)}).catch(zs),Promise.reject()):(U.delta&&i.go(-U.delta,!1),ke(m,J,_))).then(m=>{m=m||q(J,_,!1),m&&(U.delta&&!Yt(m,8)?i.go(-U.delta,!1):U.type===ai.pop&&Yt(m,20)&&i.go(-1,!1)),Ce(J,_,m)}).catch(zs)}))}let Te=$s(),le=$s(),he;function ke(T,z,U){Ut(T);const J=le.list();return J.length?J.forEach(xe=>xe(T,z,U)):console.error(T),Promise.reject(T)}function Ve(){return he&&a.value!==cn?Promise.resolve():new Promise((T,z)=>{Te.add([T,z])})}function Ut(T){return he||(he=!T,Z(),Te.list().forEach(([z,U])=>T?U(T):z()),Te.reset()),T}function kt(T,z,U,J){const{scrollBehavior:xe}=t;if(!es||!xe)return Promise.resolve();const _=!U&&sm(dc(T.fullPath,0))||(J||!U)&&history.state&&history.state.scroll||null;return bl().then(()=>xe(T,z,_)).then(m=>m&&tm(m)).catch(m=>ke(m,T,z))}const ht=T=>i.go(T);let zn;const Gn=new Set,$i={currentRoute:a,listening:!0,addRoute:p,removeRoute:v,hasRoute:P,getRoutes:w,resolve:N,options:t,push:k,replace:D,go:ht,back:()=>ht(-1),forward:()=>ht(1),beforeEach:o.add,beforeResolve:r.add,afterEach:l.add,onError:le.add,isReady:Ve,install(T){const z=this;T.component("RouterLink",Bm),T.component("RouterView",Wm),T.config.globalProperties.$router=z,Object.defineProperty(T.config.globalProperties,"$route",{enumerable:!0,get:()=>g(a)}),es&&!zn&&a.value===cn&&(zn=!0,k(i.location).catch(xe=>{}));const U={};for(const xe in cn)U[xe]=je(()=>a.value[xe]);T.provide(Al,z),T.provide($l,Wn(U)),T.provide(Ur,a);const J=T.unmount;Gn.add(T),T.unmount=function(){Gn.delete(T),Gn.size<1&&(c=cn,ge&&ge(),ge=null,a.value=cn,zn=!1,he=!1),J()}}};function lt(T){return T.reduce((z,U)=>z.then(()=>K(U)),Promise.resolve())}return $i}function zm(t,e){const n=[],s=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let r=0;r<o;r++){const l=e.matched[r];l&&(t.matched.find(c=>fs(c,l))?s.push(l):n.push(l));const a=t.matched[r];a&&(e.matched.find(c=>fs(c,a))||i.push(a))}return[n,s,i]}function _s(){return Mt($l)}const Gm={},Km=t=>(st("data-v-7b8faef5"),t=t(),it(),t),Ym={id:"wrong-page-view",class:"full-padding"},Qm=Km(()=>h("div",{class:"text-view scroll-style top-bottom-padding"},[h("h1",{class:"title"},"Something went wrong!"),h("p",null,"Start the study by scanning the QR code or entering the provided URL.")],-1)),Zm=[Qm];function Jm(t,e){return E(),x("div",Ym,Zm)}const Xm=ye(Gm,[["render",Jm],["__scopeId","data-v-7b8faef5"]]),eg={class:"checkbox"},tg=["disabled","required"],ng={key:0,class:"required-asterix"},sg=re({__name:"Checkbox",props:{valid:{type:Boolean,default:!0},required:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","valueUpdated"],setup(t,{emit:e}){const{valid:n,required:s,modelValue:i,disabled:o}=t,r=j(i),l=j(null),a=()=>{const c=l.value;if(c){const u=!r.value;r.value=u,c.checked=u}};return nt(()=>i,c=>{r.value=c}),nt(()=>r.value,c=>{e("update:modelValue",c),e("valueUpdated")}),(c,u)=>(E(),x("div",eg,[ki(h("input",{name:"checkbox",type:"checkbox",class:Ie(["interact-node",{invalid:!t.valid}]),"onUpdate:modelValue":u[0]||(u[0]=d=>r.value=d),disabled:t.disabled,required:t.required,ref_key:"inputRef",ref:l},null,10,tg),[[s1,r.value]]),h("label",{class:Ie([{invalid:!t.valid},"interact-node"]),onClick:a},[ds(c.$slots,"default",{},void 0,!0),t.required?(E(),x("em",ng,"*")):Ee("",!0)],2)]))}});const fn=ye(sg,[["__scopeId","data-v-bd288000"]]),ig={id:"welcome-view",class:"left-right-padding bottom-buttons-page"},og={class:"text-view scroll-style top-bottom-padding"},rg=ks('<h1 class="title" data-v-2e52e0b4>Welcome</h1><div class="description-box" data-v-2e52e0b4><p class="description" data-v-2e52e0b4> Thank you for particpating in this study on social media interaction. Please make sure to have your <em data-v-2e52e0b4>character sheet</em> open on your desktop device while doing the study. <br data-v-2e52e0b4><br data-v-2e52e0b4><em data-v-2e52e0b4>Please don&#39;t leave the app while doing the study.</em><br data-v-2e52e0b4><br data-v-2e52e0b4> For the study&#39;s purposes, we kindly request access to your location data. This information will be compared to the demographic survey and promptly deleted thereafter. Please activate your <em data-v-2e52e0b4>GPS</em> before pressing <em data-v-2e52e0b4>Continue</em> and after pressing it, grant access in the additional popup (please note that the popup may not appear on all browsers, but you can still proceed with the study regardless). <br data-v-2e52e0b4><br data-v-2e52e0b4> Please <em data-v-2e52e0b4>don&#39;t use the back button</em> in your browser or on your smartphone. Instead, please use the available buttons inside the app for navigation. Other methods of navigating to the previous page are blocked by the application. <br data-v-2e52e0b4><br data-v-2e52e0b4> Once you click on <em data-v-2e52e0b4>Continue</em>, data collection will begin. If you decide to end the study now, you can simply close the tab. We completely understand. </p></div>',2),lg={class:"bottom-buttons-wrapper"},ag=re({__name:"WelcomeView",setup(t){const e=j(!1),n=new Map([["nf4bu1n4WI",!0],["r5aFxmhs2r",!1]]),s=je(()=>_s().params.adhd.toString()).value,i=je(()=>_s().params.prolific.toString()).value,o=()=>{He().setProlificId(i),He().setupStudyGroup(n.get(s)),r(),ie.push("/start/task1")},r=()=>{var a,c;try{(c=(a=window==null?void 0:window.navigator)==null?void 0:a.geolocation)==null||c.getCurrentPosition(l,()=>console.log("Access to your location was denied"))}catch(u){console.log("Geolocation Error: "+u.message)}},l=a=>{console.log("Location Success"),a&&(He().setCoords(Pd(a.coords)),console.log("Access to your location was granted"))};return ot(()=>{n.has(s)||ie.push("/")}),(a,c)=>(E(),x("div",ig,[h("div",og,[rg,b(fn,{modelValue:e.value,"onUpdate:modelValue":c[0]||(c[0]=u=>e.value=u),required:!0},{default:A(()=>[$("I have read the information and I want to proceed ")]),_:1},8,["modelValue"])]),h("div",lg,[b(Q,{disabled:!e.value,onClick:c[1]||(c[1]=u=>o())},{default:A(()=>[$("Continue")]),_:1},8,["disabled"])])]))}});const cg=ye(ag,[["__scopeId","data-v-2e52e0b4"]]),Sc=200,ug=800,dg=.1,hg=.3,xc=.5,fg=.5,pg=12,_g=1500,mg=1500,gg=150,vg=3500,yg=["#FFC700","#FF0000","#2E3191","#41BBC7"],Cg={props:{particleCount:{type:Number,default:gg},particleSize:{type:Number,default:pg},duration:{type:Number,default:vg},colors:{type:Array,default:yg},force:{type:Number,default:fg},stageHeight:{type:Number,default:_g},stageWidth:{type:Number,default:mg},shouldDestroyAfterDone:{type:Boolean,default:!0}},setup(t){const e=j(!0),n=(C,k)=>{L(C,{degree:k})},s=je(()=>o(t.particleCount,t.colors));Lp(()=>{t.particleCount>300&&console.log("[VUE-CONFETTI-EXPLOSION] That's a lot of confetti, you sure about that? A lesser number like 200 will still give off the party vibes while still not bricking the device 😉")});const i=je(()=>N(t.particleCount,t.duration,t.colors,t.particleSize,t.force,t.stageHeight,t.stageWidth));ot(async()=>{await r(t.duration),t.shouldDestroyAfterDone&&(e.value=!1)});const o=(C,k)=>{const D=360/C;return Array.from({length:C},(G,de)=>({color:k[de%k.length],degree:de*D}))},r=C=>new Promise(k=>setTimeout(k,C));function l(C,k=2){return Math.round((C+Number.EPSILON)*10**k)/10**k}function a(C,k){if(C===k)return!0;if(C==null||k==null||C.length!==k.length)return!1;for(let D=0;D<C.length;D++)if(C[D]!==k[D])return!1;return!0}const c=(C,k,D,G,de)=>(C-k)*(de-G)/(D-k)+G,u=(C,k)=>{const D=C+k;return D>360?D-360:D},d=()=>Math.random()>.5,f=[0,0,1],p=[[1,1,0],[1,0,1],[0,1,1],[1,0,0],[0,1,0],f],v=C=>!a(p[C],f)&&d(),w=C=>typeof C>"u",P=C=>{console.error(C)};function N(C,k,D,G,de,H,K){const ne=Number.isSafeInteger;return!w(C)&&ne(C)&&C<0?(P("particleCount must be a positive integer"),!1):!w(k)&&ne(k)&&k<0?(P("duration must be a positive integer"),!1):!w(D)&&!Array.isArray(D)?(P("colors must be an array of strings"),!1):!w(G)&&ne(G)&&G<0?(P("particleSize must be a positive integer"),!1):!w(de)&&ne(de)&&(de<0||de>1)?(P("force must be a positive integer and should be within 0 and 1"),!1):!w(H)&&typeof H=="number"&&ne(H)&&H<0?(P("floorHeight must be a positive integer"),!1):!w(K)&&typeof K=="number"&&ne(K)&&K<0?(P("floorWidth must be a positive integer"),!1):!0}function L(C,{degree:k}){const D=c(Math.abs(u(k,90)-180),0,180,-t.stageWidth/2,t.stageWidth/2),G=Math.random()*(ug-Sc)+Sc,de=Math.round(Math.random()*(p.length-1)),H=t.duration-Math.round(Math.random()*1e3),K=Math.random()<dg,ne=v(de),Ce=K?l(Math.random()*hg,2):0,q=Ce*-1,ge=Ce,Z=l(Math.abs(c(Math.abs(u(k,90)-180),0,180,-1,1)),4),Te=l(Math.random()*xc,4),le=l(Math.random()*t.force*(d()?1:-1),4),he=xc,ke=l(Math.max(c(Math.abs(k-180),0,180,t.force,-t.force),0),4),Ve=(Ut,kt)=>C==null?void 0:C.style.setProperty(Ut,kt+"");Ve("--x-landing-point",`${D}px`),Ve("--duration-chaos",`${H}ms`),Ve("--x1",`${Ce}`),Ve("--x2",`${q}`),Ve("--x3",`${ge}`),Ve("--x4",`${Z}`),Ve("--y1",`${Te}`),Ve("--y2",`${le}`),Ve("--y3",`${he}`),Ve("--y4",`${ke}`),Ve("--width",`${ne?t.particleSize:Math.round(Math.random()*4)+t.particleSize/2}px`),Ve("--height",(ne?t.particleSize:Math.round(Math.random()*2)+t.particleSize)+"px"),Ve("--rotation",`${p[de].join()}`),Ve("--rotation-duration",`${G}ms`),Ve("--border-radius",`${ne?"50%":"0"}`)}return{isVisible:e,isValid:i,stageHeight:t.stageHeight,particles:s,setItemRef:n}}};function bg(t,e,n,s,i,o){return s.isVisible&&s.isValid?(E(),x("div",{key:0,class:"confetti-container",style:ti(`--floor-height: ${s.stageHeight}px;`)},[(E(!0),x(Re,null,Ot(s.particles,({color:r,degree:l})=>(E(),x("div",{key:l,class:"particle",ref_for:!0,ref:a=>s.setItemRef(a,l)},[h("div",{style:ti(`--bgcolor: ${r};`)},null,4)]))),128))],4)):Ee("",!0)}const wg=ye(Cg,[["render",bg],["__scopeId","data-v-644b7d42"]]),kg={class:"likert-scale-question"},Eg={class:"likert-scale-item-list"},Sg={class:"likert-scale-text"},xg=["name","value"],Ig={class:"likert-scale-number"},Tg=re({__name:"LikertScale",props:{name:{type:String,required:!0},size:{type:Number,default:7},start:{type:String,default:"Not at all"},end:{type:String,default:"Extremely"},values:{type:Array,default:[]},bottomLine:{type:Boolean,default:!1},modelValue:{type:Number,default:-1}},emits:["update:modelValue","valueUpdated"],setup(t,{emit:e}){const{name:n,size:s,start:i,end:o,values:r,bottomLine:l,modelValue:a}=t,c=j(a),u=j(null),d=j(new Array(s));r.length>0?d.value=r:(d.value.fill(""),d.value[0]=i,d.value[s-1]=o);const f=(p,v,w)=>p==null?void 0:p.style.setProperty(v,w+"");return ot(()=>{const p=d.value.length;f(u.value,"--item-size",`${100/p}%`),f(u.value,"--radio-size","1rem"),f(u.value,"--line-width",`${.2}rem`)}),nt(()=>a,p=>{c.value=p}),nt(()=>c.value,p=>{e("update:modelValue",p),e("valueUpdated")}),(p,v)=>(E(),x("div",{class:Ie(["likert-scale-wrapper",{"bottom-line":t.bottomLine}]),ref_key:"likertScaleWrapper",ref:u},[h("label",kg,[ds(p.$slots,"default",{},void 0,!0)]),h("ul",Eg,[(E(!0),x(Re,null,Ot(d.value,(w,P)=>(E(),x("li",{class:"likert-scale-item",key:P},[h("label",Sg,pe(w),1),ki(h("input",{class:"likert-scale-radio interact-node",type:"radio",name:t.name,value:P,"onUpdate:modelValue":v[0]||(v[0]=N=>c.value=N)},null,8,xg),[[md,c.value]]),h("label",Ig,pe(P+1),1)]))),128))])],2))}});const Ic=ye(Tg,[["__scopeId","data-v-977d6e9a"]]),Dl=t=>(st("data-v-c52e0eac"),t=t(),it(),t),Pg=["id"],Ng={class:"scroll-style top-bottom-padding"},Rg=Dl(()=>h("div",{class:"description-box"},[h("p",{class:"description"},[h("em",null,"Congratulations! Thank you for taking the time to finish the task."),h("br"),h("br"),$(" Now we would like to ask you to spare a moment and fill out the questionnaire below. "),h("br"),h("br"),$(" Please evaluate the following "),h("em",null,"statements"),$(" and "),h("em",null,"questions"),$(" on a scale from "),h("em",null,"1 to 7"),$(" based on your perception and experience during the task. ")])],-1)),Ag={class:"deceptive-strategies-row"},$g=Dl(()=>h("div",{class:"description-box"},[h("p",{class:"description"},[h("em",null,"Deceptive design strategies"),$(' can be described as "user interface design choices that benefit an online service by coercing, steering, or deceiving users into making decisions that, if fully informed and capable of selecting alternatives, they might not make." '),h("br"),h("br"),$(" Please select "),h("em",null,"one"),$(" of the options for the next "),h("em",null,"question"),$(", based on your thoughts. ")])],-1)),Dg=Dl(()=>h("label",{class:"deceptive-strategies-question"},"Did you notice any deceptive design strategies during the previous task?",-1)),Og={class:"radio-button-box"},Mg={class:"radio-button-list"},Lg={class:"radio-button-item"},Fg=["value"],Vg={class:"radio-button-text"},Bg={class:"bottom-buttons-wrapper"},Ug=re({__name:"QuestionnaireView",setup(t){const e=je(()=>_s().params.task.toString()).value,n=e.charAt(0).toUpperCase()+e.slice(1).replace(/[^0-9](?=[0-9])/g,"$& "),s=j(""),i=["Yes","No","Maybe"],o=j([{category:"asymmetric",text:"I found certain design choices to present available options unequally.",rating:-1},{category:"covert",text:"I found the effects of certain design choices hidden from me.",rating:-1},{category:"deceptive",text:"I found some design choices to induce false belielfs by confusing, misleading, or keeping information from me.",rating:-1},{category:"hidesInformation",text:"I found certain design choices to obscure or delay necessary information.",rating:-1},{category:"restrictive",text:"I found certain design choices to restrict available options.",rating:-1},{category:"disparateTreatment",text:"I found certain design choices to create (dis)advantages for user groups or treating them differently.",rating:-1}]),r=j([{category:"mentalDemand",text:"How mentally demanding was the task?",rating:-1},{category:"physicalDemand",text:"How physically demanding was the task?",rating:-1},{category:"temporalDemand",text:"How hurried or rushed was the pace of the task?",rating:-1},{category:"performance",text:"How successful were you in accomplishing what you were asked to do?",rating:-1},{category:"effort",text:"How hard did you have to work to accomplish your level of performance?",rating:-1},{category:"frustration",text:"How insecure, discouraged, irritated, stressed and annoyed were you?",rating:-1}]);function l(u){const d={};return u.forEach(f=>{d[f.category]=f.rating}),d}const a=()=>{const u=l(o.value),d=l(r.value);He().updateDeceptiveStrategies(s.value),He().updateDpCharacteristics(u),He().updateNasaTlx(d),He().goToNextTask()},c=()=>s.value.trim()!=""&&o.value.every(({rating:u})=>u>-1)&&r.value.every(({rating:u})=>u>-1);return(u,d)=>(E(),x("div",{id:"questionnaire-"+g(e)+"-view",class:"left-right-padding bottom-buttons-page"},[h("div",Ng,[b(wg,{particleCount:200,duration:2e3}),h("h1",{class:"title"},pe(n)+" evaluation"),Rg,(E(!0),x(Re,null,Ot(o.value,(f,p)=>(E(),bt(Ic,{key:p,name:"characteristics-tlx-"+f.category,"bottom-line":!0,modelValue:f.rating,"onUpdate:modelValue":v=>f.rating=v},{default:A(()=>[$(pe(f.text),1)]),_:2},1032,["name","modelValue","onUpdate:modelValue"]))),128)),(E(!0),x(Re,null,Ot(r.value,(f,p)=>(E(),bt(Ic,{key:p,name:"nasa-tlx-"+f.category,"bottom-line":!0,size:7,start:"Very low",end:"Very high",modelValue:f.rating,"onUpdate:modelValue":v=>f.rating=v},{default:A(()=>[$(pe(f.text),1)]),_:2},1032,["name","modelValue","onUpdate:modelValue"]))),128)),h("div",Ag,[$g,Dg,h("div",Og,[h("ul",Mg,[(E(),x(Re,null,Ot(i,f=>h("li",Lg,[ki(h("input",{class:"radio-button",type:"radio",value:f,"onUpdate:modelValue":d[0]||(d[0]=p=>s.value=p)},null,8,Fg),[[md,s.value]]),h("label",Vg,pe(f),1)])),64))])])])]),h("div",Bg,[b(Q,{onClick:a,disabled:!c()},{default:A(()=>[$("Next")]),_:1},8,["disabled"])])],8,Pg))}});const Hg=ye(Ug,[["__scopeId","data-v-c52e0eac"]]),Bt=t=>(st("data-v-745a663a"),t=t(),it(),t),jg=["id"],Wg={class:"text-view scroll-style top-bottom-padding"},qg={class:"description-box"},zg={class:"description"},Gg=Bt(()=>h("br",null,null,-1)),Kg=Bt(()=>h("br",null,null,-1)),Yg=Bt(()=>h("br",null,null,-1)),Qg=Bt(()=>h("br",null,null,-1)),Zg=Bt(()=>h("br",null,null,-1)),Jg=Bt(()=>h("br",null,null,-1)),Xg=Bt(()=>h("br",null,null,-1)),e0=Bt(()=>h("br",null,null,-1)),t0=Bt(()=>h("em",null,"questionnaire",-1)),n0=Bt(()=>h("br",null,null,-1)),s0=Bt(()=>h("br",null,null,-1)),i0={class:"bottom-buttons-wrapper"},o0=re({__name:"StartTaskView",setup(t){const e=je(()=>_s().params.task.toString()).value,n=e.charAt(0).toUpperCase()+e.slice(1).replace(/[^0-9](?=[0-9])/g,"$& "),s={task1:"Your first task is to create an account and sign up for the social media app.",task2:"Your second task is to leave a nice comment on a video."},i={task1:"/entry",task2:"/home"},o=j(!1),r=()=>{ie.push(i[e]),He().startCurrentTask()};return(l,a)=>(E(),x("div",{id:"start-"+g(e)+"-view",class:"left-right-padding bottom-buttons-page"},[h("div",Wg,[h("h1",{class:"title"},pe(n)),h("div",qg,[h("p",zg,[h("em",null,pe(s[g(e)]),1),Gg,Kg,$(" During the task you will find two icons at the top corners of your screen: "),Yg,Qg,b(no,{name:"question",class:"text-svg-icon",opacity:1}),$(": Reminder for the task. "),Zg,Jg,b(no,{name:"warning",class:"text-svg-icon",opacity:1}),$(": Options if you get stuck or don't want to continue. "),Xg,e0,$(" Once the task is finished, please fill out the "),t0,$(" that will be presented to you. "),n0,s0,$(" Press "),h("em",null,"Start "+pe(n)),$(" to begin. ")])]),b(fn,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=c=>o.value=c),required:!0},{default:A(()=>[$("I understand what I have to do and I'm ready to start ")]),_:1},8,["modelValue"])]),h("div",i0,[b(Q,{disabled:!o.value,onClick:r},{default:A(()=>[$("Start "+pe(n))]),_:1},8,["disabled"])])],8,jg))}});const r0=ye(o0,[["__scopeId","data-v-745a663a"]]),l0={width:"289",height:"280",viewBox:"0 0 289 280",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a0=["fill"],c0=["stroke"],u0=["fill","stroke"],d0=["fill","stroke"],h0=["stroke"],f0=h("ellipse",{cx:"174",cy:"128",rx:"7",ry:"10",fill:"#0647A4"},null,-1),p0=h("ellipse",{cx:"114",cy:"128",rx:"7",ry:"10",fill:"#0647A4"},null,-1),_0=h("path",{d:"M134 143V143C136.531 153.502 151.469 153.502 154 143V143",stroke:"#0647A4","stroke-width":"6","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),m0=re({__name:"EarthSvg",setup(t){return(e,n)=>(E(),x("svg",l0,[h("path",{d:"M255.144 55C267.144 64.5 282.501 111 284.501 122.5L283.814 133.826C284.647 134.779 284.955 135.79 284.501 136.859C284.286 137.365 283.963 137.77 283.556 138.089L281.5 172C276.5 175.092 256.214 234.288 245.5 230.5C224.073 222.924 245.501 196.867 238.43 184.184C231.358 171.501 214.43 187.97 202.216 176.99C190.002 166.011 199.001 154.842 202.216 145.378C205.43 135.913 227.93 135.534 232.644 130.802C237.358 126.069 241.215 136.48 255.144 139.888C266.286 142.614 264.858 137.806 267.144 137.427C267.144 135.995 279.528 141.236 283.556 138.089L283.814 133.826C279.929 129.378 264.61 126.169 261.786 123.987C252.084 116.487 252.787 117.172 248.072 115.09C244.392 113.464 249.357 128.204 245.5 126.5C240.786 115.521 235.357 119.486 228.5 121C221.643 122.514 216.929 119.85 215.5 122.5C210.5 128.5 207.914 131.372 199 118.5C187.857 102.41 211.216 114.522 220.858 106.571C230.501 98.6208 237.144 99.7566 240.787 99.7566C245.12 99.7566 262.644 91.6168 264.144 88.7773C265.644 85.9379 258.787 84.2342 254.072 76.0944C250.301 69.5825 243.144 80.0696 241.43 88.2095C238.644 91.6168 236.287 92.8283 225.144 91.6168C211.216 90.1024 213.358 83.6663 230.501 76.0944C247.644 68.5225 245.903 47.6846 255.144 55Z",fill:g(Pe)},null,8,a0),h("path",{d:"M284.501 122.5C282.501 111 267.144 64.5 255.144 55C245.903 47.6846 247.644 68.5225 230.501 76.0944C213.358 83.6663 211.216 90.1024 225.144 91.6168C236.287 92.8283 238.644 91.6168 241.43 88.2095C243.144 80.0696 250.301 69.5825 254.072 76.0944C258.787 84.2342 265.644 85.9379 264.144 88.7773C262.644 91.6168 245.12 99.7566 240.787 99.7566C237.144 99.7566 230.501 98.6209 220.858 106.571C211.216 114.522 187.857 102.41 199 118.5C207.914 131.372 210.5 128.5 215.5 122.5C216.929 119.85 221.643 122.514 228.5 121C235.357 119.486 240.786 115.521 245.5 126.5C249.357 128.204 244.392 113.464 248.072 115.09C252.787 117.172 252.084 116.487 261.786 123.987C265.215 126.637 287.072 130.802 284.501 136.859C282.163 142.365 267.144 135.849 267.144 137.427C264.858 137.806 266.286 142.614 255.144 139.888C241.215 136.48 237.358 126.069 232.644 130.802C227.93 135.534 205.43 135.913 202.216 145.378C199.001 154.842 190.002 166.011 202.216 176.99C214.43 187.97 231.358 171.501 238.43 184.184C245.501 196.867 224.073 222.924 245.5 230.5C256.214 234.288 276.5 175.092 281.5 172L284.501 122.5Z",stroke:g(Pe),"stroke-width":"6","stroke-linejoin":"round"},null,8,c0),h("path",{d:"M64.1192 66.762C60.2696 63.9314 90.4438 41.4983 86.1476 37.7012C84.2228 36 75.9836 38.5159 68.8243 37.7012C64.5589 37.2158 58.3691 32.5 55.1368 32.5C51.5 32.5 20.0001 72 17.5 77.5C12.002 89.5954 2.31155 117.524 8.29984 117.524C14.2881 117.524 10.2246 137.149 15.5713 144.698C20.918 152.246 29.4727 153.001 40.166 154.51C51.9714 156.177 55.1368 160.738 55.1368 163.002C55.1368 165.267 49.3624 190.742 61.9805 200.177C74.5987 209.613 75.6681 207.914 75.6681 214.141C75.6681 218.874 75.1471 253.821 78 260C82.0635 258.49 97.9958 273.395 97.4826 271.131C96.841 268.3 94.0607 261.129 99.8351 242.259C105.61 223.388 127.606 221.098 133.412 211.877C139.828 201.687 152.706 186.484 138.759 181.684C128.278 178.077 120.153 182.628 107.107 166.399C92.4513 158.834 86.5778 155.372 80.1593 154.51C73.995 153.683 70.5352 156.02 65.1886 157.907C59.8419 159.794 61.9805 151.868 55.1368 149.415C48.293 146.962 49.7901 138.093 40.166 142.811C30.542 147.528 25.3514 134.723 35.461 128.28C39.3106 125.827 49.5762 127.337 57.0616 134.319C64.5469 141.301 70.3214 134.319 67.1133 128.28C63.9053 122.242 80.8767 120.347 84.2228 111.674C87.6447 102.805 101.546 107.334 110.101 102.239C118.655 97.1437 99.8351 92.8034 110.101 89.5954C120.366 86.3874 106.037 76.5747 106.037 69.2151C106.037 61.8459 95.13 59.5911 89.3556 55.4396C83.5812 51.2881 87.6447 70.3474 80.1593 73.5554C73.6063 76.3638 73.5294 80.9149 68.8243 80.1601C66.5431 81.2294 69.9257 71.0314 64.1192 66.762Z",fill:g(Pe),stroke:g(Pe),"stroke-linejoin":"round"},null,8,u0),h("path",{d:"M112.5 8.5C128 7 136.356 9.51763 142.774 3C160.248 4.24145 161 6.5 173.5 6.5C183.054 6.5 170.59 12.0705 167.38 33.2994C164.171 54.5282 157.752 39.4446 142.774 43.1689C127.797 46.8933 141.346 78.5824 129 68C125.5 65 130.695 43.6632 125 31C118.028 15.4964 105.188 9.20765 112.5 8.5Z",fill:g(Pe),stroke:g(Pe),"stroke-width":"6","stroke-linejoin":"round"},null,8,d0),h("path",{d:"M286 140C286 215.574 222.738 277 144.5 277C66.2615 277 3 215.574 3 140C3 64.4258 66.2615 3 144.5 3C222.738 3 286 64.4258 286 140Z",stroke:g(Pe),"stroke-width":"6"},null,8,h0),f0,p0,_0]))}}),Bd=t=>(st("data-v-ec3c00ae"),t=t(),it(),t),g0={id:"entry-view",class:"left-right-padding scroll-style"},v0={class:"earth-wrapper"},y0=Bd(()=>h("div",{class:"description-wrapper"},[h("p",{class:"description"},[h("em",null,"Connection"),$(" is key! Sign up and "),h("em",null,"connect"),$(" with people all over the world! ")])],-1)),C0={key:0,class:"bottom-buttons-wrapper dark-pattern"},b0={key:1,class:"bottom-buttons-wrapper"},w0=Bd(()=>h("p",null," With the premium version you get access to a lot more features. You sure that you want to continue? ",-1)),k0=re({__name:"EntryView",setup(t){const e=j(!1);return ot(()=>{Vt("entry-view")}),(n,s)=>(E(),x(Re,null,[h("div",g0,[h("div",v0,[b(m0,{class:"icon"})]),y0,g(S).darkPatterns?(E(),x("div",C0,[b(Q,{class:"b-button","button-style":"highlight",onClick:s[0]||(s[0]=i=>g(ie).push("/premium"))},{default:A(()=>[$("Get started ")]),_:1}),b(Q,{class:"b-button","button-style":"subtle",onClick:s[1]||(s[1]=i=>e.value=!0)},{default:A(()=>[$("Try out basic version")]),_:1}),b(Q,{class:"b-button",onClick:s[2]||(s[2]=i=>g(ie).push("/sign-in"))},{default:A(()=>[$("Sign in")]),_:1})])):(E(),x("div",b0,[b(Q,{class:"b-button",onClick:s[3]||(s[3]=i=>g(ie).push("/premium"))},{default:A(()=>[$(" Sign up to premium")]),_:1}),b(Q,{class:"b-button",onClick:s[4]||(s[4]=i=>g(ie).push("/sign-up"))},{default:A(()=>[$("Sign up to basic version")]),_:1}),b(Q,{class:"b-button",onClick:s[5]||(s[5]=i=>g(ie).push("/sign-in"))},{default:A(()=>[$("Sign in")]),_:1})]))]),b(_t,{popupId:"continue-without-premium-1",class:"dark-pattern",open:e.value,onClose:s[8]||(s[8]=i=>e.value=!1)},{content:A(()=>[w0]),buttons:A(()=>[b(Q,{size:"small","button-style":"subtle",onClick:s[6]||(s[6]=i=>g(ie).push("/sign-up"))},{default:A(()=>[$("Continue ")]),_:1}),b(Q,{size:"small",onClick:s[7]||(s[7]=i=>g(ie).push("/premium"))},{default:A(()=>[$("See options")]),_:1})]),_:1},8,["open"])],64))}});const E0=ye(k0,[["__scopeId","data-v-ec3c00ae"]]),S0={key:0,width:"60",height:"40",viewBox:"0 0 60 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},x0=ks('<path fill-rule="evenodd" clip-rule="evenodd" d="M38.8565 17.6764L57.802 12.6199C58.6602 12.3908 59.522 12.982 59.8518 14.0239C60.1816 15.065 59.8832 16.2603 59.1442 16.8635L58.3794 17.4879C53.1908 21.7214 49.6169 28.4581 48.405 36.0806C48.0503 38.3364 46.1068 39.9981 43.8233 39.9981C36.8936 40 23.0922 40 16.1624 40C13.8781 40 11.9336 38.3373 11.5789 36.0806C10.3679 28.4581 6.79495 21.7214 1.6064 17.4879L0.840626 16.8635C0.101647 16.2603 -0.19579 15.065 0.133055 14.0239C0.462824 12.982 1.32558 12.3908 2.18372 12.6199L21.1293 17.6764C21.8442 10.2838 25.0265 3.92953 29.5232 0.169049C29.7957 -0.0563396 30.1892 -0.0563396 30.4626 0.169049C34.9593 3.92953 38.1406 10.2838 38.8565 17.6764Z" fill="url(#paint0_linear_652_837)"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M30.5983 17.306C33.145 14.7519 33.145 10.6191 30.5983 8.06505C30.5937 8.06043 30.5891 8.0558 30.5845 8.05118C30.4283 7.89415 30.215 7.80548 29.9923 7.80548C29.7706 7.80548 29.5573 7.89415 29.4002 8.05118C29.3956 8.0558 29.391 8.06043 29.3864 8.06505C26.8406 10.6191 26.8406 14.7519 29.3864 17.306C29.391 17.3106 29.3956 17.3152 29.4002 17.3198C29.5573 17.4769 29.7706 17.5656 29.9923 17.5656C30.215 17.5656 30.4283 17.4769 30.5845 17.3198C30.5891 17.3152 30.5937 17.3106 30.5983 17.306Z" fill="url(#paint1_radial_652_837)"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M50.1232 28.616C53.613 27.6775 55.685 24.0907 54.752 20.599C54.7492 20.5907 54.7474 20.5824 54.7455 20.5741C54.6883 20.3626 54.5506 20.1824 54.3613 20.0725C54.171 19.9635 53.9465 19.9339 53.735 19.9903C53.7322 19.9912 53.7304 19.9912 53.7285 19.9921C50.2387 20.9306 48.1677 24.5174 49.0997 28.0091C49.1025 28.0174 49.1044 28.0258 49.1071 28.0341C49.1635 28.2456 49.3011 28.4257 49.4914 28.5347C49.6808 28.6446 49.9061 28.6742 50.1168 28.6169C50.1195 28.6169 50.1214 28.616 50.1232 28.616Z" fill="url(#paint2_radial_652_837)"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M9.86176 28.9846C6.37193 28.0461 4.30094 24.4593 5.23391 20.9676C5.23575 20.9593 5.23852 20.951 5.24037 20.9427C5.29672 20.7311 5.43527 20.551 5.62464 20.4411C5.814 20.3321 6.03939 20.3025 6.25092 20.3589C6.25277 20.3598 6.25462 20.3607 6.25739 20.3607C9.74722 21.2992 11.8182 24.8861 10.8852 28.3777C10.8834 28.386 10.8806 28.3943 10.8788 28.4026C10.8224 28.6142 10.6839 28.7943 10.4945 28.9042C10.3051 29.0132 10.0798 29.0428 9.86822 28.9865C9.86638 28.9855 9.86453 28.9846 9.86176 28.9846Z" fill="url(#paint3_radial_652_837)"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M33.6069 34.7985C36.2839 32.1142 36.2839 27.769 33.6069 25.0837C32.541 24.015 31.5286 22.9989 30.8478 22.3162C30.6215 22.089 30.3139 21.9615 29.9924 21.9615C29.6719 21.9615 29.3643 22.089 29.137 22.3162C28.4572 22.9989 27.4439 24.015 26.3788 25.0837C23.7019 27.769 23.7019 32.1142 26.3788 34.7985C27.4439 35.8682 28.4572 36.8834 29.137 37.566C29.3643 37.7932 29.6719 37.9216 29.9924 37.9216C30.3139 37.9216 30.6215 37.7932 30.8478 37.566C31.5286 36.8834 32.541 35.8682 33.6069 34.7985Z" fill="url(#paint4_radial_652_837)"></path><defs><linearGradient id="paint0_linear_652_837" x1="-29.3669" y1="37.9216" x2="117.465" y2="34.5308" gradientUnits="userSpaceOnUse"><stop stop-color="#FFAF41"></stop><stop offset="0.104227" stop-color="#D07234"></stop><stop offset="0.202587" stop-color="#FDAF32"></stop><stop offset="0.340832" stop-color="#FFE600"></stop><stop offset="0.593406" stop-color="#DC8700"></stop><stop offset="0.815793" stop-color="#FFBE58"></stop><stop offset="0.908181" stop-color="#FF7616"></stop><stop offset="1" stop-color="#FF5E00"></stop></linearGradient><radialGradient id="paint1_radial_652_837" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(30.868 10.706) scale(12.3323 12.3324)"><stop stop-color="#D8D8D8"></stop><stop offset="0.181152" stop-color="#FF1179"></stop><stop offset="0.302256" stop-color="#FE2E4C"></stop><stop offset="1" stop-color="#401238"></stop></radialGradient><radialGradient id="paint2_radial_652_837" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(54.9755 22.294) scale(10.6878 10.6879)"><stop stop-color="#D8D8D8"></stop><stop offset="0.181152" stop-color="#FF1179"></stop><stop offset="0.302256" stop-color="#FE2E4C"></stop><stop offset="1" stop-color="#401238"></stop></radialGradient><radialGradient id="paint3_radial_652_837" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(7.39819 21.9615) scale(11.6796)"><stop stop-color="#D8D8D8"></stop><stop offset="0.181152" stop-color="#FF1179"></stop><stop offset="0.302256" stop-color="#FE2E4C"></stop><stop offset="1" stop-color="#401238"></stop></radialGradient><radialGradient id="paint4_radial_652_837" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(31.511 26.703) scale(13.8522 13.8522)"><stop stop-color="#D8D8D8"></stop><stop offset="0.181152" stop-color="#FF1179"></stop><stop offset="0.302256" stop-color="#FE2E4C"></stop><stop offset="1" stop-color="#401238"></stop></radialGradient></defs>',6),I0=[x0],T0={key:1,width:"60",height:"40",viewBox:"0 0 60 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},P0=ks('<path fill-rule="evenodd" clip-rule="evenodd" d="M38.8565 17.6764L57.802 12.6199C58.6602 12.3908 59.522 12.982 59.8518 14.0239C60.1816 15.065 59.8832 16.2603 59.1442 16.8635L58.3794 17.4879C53.1908 21.7214 49.6169 28.4581 48.405 36.0806C48.0503 38.3364 46.1068 39.9981 43.8233 39.9981C36.8936 40 23.0922 40 16.1624 40C13.8781 40 11.9336 38.3373 11.5789 36.0806C10.3679 28.4581 6.79495 21.7214 1.6064 17.4879L0.840626 16.8635C0.101647 16.2603 -0.19579 15.065 0.133055 14.0239C0.462824 12.982 1.32558 12.3908 2.18372 12.6199L21.1293 17.6764C21.8442 10.2838 25.0265 3.92953 29.5232 0.169049C29.7957 -0.0563396 30.1892 -0.0563396 30.4626 0.169049C34.9593 3.92953 38.1406 10.2838 38.8565 17.6764Z" fill="url(#paint0_linear_652_837)"></path><defs><linearGradient id="paint0_linear_652_837" x1="-29.3669" y1="37.9216" x2="117.465" y2="34.5308" gradientUnits="userSpaceOnUse"><stop stop-color="#FFAF41"></stop><stop offset="0.104227" stop-color="#D07234"></stop><stop offset="0.202587" stop-color="#FDAF32"></stop><stop offset="0.340832" stop-color="#FFE600"></stop><stop offset="0.593406" stop-color="#DC8700"></stop><stop offset="0.815793" stop-color="#FFBE58"></stop><stop offset="0.908181" stop-color="#FF7616"></stop><stop offset="1" stop-color="#FF5E00"></stop></linearGradient></defs>',2),N0=[P0],Hr=re({__name:"CrownSvg",props:{simplified:{type:Boolean,default:!1}},setup(t){return(e,n)=>t.simplified?(E(),x("svg",T0,N0)):(E(),x("svg",S0,I0))}}),R0={width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},A0=["fill"],$0=["stroke"],D0=re({__name:"CheckedSvg",setup(t){return(e,n)=>(E(),x("svg",R0,[h("circle",{cx:"15",cy:"15",r:"15",fill:g(Pe)},null,8,A0),h("path",{d:"M6 17.5L13 22.5L23 7",stroke:g($e),"stroke-width":"4"},null,8,$0)]))}}),Fo=t=>(st("data-v-caf45a98"),t=t(),it(),t),O0={id:"premium-view",class:"left-right-padding scroll-style"},M0={class:"header-wrapper"},L0={class:"centered-svg"},F0=Fo(()=>h("h3",null,"Go Premium",-1)),V0={key:0,class:"description dark-pattern"},B0={key:1,class:"description"},U0={key:2,class:"feature-list dark-pattern"},H0={class:"feature-label"},j0={class:"offer-box"},W0={key:0,class:"best-value-box dark-pattern"},q0=Fo(()=>h("label",null,"Best value!",-1)),z0=[q0],G0={class:"offer-row"},K0=ks('<div class="offer-header" data-v-caf45a98><label class="offer-title" data-v-caf45a98>MONTHLY PLAN</label></div><div class="offer-main1" data-v-caf45a98><label class="offer-price" data-v-caf45a98>2.99€</label></div><div class="offer-main2" data-v-caf45a98></div><div class="offer-footer" data-v-caf45a98></div>',4),Y0=[K0],Q0=ks('<div class="offer-header" data-v-caf45a98><label class="offer-title" data-v-caf45a98>ANNUAL PLAN</label></div><div class="offer-main1" data-v-caf45a98><label class="offer-now" data-v-caf45a98>NOW</label><label class="offer-price" data-v-caf45a98>30.50€</label></div><div class="offer-main2" data-v-caf45a98><label class="offer-before" data-v-caf45a98>Before</label><label class="offer-discount" data-v-caf45a98>35.88€</label></div>',3),Z0={class:"offer-footer"},J0=Fo(()=>h("div",{class:"offer-note"},[h("label",null,"15% off!")],-1)),X0={key:0,class:"offer-note dark-pattern"},e2=Fo(()=>h("label",null,"Limited time offer",-1)),t2=[e2],n2={key:0,class:"bottom-wrapper bottom-label-wrapper dark-pattern"},s2={key:1,class:"bottom-wrapper bottom-buttons-wrapper"},i2=re({__name:"PremiumView",setup(t){const e=["Have fun in an ad-free experience","Unlimited posts and comments","Download option for videos and photos"],n=s=>{S.premiumStatus=s,ie.push("/payment")};return ot(()=>{Vt("premium-view")}),(s,i)=>(E(),x("div",O0,[h("div",M0,[h("div",L0,[b(Hr)]),F0,g(S).darkPatterns?(E(),x("p",V0,"Get premium now with our limited time offer! Unlock all features and maximize your social life!")):(E(),x("p",B0,"You can get premium for additional benefits. Premium removes ads, offers unlimited posting and commenting, and allows you to download videos and photos as an option. ")),g(S).darkPatterns?(E(),x("div",U0,[(E(),x(Re,null,Ot(e,(o,r)=>h("div",{key:r,class:"feature"},[b(D0,{class:"checked-icon",name:"checked"}),h("div",H0,pe(o),1)])),64))])):Ee("",!0)]),h("div",j0,[g(S).darkPatterns?(E(),x("div",W0,z0)):Ee("",!0),h("div",G0,[h("div",{class:"offer-left offer interact-node",onClick:i[0]||(i[0]=o=>n(g(It).Monthly))},Y0),h("div",{class:Ie(["offer-right offer interact-node",{"dp-offer dark-pattern":g(S).darkPatterns}]),onClick:i[1]||(i[1]=o=>n(g(It).Annually))},[Q0,h("div",Z0,[J0,g(S).darkPatterns?(E(),x("div",X0,t2)):Ee("",!0)])],2)])]),g(S).darkPatterns?(E(),x("div",n2,[h("label",{class:"go-back-text interact-node",onClick:i[2]||(i[2]=o=>g(ie).push("/entry"))},"Go back"),h("label",{class:"continue-without-premium interact-node",onClick:i[3]||(i[3]=o=>g(ie).push("/sign-up"))},"Continue without premium")])):(E(),x("div",s2,[b(Q,{class:"b-button",onClick:i[4]||(i[4]=o=>g(ie).push("/sign-up"))},{default:A(()=>[$("Continue without premium ")]),_:1}),b(Q,{class:"b-button",onClick:i[5]||(i[5]=o=>g(ie).push("/entry"))},{default:A(()=>[$("Go back")]),_:1})]))]))}});const o2=ye(i2,[["__scopeId","data-v-caf45a98"]]);const r2={},l2=t=>(st("data-v-7b4c412d"),t=t(),it(),t),a2=l2(()=>h("summary",{class:"interact-node"},null,-1));function c2(t,e){return E(),x("details",null,[a2,ds(t.$slots,"default",{},void 0,!0)])}const u2=ye(r2,[["render",c2],["__scopeId","data-v-7b4c412d"]]),we=Ed("user",()=>{const t=sessionStorage.getItem("user"),e=j(t?JSON.parse(t):zt(rc)),n=()=>e.value,s=()=>n().email,i=C=>{n().email=C},o=()=>{e.value=zt(rc)},r=C=>{n().checks.updatesChecked=C,He().updateChecks(n().checks)},l=C=>{n().checks.contactsChecked=C,He().updateChecks(n().checks)},a=C=>{n().checks.personalDataChecked=C,He().updateChecks(n().checks)},c=C=>{n().premiumStatus=C,He().updatePremiumStatus(n().premiumStatus)},u=C=>{n().data=C,He().updateDataEntered(n().data)},d=C=>{n().data.profilePicture=C,He().updateDataEntered(n().data)},f=()=>n().checks.updatesChecked,p=()=>n().checks.contactsChecked,v=()=>n().checks.personalDataChecked,w=()=>n().premiumStatus,P=()=>n().data.profilePicture,N=()=>n().data,L=()=>{const C=n().data;let k=C.firstName!=""&&C.lastName!=""&&C.birthday!="";return S.darkPatterns&&(k=k&&C.gender!=""&&C.phone!=""),k};return nt(e,C=>{sessionStorage.setItem("user",JSON.stringify(C))},{deep:!0}),{getEmail:s,setEmail:i,resetUser:o,setUpdatesChecked:r,getUpdatesChecked:f,setContactsChecked:l,getContactsChecked:p,setPersonalDataChecked:a,getPersonalDataChecked:v,setPremiumStatus:c,getPremiumStatus:w,setUserData:u,getUserData:N,setProfilePicture:d,getProfilePicture:P,isProfileValid:L}}),d2={class:"text-field-wrapper"},h2={class:"name-row"},f2={class:"required-asterix"},p2=["name","placeholder","required","value","type","valid","disabled"],_2={key:0,class:"hint-label"},m2=re({__name:"MyInput2",props:{name:{type:String,default:"text"},inputType:{type:String,default:"text"},disabled:{type:Boolean,default:!1},valid:{type:Boolean,default:!0},hint:{type:String,default:""},required:{type:Boolean,default:!1},startValue:{type:String,default:""},modelValue:{type:String,default:null}},emits:["update:modelValue","inputFocus"],setup(t,{emit:e}){const{name:n,inputType:s,disabled:i,valid:o,hint:r,required:l,startValue:a,modelValue:c}=t,u=j(a.length>0?a:c),d=f=>{u.value=f.target.value,e("update:modelValue",u.value)};return(f,p)=>(E(),x("div",d2,[h("div",h2,[h("label",{class:Ie(["name-label small",{invalid:!t.valid}])},[$(pe(t.name),1),h("em",f2,pe(t.required?"*":""),1)],2)]),h("input",{name:t.name,class:Ie(["text-field interact-node",{invalid:!t.valid}]),placeholder:`${t.name}...`,required:t.required,value:u.value,type:t.inputType,valid:t.valid,onInput:d,onFocus:p[0]||(p[0]=v=>e("inputFocus")),disabled:t.disabled,ref:"inputRef"},null,42,p2),t.valid?Ee("",!0):(E(),x("label",_2,pe(t.hint),1))]))}});const Ks=ye(m2,[["__scopeId","data-v-4d31b9e8"]]),Ud=t=>(st("data-v-07aa5494"),t=t(),it(),t),g2=["id"],v2={class:"top-wrapper scroll-style top-bottom-padding"},y2={class:"title-wrapper"},C2=Ud(()=>h("h1",{class:"title"},"Sign up",-1)),b2={key:0,class:"version"},w2={key:1,class:"version"},k2={key:2,class:"description"},E2={class:"input-wrapper"},S2={class:"checkbox-wrapper"},x2={key:0,class:"details-wrapper dark-pattern"},I2={key:0,class:"bottom-buttons-wrapper dark-pattern"},T2={key:1,class:"bottom-buttons-wrapper"},P2={key:2,class:"bottom-buttons-wrapper"},N2=Ud(()=>h("p",null," You sure you want to continue without premium? ",-1)),R2=re({__name:"SignUpView",setup(t){const e=j(!1),n=j(we().getEmail()),s=j(""),i=j(""),o=j(!1),r=j(!!S.darkPatterns),l=j(!!S.darkPatterns),a=j(!0),c=j(!0),u=j(!0),d=j(!0),f=()=>{a.value=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.value)},p=()=>{c.value=s.value.length>=5},v=()=>{u.value=s.value===i.value},w=()=>{d.value=o.value},P=()=>{we().setEmail(n.value),ie.push("/premium")},N=()=>{f(),p(),v(),w(),a.value&&c.value&&u.value&&d.value&&(S.darkPatterns&&S.premiumStatus=="Basic"?e.value=!0:L())},L=()=>{we().setEmail(n.value),we().setUpdatesChecked(r.value),we().setContactsChecked(l.value),we().setPremiumStatus(S.premiumStatus),He().finishCurrentTask()},C=()=>{S.premiumStatus=It.Basic,ie.push("/entry")};return ot(()=>{Vt("sign-up-view-"+(S.premiumStatus==It.Basic?"basic":"premium"))}),(k,D)=>(E(),x(Re,null,[h("div",{id:"sign-up-view-"+(g(S).premiumStatus==g(It).Basic?"basic":"premium"),class:"left-right-padding bottom-buttons-page"},[h("div",v2,[h("div",y2,[C2,g(S).premiumStatus=="Basic"?(E(),x("label",b2,"Basic version")):(E(),x("label",w2,"Premium version")),g(S).premiumStatus=="Basic"?(E(),x("p",k2," You can sign up for free now or look at the premium options to get additional benefits. ")):Ee("",!0)]),h("div",E2,[b(Ks,{class:"b-input",name:"Email","input-type":"email",modelValue:n.value,"onUpdate:modelValue":D[0]||(D[0]=G=>n.value=G),valid:a.value,required:!0,hint:"Please enter a valid email adress",onInputFocus:D[1]||(D[1]=G=>a.value=!0)},null,8,["modelValue","valid"]),b(Ks,{class:"b-input",name:"Password","input-type":"password",modelValue:s.value,"onUpdate:modelValue":D[2]||(D[2]=G=>s.value=G),valid:c.value,required:!0,hint:"Password must have at least 5 symbols",onInputFocus:D[3]||(D[3]=G=>c.value=!0)},null,8,["modelValue","valid"]),b(Ks,{class:"b-input",name:"Confirm password","input-type":"password",modelValue:i.value,"onUpdate:modelValue":D[4]||(D[4]=G=>i.value=G),valid:u.value,required:!0,hint:"Passwords must be equal",onInputFocus:D[5]||(D[5]=G=>u.value=!0)},null,8,["modelValue","valid"])]),h("div",S2,[b(fn,{class:"checkbox",modelValue:o.value,"onUpdate:modelValue":D[6]||(D[6]=G=>o.value=G),valid:d.value,onValueUpdated:D[7]||(D[7]=G=>d.value=!0),required:!0},{default:A(()=>[$(" I agree to the terms and conditions ")]),_:1},8,["modelValue","valid"]),g(S).darkPatterns?Ee("",!0):(E(),bt(fn,{key:0,class:"checkbox",modelValue:r.value,"onUpdate:modelValue":D[8]||(D[8]=G=>r.value=G)},{default:A(()=>[$(" By signing up with your email you consent to receiving updates from our selected partners ")]),_:1},8,["modelValue"])),g(S).darkPatterns?Ee("",!0):(E(),bt(fn,{key:1,class:"checkbox",modelValue:l.value,"onUpdate:modelValue":D[9]||(D[9]=G=>l.value=G)},{default:A(()=>[$(" Upload contacts from phone ")]),_:1},8,["modelValue"]))]),g(S).darkPatterns?(E(),x("div",x2,[b(u2,null,{default:A(()=>[b(fn,{class:"checkbox",modelValue:r.value,"onUpdate:modelValue":D[10]||(D[10]=G=>r.value=G)},{default:A(()=>[$(" By signing up with your email you consent to receiving updates from our selected partners ")]),_:1},8,["modelValue"]),b(fn,{class:"checkbox",modelValue:l.value,"onUpdate:modelValue":D[11]||(D[11]=G=>l.value=G)},{default:A(()=>[$(" Upload contacts from phone ")]),_:1},8,["modelValue"])]),_:1})])):Ee("",!0)]),g(S).darkPatterns&&g(S).premiumStatus=="Basic"?(E(),x("div",I2,[b(Q,{class:"b-button",onClick:D[12]||(D[12]=G=>P())},{default:A(()=>[$("See premium options")]),_:1}),b(Q,{class:"b-button","button-style":"subtle",onClick:N},{default:A(()=>[$("Sign up to basic version ")]),_:1}),b(Q,{class:"b-button","button-style":"subtle",onClick:D[13]||(D[13]=G=>g(ie).push("/entry"))},{default:A(()=>[$("Go back ")]),_:1})])):!g(S).darkPatterns&&g(S).premiumStatus=="Basic"?(E(),x("div",T2,[b(Q,{class:"b-button",onClick:N},{default:A(()=>[$("Sign up to basic version ")]),_:1}),b(Q,{class:"b-button",onClick:D[14]||(D[14]=G=>P())},{default:A(()=>[$("See premium options")]),_:1}),b(Q,{class:"b-button",onClick:D[15]||(D[15]=G=>g(ie).push("/entry"))},{default:A(()=>[$("Go back ")]),_:1})])):g(S).premiumStatus!="Basic"?(E(),x("div",P2,[b(Q,{class:"b-button",onClick:N},{default:A(()=>[$("Sign up to premium")]),_:1}),b(Q,{class:Ie(["b-button",{"dark-pattern":g(S).darkPatterns}]),"button-style":g(S).darkPatterns?"subtle":"neutral",onClick:C},{default:A(()=>[$("Go back ")]),_:1},8,["class","button-style"])])):Ee("",!0)],8,g2),b(_t,{popupId:"continue-without-premium-2",class:"dark-pattern",open:e.value,onClose:D[18]||(D[18]=G=>e.value=!1)},{content:A(()=>[N2]),buttons:A(()=>[b(Q,{size:"small","button-style":"subtle",onClick:D[16]||(D[16]=G=>L())},{default:A(()=>[$("Continue")]),_:1}),b(Q,{size:"small",onClick:D[17]||(D[17]=G=>P())},{default:A(()=>[$("See options")]),_:1})]),_:1},8,["open"])],64))}});const A2=ye(R2,[["__scopeId","data-v-07aa5494"]]),Vo=t=>(st("data-v-51cc5d5a"),t=t(),it(),t),$2={id:"sign-in-view",class:"left-right-padding bottom-buttons-page"},D2={class:"top-wrapper scroll-style top-bottom-padding"},O2=Vo(()=>h("h1",null,"Sign in",-1)),M2=Vo(()=>h("p",{class:"description"}," Enter your email and password to sign in or create a new account ",-1)),L2={class:"input-wrapper"},F2={key:0,class:"bottom-buttons-wrapper dark-pattern"},V2={key:1,class:"bottom-buttons-wrapper"},B2=Vo(()=>h("p",null," This acccount doesn't exist. Do you want to sign up?",-1)),U2=Vo(()=>h("p",null," This acccount doesn't exist. Do you want to sign up?",-1)),H2=re({__name:"SignInView",setup(t){const e=j(""),n=j(""),s=j(!1),i=j(!1),o=()=>{we().setEmail(e.value),ie.push("/sign-up")},r=()=>{we().setEmail(e.value),ie.push("/premium")};return ot(()=>{Vt("sign-in-view")}),(l,a)=>(E(),x(Re,null,[h("div",$2,[h("div",D2,[O2,M2,h("div",L2,[b(Ks,{class:"b-input",name:"Email","input-type":"email",modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=c=>e.value=c),required:!0,hint:"Please enter a valid email adress"},null,8,["modelValue"]),b(Ks,{class:"b-input",name:"Password","input-type":"password",modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=c=>n.value=c),required:!0,hint:"Password must have at least 5 symbols"},null,8,["modelValue"])])]),g(S).darkPatterns?(E(),x("div",F2,[b(Q,{class:"b-button",onClick:a[2]||(a[2]=c=>s.value=!0)},{default:A(()=>[$("Sign in")]),_:1}),b(Q,{class:"b-button","button-style":g(S).darkPatterns?"subtle":"neutral",onClick:a[3]||(a[3]=c=>g(ie).push("/entry"))},{default:A(()=>[$("Go back ")]),_:1},8,["button-style"])])):Ee("",!0),g(S).darkPatterns?Ee("",!0):(E(),x("div",V2,[b(Q,{class:"b-button",onClick:a[4]||(a[4]=c=>i.value=!0)},{default:A(()=>[$("Sign in")]),_:1}),b(Q,{class:"b-button",onClick:a[5]||(a[5]=c=>g(ie).push("/entry"))},{default:A(()=>[$("Go back ")]),_:1})]))]),b(_t,{popupId:"no-account",open:i.value,onClose:a[7]||(a[7]=c=>i.value=!1),vertical:!0},{content:A(()=>[B2]),buttons:A(()=>[b(Q,{size:"small",onClick:o},{default:A(()=>[$("Sign up ")]),_:1}),b(Q,{size:"small",onClick:r},{default:A(()=>[$("See premium options ")]),_:1}),b(Q,{size:"small",onClick:a[6]||(a[6]=c=>i.value=!1)},{default:A(()=>[$("Cancel")]),_:1})]),_:1},8,["open"]),b(_t,{popupId:"no-account",class:"dark-pattern",open:s.value,onClose:a[9]||(a[9]=c=>s.value=!1)},{content:A(()=>[U2]),buttons:A(()=>[b(Q,{size:"small","button-style":"subtle",onClick:a[8]||(a[8]=c=>s.value=!1)},{default:A(()=>[$("Cancel ")]),_:1}),b(Q,{size:"small",onClick:r},{default:A(()=>[$("Sign up ")]),_:1})]),_:1},8,["open"])],64))}});const j2=ye(H2,[["__scopeId","data-v-51cc5d5a"]]),W2={class:"text-field-wrapper"},q2={key:0,class:"name-row"},z2={class:"name-label small bold"},G2=["name","placeholder","value","type","disabled"],K2=re({__name:"MyInput3",props:{name:{type:String,default:"text"},showName:{type:Boolean,default:!0},inputType:{type:String,default:"text"},disabled:{type:Boolean,default:!1},startValue:{type:String,default:""},modelValue:{type:String,default:null}},emits:["update:modelValue","inputFocus"],setup(t,{emit:e}){const{name:n,showName:s,inputType:i,disabled:o,startValue:r,modelValue:l}=t,a=j(r.length>0?r:l),c=u=>{a.value=u.target.value,e("update:modelValue",a.value)};return(u,d)=>(E(),x("div",W2,[t.showName?(E(),x("div",q2,[h("label",z2,pe(t.name),1)])):Ee("",!0),h("input",{name:t.name,class:"text-field interact-node",placeholder:`${t.name}...`,value:a.value,type:t.inputType,onInput:c,disabled:t.disabled},null,40,G2)]))}});const Bs=ye(K2,[["__scopeId","data-v-5fdae624"]]),Ei=t=>(st("data-v-4dd6173d"),t=t(),it(),t),Y2=["id"],Q2={class:"top-wrapper scroll-style top-bottom-padding"},Z2={key:0,class:"subscription-box"},J2=Ei(()=>h("h2",null,"Monthly Subscription",-1)),X2=Ei(()=>h("p",null,"2.99€/month",-1)),ev=[J2,X2],tv=Ei(()=>h("h2",null,"Annual Subscription",-1)),nv=Ei(()=>h("p",null,"30.50€/year",-1)),sv=[tv,nv],iv=Ei(()=>h("p",{class:"explanation-text"}," Subscriptions will automatically renew and your credit card will be charged at the end of each period. ",-1)),ov={class:"input-wrapper"},rv={class:"one-input-row"},lv={class:"one-input-row"},av={class:"two-input-row"},cv={class:"expiry-input-col"},uv={class:"ccv-input-col"},dv={class:"bottom-buttons-wrapper"},hv=re({__name:"PaymentView",setup(t){const e=j(""),n=()=>{S.premiumStatus=It.Basic,ie.push("/premium")},s=()=>{S.premiumStatus=It.Basic,ie.push("/entry")};return ot(()=>{Vt("payment-view-"+S.premiumStatus.toLowerCase())}),(i,o)=>(E(),x("div",{id:"payment-view-"+g(S).premiumStatus.toLowerCase(),class:"left-right-padding bottom-buttons-page"},[h("div",Q2,[g(S).premiumStatus=="Monthly"?(E(),x("div",Z2,ev)):(E(),x("div",{key:1,class:Ie(["subscription-box",{"annually-dp dark-pattern":g(S).darkPatterns}])},sv,2)),iv,h("div",ov,[h("div",rv,[b(Bs,{name:"Name",modelValue:e.value,"onUpdate:modelValue":o[0]||(o[0]=r=>e.value=r)},null,8,["modelValue"])]),h("div",lv,[b(Bs,{name:"Card Number","start-value":"*****************************",disabled:!0})]),h("div",av,[h("div",cv,[b(Bs,{name:"Expiry","start-value":"01/1999",disabled:!0})]),h("div",uv,[b(Bs,{name:"CVV","start-value":"123",disabled:!0})])])])]),h("div",dv,[b(Q,{class:"my-button",disabled:e.value==="",onClick:o[1]||(o[1]=r=>g(ie).push("/sign-up"))},{default:A(()=>[$("Proceed")]),_:1},8,["disabled"]),b(Q,{class:"my-button",onClick:n},{default:A(()=>[$("See other options")]),_:1}),b(Q,{class:Ie(["my-button",{"dark-pattern":g(S).darkPatterns}]),"button-style":g(S).darkPatterns?"subtle":"neutral",onClick:s},{default:A(()=>[$("Cancel")]),_:1},8,["class","button-style"])])],8,Y2))}});const fv=ye(hv,[["__scopeId","data-v-4dd6173d"]]),pv="/assets/video1-b56a2d9a.mp4",_v={key:0,width:"320",height:"276",viewBox:"0 0 320 276",fill:"none",xmlns:"http://www.w3.org/2000/svg"},mv=["fill"],gv={key:1,width:"299",height:"259",viewBox:"0 0 299 259",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vv=["fill"],yv={key:2,width:"311",height:"238",viewBox:"0 0 311 238",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Cv=["fill"],bv={key:3,width:"275",height:"268",viewBox:"0 0 275 268",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wv=["fill"],kv=["fill"],Ev=["fill"],Sv=["fill"],xv={key:4,width:"260",height:"284",viewBox:"0 0 260 284",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Iv=["fill"],Tv=["fill"],Pv=["fill"],Nv=["fill"],Rv=["fill"],Zn=re({__name:"VideoSvg",props:{name:{type:String,required:!0}},setup(t){return(e,n)=>t.name=="like"?(E(),x("svg",_v,[h("path",{d:"M160.077 46.1174L160.541 47.1775L160.995 46.1129C168.503 28.4956 179.622 17.1052 192.76 10.1113C205.908 3.11229 221.11 0.5 236.799 0.5C281.343 0.5 319.5 34.7326 319.5 82.3508C319.5 94.3168 318.967 104.96 315.828 116.052C312.69 127.139 306.94 138.703 296.47 152.483C275.543 180.025 235.806 216.362 160.535 275.365C85.2635 216.362 45.2578 180.024 24.0631 152.481C13.4588 138.7 7.57561 127.135 4.3383 116.048C1.10004 104.957 0.5 94.3143 0.5 82.3508C0.5 34.7326 38.6569 0.5 83.2007 0.5C98.8903 0.5 114.257 3.11225 127.622 10.1129C140.978 17.1085 152.362 28.5009 160.077 46.1174Z",fill:g($e),stroke:"none"},null,8,mv)])):t.name=="comment"?(E(),x("svg",gv,[h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M49.0322 0H249.968C277.048 0 299 21.7237 299 48.5213V147.467C299 174.264 277.048 195.988 249.968 195.988H100.521L45.6524 257.073C42.1284 260.996 35.5724 258.529 35.5724 253.28L35.5724 194.137C15.0369 188.348 0 169.645 0 147.467V48.5213C0 21.7237 21.9524 0 49.0322 0ZM80 118C91.0457 118 100 109.046 100 98C100 86.9543 91.0457 78 80 78C68.9543 78 60 86.9543 60 98C60 109.046 68.9543 118 80 118ZM150 118C161.046 118 170 109.046 170 98C170 86.9543 161.046 78 150 78C138.954 78 130 86.9543 130 98C130 109.046 138.954 118 150 118ZM240 98C240 109.046 231.046 118 220 118C208.954 118 200 109.046 200 98C200 86.9543 208.954 78 220 78C231.046 78 240 86.9543 240 98Z",fill:g($e)},null,8,vv)])):t.name=="share"?(E(),x("svg",yv,[h("path",{d:"M52.0807 102.957C-4.55364 156.45 -1.35792 218.322 1.07072 227.344C2.59147 232.994 5.98564 236.403 11.3947 237.656C17.4187 239.052 21.8214 236.054 25.9691 231.211C32.0415 224.122 59.667 188.575 95.1961 171.918C128.912 156.111 187.16 156.45 187.16 156.45L187.424 186.32C187.501 194.936 196.91 199.659 203.233 194.255L307.377 105.265C312.266 101.087 312.196 93.1602 307.234 89.0808L201.536 2.17958C195.117 -3.09729 185.794 1.81209 185.87 10.4283L186.22 50.1083C186.22 50.1083 108.715 49.4637 52.0807 102.957Z",fill:g($e)},null,8,Cv)])):t.name=="download"?(E(),x("svg",bv,[h("rect",{y:"226",width:"275",height:"42",rx:"21",fill:g($e)},null,8,wv),h("rect",{x:"115",width:"45",height:"204.779",rx:"22.5",fill:g($e)},null,8,kv),h("rect",{width:"42.2407",height:"134.863",rx:"21.1203",transform:"matrix(0.736558 -0.676375 0.736558 0.676375 38 122.236)",fill:g($e)},null,8,Ev),h("rect",{width:"42.2407",height:"134.863",rx:"21.1203",transform:"matrix(0.736558 0.676375 -0.736558 0.676375 205.927 93.7445)",fill:g($e)},null,8,Sv)])):t.name=="music"?(E(),x("svg",xv,[h("ellipse",{cx:"47.5",cy:"249",rx:"47.5",ry:"35",fill:g($e)},null,8,Iv),h("ellipse",{cx:"212.5",cy:"227",rx:"47.5",ry:"35",fill:g($e)},null,8,Tv),h("path",{d:"M61 45.48C61 34.4391 69.1834 25.1084 80.1299 23.668L235.13 3.27251C248.306 1.53868 260 11.7943 260 25.0845V75.2305L61 101V45.48Z",fill:g($e)},null,8,Pv),h("rect",{x:"61",y:"86",width:"34",height:"161",fill:g($e)},null,8,Nv),h("rect",{x:"225",y:"66",width:"35",height:"161",fill:g($e)},null,8,Rv)])):Ee("",!0)}}),Av="/assets/empty_profile_image-2eb57447.jpg",$v="/assets/dog_image-5e0bfbce.jpg",Dv="/assets/bird_image-e9d264b6.jpg",Ov="/assets/fish_image-ba71106d.jpg",ci=Av,ui=new Map([["dog_image",$v],["bird_image",Dv],["fish_image",Ov]]),Mv={class:"vue-modal"},Lv={class:"vue-modal-inner"},Fv={class:"vue-modal-content"},Vv={class:"comments-list scroll-style"},Bv=["src"],Uv={class:"comment-text-column"},Hv={class:"comment-name"},jv={class:"comment-text"},Wv={class:"add-comment-row"},qv=["src"],zv=re({__name:"CommentBox",props:{open:{type:Boolean,default:!1}},emits:["close","updateNumberOfComments"],setup(t,{emit:e}){const n=j([{name:"Bob Smith",image:"",text:"I learned a lot from this video. Thanks for sharing!"},{name:"Eva Rodriguez",image:"dog_image",text:"Interesting perspective. Would love to see more videos like this."},{name:"Charlie Brown",image:"",text:"The production quality is top-notch! Keep up the good work."},{name:"Alice Davis",image:"fish_image",text:"This scenerey is so beautiful. Well done!"}]),s=j(S.comment);ot(()=>{e("updateNumberOfComments",n.value.length)}),nt(n,r=>{e("updateNumberOfComments",n.value.length)},{deep:!0});const i=()=>{S.comment=s.value,s.value.trim()!=""&&(we().isProfileValid()?o():S.profilePopupOpen=!0)},o=()=>{const r=we().getUserData();n.value.push({name:r.firstName+" "+r.lastName,image:r.profilePicture,text:s.value}),s.value="",He().finishCurrentTask()};return(r,l)=>ki((E(),x("div",Mv,[b(Es,{name:"slide"},{default:A(()=>[h("div",Lv,[h("div",Fv,[h("div",{class:"close-button-box interact-node",onClick:l[0]||(l[0]=a=>e("close"))},[b(Td,{class:"close-button-icon"})]),h("div",Vv,[(E(!0),x(Re,null,Ot(n.value,(a,c)=>(E(),x("div",{key:c,class:"comment-row"},[h("img",{class:"comment-image",src:a.image!=""?g(ui).get(a.image):g(ci),alt:"Profile"},null,8,Bv),h("div",Uv,[h("label",Hv,pe(a.name),1),h("p",jv,pe(a.text),1)])]))),128))]),h("div",Wv,[h("img",{class:"add-comment-image",src:g(we)().getUserData().profilePicture!=""?g(ui).get(g(we)().getUserData().profilePicture):g(ci),alt:"Profile"},null,8,qv),b(Bs,{name:"Add a comment","show-name":!1,modelValue:s.value,"onUpdate:modelValue":l[1]||(l[1]=a=>s.value=a),onClick:l[2]||(l[2]=a=>g(we)().isProfileValid()?null:g(S).profilePopupOpen=!0)},null,8,["modelValue"]),b(Q,{class:"send-button",size:"small",onClick:i},{default:A(()=>[$(" Send ")]),_:1})])])])]),_:1})],512)),[[yd,t.open]])}});const Gv=ye(zv,[["__scopeId","data-v-91e95689"]]),wt=t=>(st("data-v-6885c238"),t=t(),it(),t),Kv={id:"home-view",class:"no-padding"},Yv={class:"post-container"},Qv={class:"post-video-container"},Zv=wt(()=>h("source",{src:pv,type:"video/mp4"},null,-1)),Jv=[Zv],Xv={class:"shorts-page-box"},ey=wt(()=>h("label",{class:"shorts-page-title active"},"|",-1)),ty=wt(()=>h("label",{class:"shorts-page-title active"},"For you",-1)),ny={class:"video-sidebar"},sy=["src"],iy=wt(()=>h("label",null,"Like",-1)),oy=wt(()=>h("label",null,"Comment",-1)),ry=wt(()=>h("label",null,"Share",-1)),ly={key:0,class:"video-grid"},ay=wt(()=>h("label",null,"Download",-1)),cy={class:"video-sidebar-button"},uy=["src"],dy={class:"post-description"},hy=wt(()=>h("label",{class:"post-name"},"By Alex Turner",-1)),fy=wt(()=>h("p",null,"Watch birds glide against a beautiful ocean sunset, painting the sky in a serene dance of colors.",-1)),py={class:"music-row"},_y=wt(()=>h("label",{class:"music-label"},"Original Sound",-1)),my={class:"popup-centered-svg"},gy=wt(()=>h("p",{class:"premium-popup-text"}," You need premium to access that feature.",-1)),vy=wt(()=>h("p",null," This app wants to use your personal data to provide a more relevant and personalized experience. ",-1)),yy=wt(()=>h("p",{class:"setup-profile-text"},[$("To post a "),h("em",null,"comment"),$(", please choose a "),h("em",null,"name"),$(" in the "),h("em",null,"Edit profile"),$(" section. Once you've finished setting up your profile, you will unlock this "),h("em",null,"feature"),$(". Would you like to do that now?")],-1)),Cy=re({__name:"HomeView",setup(t){const e=j(!1),n=j(0),s=j(!1),i=j(!1),o=j(!1),r=()=>{s.value=!0,S.darkPatterns&&!S.personalDataAsked&&setTimeout(()=>{o.value=!0},1e3)},l=f=>{const p=f.target;p.paused?p.play():p.pause()},a=f=>{n.value=f},c=()=>{we().setPersonalDataChecked(!0),S.personalDataAsked=!0,o.value=!1},u=()=>{S.personalDataAsked=!0,o.value=!1},d=()=>{ie.push("/edit-profile"),S.profilePopupOpen=!1};return ot(()=>{Vt("home-view")}),(f,p)=>(E(),x(Re,null,[h("div",Kv,[h("div",Yv,[h("div",Qv,[h("video",{autoplay:"",muted:"",playsinline:"",loop:"",class:"post-video interact-node",onClick:p[0]||(p[0]=v=>l(v)),onPlaying:r,onPause:p[1]||(p[1]=v=>s.value=!1)},Jv,32),h("div",Xv,[h("label",{class:"shorts-page-title inactive",onClick:p[2]||(p[2]=v=>g(S).constructionPopupOpen=!0)},"Friends"),ey,ty]),h("div",ny,[h("div",{class:"video-sidebar-button interact-node",onClick:p[3]||(p[3]=v=>g(S).constructionPopupOpen=!0)},[h("img",{class:"video-profile-image",src:g(ci)},null,8,sy)]),h("div",{class:"video-sidebar-button interact-node",onClick:p[4]||(p[4]=v=>g(S).constructionPopupOpen=!0)},[b(Zn,{class:"video-icon",name:"like"}),iy]),h("div",{class:"video-sidebar-button interact-node",onClick:p[5]||(p[5]=v=>e.value=!0)},[b(Zn,{class:"video-icon interact-node",name:"comment"}),oy]),h("div",{class:"video-sidebar-button interact-node",onClick:p[6]||(p[6]=v=>g(S).constructionPopupOpen=!0)},[b(Zn,{class:"video-icon",name:"share"}),ry]),h("div",{class:"video-sidebar-button interact-node",onClick:p[7]||(p[7]=v=>g(S).premiumStatus==g(It).Basic?i.value=!0:g(S).constructionPopupOpen=!0)},[g(S).premiumStatus==g(It).Basic?(E(),x("div",ly,[b(Zn,{class:"download-icon",name:"download"}),b(Hr,{class:"download-crown-svg",simplified:!0})])):(E(),bt(Zn,{key:1,class:"video-icon",name:"download"})),ay]),h("div",cy,[h("div",{class:Ie(["vinyl-disk",{playing:s.value}])},[h("img",{class:"vinyl-image",src:g(ci)},null,8,uy)],2)])])]),h("div",dy,[hy,fy,h("div",py,[b(Zn,{name:"music",class:"music-icon"}),_y])]),b(Gv,{open:e.value,onClose:p[8]||(p[8]=v=>e.value=!1),onUpdateNumberOfComments:a},null,8,["open"])])]),b(_t,{popupId:"premiun-access",open:i.value,onClose:p[10]||(p[10]=v=>i.value=!1)},{content:A(()=>[h("div",my,[b(Hr,{class:"popup-crown-svg"})]),gy]),buttons:A(()=>[b(Q,{size:"small",onClick:p[9]||(p[9]=v=>i.value=!1)},{default:A(()=>[$("Close ")]),_:1})]),_:1},8,["open"]),b(_t,{popupId:"personal-data",class:"dark-pattern",open:o.value,onClose:p[13]||(p[13]=v=>u())},{content:A(()=>[vy]),buttons:A(()=>[b(Q,{size:"small","button-style":"subtle",onClick:p[11]||(p[11]=v=>u())},{default:A(()=>[$("Deny ")]),_:1}),b(Q,{size:"small",onClick:p[12]||(p[12]=v=>c())},{default:A(()=>[$("Allow")]),_:1})]),_:1},8,["open"]),b(_t,{popupId:"setup-profile",open:g(S).profilePopupOpen,onClose:p[15]||(p[15]=v=>g(S).profilePopupOpen=!1)},{content:A(()=>[yy]),buttons:A(()=>[b(Q,{class:Ie({"dark-pattern":g(S).darkPatterns}),size:"small","button-style":g(S).darkPatterns?"subtle":"neutral",onClick:p[14]||(p[14]=v=>g(S).profilePopupOpen=!1)},{default:A(()=>[$("Close ")]),_:1},8,["class","button-style"]),b(Q,{size:"small",onClick:d},{default:A(()=>[$("Setup profile ")]),_:1})]),_:1},8,["open"])],64))}});const by=ye(Cy,[["__scopeId","data-v-6885c238"]]),wy={},ky={width:"462",height:"330",viewBox:"0 0 462 330",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ey=ks('<rect x="59" y="211" width="172" height="47" fill="#6C6C6C" stroke="black" stroke-width="8"></rect><path d="M247.223 176.378L286.676 25.502L317.322 39.9234L258.035 201.5L247.223 176.378Z" fill="#6C6C6C" stroke="black" stroke-width="8"></path><path d="M413.825 276.221L418.301 118.233L443.452 116.698L434.654 278.352L413.825 276.221Z" fill="#6C6C6C" stroke="black" stroke-width="8"></path><path d="M307.081 40.8932L324.09 22.1216L437.391 94.6909L414.378 120.41L307.081 40.8932Z" fill="#6C6C6C" stroke="black" stroke-width="8"></path><circle cx="305.209" cy="24.7915" r="20.7915" fill="#1A1A1A" stroke="black" stroke-width="8"></circle><circle cx="431.257" cy="112.074" r="20.7915" transform="rotate(13.9485 431.257 112.074)" fill="#1A1A1A" stroke="black" stroke-width="8"></circle><path d="M413.181 325.445H343.226C341.399 325.445 339.917 323.964 339.917 322.137C339.917 320.98 340.522 319.907 341.511 319.307L350.816 313.668C353.189 312.23 355.197 310.262 356.684 307.92L394.555 248.249C396.291 245.513 396.21 242.001 394.35 239.349L392.873 237.242C391.34 235.055 391.718 232.062 393.747 230.325C395.817 228.554 398.904 228.687 400.815 230.629L443.141 273.651C449.56 280.176 450.06 290.48 444.303 297.596L427.175 318.767C423.757 322.991 418.614 325.445 413.181 325.445Z" fill="#1A1A1A" stroke="black" stroke-width="8"></path><path d="M144 87C144 78.7157 150.716 72 159 72H251.016C258.134 72 264.271 77.0016 265.708 83.9724L288.376 193.972C290.294 203.278 283.187 212 273.685 212H159C150.716 212 144 205.284 144 197V87Z" fill="#FFD600" stroke="black" stroke-width="8"></path><path d="M157 86.5V162C157 164.209 158.791 166 161 166H264.517C267.075 166 268.975 163.632 268.422 161.135L251.695 85.6348C251.289 83.8034 249.665 82.5 247.789 82.5H161C158.791 82.5 157 84.2909 157 86.5Z" fill="#628BFD"></path><path d="M199.5 82.5L201 166.5M157 86.5C157 84.2909 158.791 82.5 161 82.5H247.789C249.665 82.5 251.289 83.8034 251.695 85.6348L268.422 161.135C268.975 163.632 267.075 166 264.517 166H161C158.791 166 157 164.209 157 162V86.5Z" stroke="black" stroke-width="8"></path><path d="M234 230H56C46.6112 230 39 222.389 39 213V149C39 139.611 46.6112 132 56 132H183.434C187.392 132 191.227 133.382 194.276 135.907L244.843 177.782C248.743 181.012 251 185.812 251 190.875V213C251 222.389 243.389 230 234 230Z" fill="#FFD600" stroke="black" stroke-width="8"></path><path d="M37 173.5H69.1787C70.6141 173.5 71.9395 174.269 72.6517 175.515L84.3483 195.985C85.0605 197.231 86.3859 198 87.8213 198H254" stroke="black" stroke-width="8"></path><rect x="4" y="246" width="325" height="75" rx="37.5" fill="#1A1A1A" stroke="black" stroke-width="8"></rect><circle cx="47" cy="284" r="18" fill="#6C6C6C" stroke="black" stroke-width="8"></circle><rect x="86" y="273" width="193" height="21" rx="6" fill="#6C6C6C" stroke="black" stroke-width="8"></rect><mask id="path-16-inside-1_633_203" fill="white"><rect x="258" y="262" width="49" height="44" rx="5"></rect></mask><rect x="258" y="262" width="49" height="44" rx="5" fill="#6C6C6C" stroke="black" stroke-width="16" mask="url(#path-16-inside-1_633_203)"></rect>',17),Sy=[Ey];function xy(t,e){return E(),x("svg",ky,Sy)}const Iy=ye(wy,[["render",xy]]),Ty=t=>(st("data-v-3376b92d"),t=t(),it(),t),Py={class:"construction-wrapper scroll-style full-padding"},Ny=Ty(()=>h("h3",{class:"construction-title"},"Sorry, this feature is under construction.",-1)),Ry=re({__name:"ConstructionMessage",setup(t){return(e,n)=>(E(),x("div",Py,[Ny,b(Iy,{class:"excavator-svg",name:"excavator"})]))}});const Ol=ye(Ry,[["__scopeId","data-v-3376b92d"]]),Ay={id:"friends-view"},$y=re({__name:"FriendsView",setup(t){return ot(()=>{Vt("friends-view")}),(e,n)=>(E(),x("div",Ay,[b(Ol)]))}});const Dy=ye($y,[["__scopeId","data-v-513ace9d"]]),Oy={id:"inbox-view"},My=re({__name:"InboxView",setup(t){return ot(()=>{Vt("inbox-view")}),(e,n)=>(E(),x("div",Oy,[b(Ol)]))}});const Ly=ye(My,[["__scopeId","data-v-d3b36901"]]),Fy={key:0,width:"54",height:"44",viewBox:"0 0 54 44",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Vy=["stroke","fill"],By=["stroke","fill"],Uy={key:1,width:"48",height:"50",viewBox:"0 0 48 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Hy=["stroke"],jy=["stroke"],Wy=["stroke"],qy=["stroke"],zy=["stroke"],Gy=["fill"],Ky={key:2,width:"50",height:"46",viewBox:"0 0 50 46",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Yy=["fill","stroke"],Qy=["stroke"],Zy=["fill","stroke"],Jy=["fill","stroke"],Ki=re({__name:"TaskSvg",props:{name:{type:String,required:!0},stroke:{type:String,default:Fr},fill:{type:String,default:$e}},setup(t){return(e,n)=>t.name=="camera"?(E(),x("svg",Fy,[h("path",{d:"M15.2353 12H6.16667C3.86548 12 2 13.8655 2 16.1667V37.8333C2 40.1345 3.86548 42 6.16667 42H47.8333C50.1345 42 52 40.1345 52 37.8333V16.1667C52 13.8655 50.1345 12 47.8333 12H38.7647M15.2353 12V6.16667C15.2353 3.86548 17.1008 2 19.402 2H34.598C36.8992 2 38.7647 3.86548 38.7647 6.16667V12M15.2353 12H38.7647",stroke:t.stroke,"stroke-width":"3",fill:t.fill},null,8,Vy),h("circle",{cx:"27",cy:"27",r:"8.5",stroke:t.stroke,"stroke-width":"3",fill:t.fill},null,8,By)])):t.name=="description"?(E(),x("svg",Uy,[h("rect",{x:"1",y:"1",width:"38.0599",height:"48",rx:"3",stroke:t.stroke,"stroke-width":"2"},null,8,Hy),h("path",{d:"M6.16302 10.4167H32.8696",stroke:t.stroke,"stroke-width":"2","stroke-linecap":"round"},null,8,jy),h("path",{d:"M6.16302 18.75H32.8696",stroke:t.stroke,"stroke-width":"2","stroke-linecap":"round"},null,8,Wy),h("path",{d:"M6.16302 27.0833H32.8696",stroke:t.stroke,"stroke-width":"2","stroke-linecap":"round"},null,8,qy),h("path",{d:"M6.16302 35.4167H25.9031",stroke:t.stroke,"stroke-width":"2","stroke-linecap":"round"},null,8,zy),h("path",{d:"M42.3106 7.81265C42.8042 6.82452 44.0001 6.43418 44.9816 6.9408L46.2227 7.5814C47.2043 8.08803 47.5998 9.29976 47.1062 10.2879L34.8435 34.8345C34.7586 35.0044 34.6274 35.146 34.4653 35.2427L31.7615 36.8551C31.1361 37.228 30.3341 36.8141 30.2614 36.0808L29.9469 32.9105C29.928 32.7204 29.9631 32.5291 30.048 32.3592L42.3106 7.81265Z",fill:t.stroke},null,8,Gy)])):t.name=="work"?(E(),x("svg",Ky,[h("rect",{x:"2.63635",y:"18.6538",width:"44.7273",height:"25.8462",rx:"5.5",fill:t.fill,stroke:t.stroke,"stroke-width":"3"},null,8,Yy),h("path",{d:"M33 8.125V5C33 3.34315 31.6569 2 30 2H20C18.3431 2 17 3.34315 17 5V8.125",stroke:t.stroke,"stroke-width":"3"},null,8,Qy),h("path",{d:"M1.5 10.7692C1.5 9.38852 2.61929 8.26923 4 8.26923H46C47.3807 8.26923 48.5 9.38852 48.5 10.7692V22.0303C48.5 23.2908 47.5615 24.3542 46.3108 24.5109L25.3108 27.1417L25.4972 28.63L25.3108 27.1417C25.1044 27.1675 24.8956 27.1675 24.6892 27.1417L24.5028 28.63L24.6892 27.1417L3.68924 24.5109C2.43847 24.3542 1.5 23.2908 1.5 22.0303V10.7692Z",fill:t.fill,stroke:t.stroke,"stroke-width":"3"},null,8,Zy),h("rect",{x:"22.7273",y:"22.9231",width:"5.68182",height:"8.07692",rx:"2",fill:t.fill,stroke:t.stroke,"stroke-width":"2"},null,8,Jy)])):Ee("",!0)}}),Xy={width:"54",height:"54",viewBox:"0 0 54 54",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e3=["stroke"],t3=["stroke"],n3=re({__name:"EmptySvg",setup(t){return(e,n)=>(E(),x("svg",Xy,[h("circle",{cx:"27",cy:"27.0001",r:"23.5",stroke:g(Fr),"stroke-width":"3"},null,8,e3),h("path",{d:"M1.99999 2.00001L52 52",stroke:g(Fr),"stroke-width":"3","stroke-linecap":"round"},null,8,t3)]))}}),s3={width:"201",height:"201",viewBox:"0 0 201 201",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i3=["fill"],o3=re({__name:"SettingsSvg",setup(t){return(e,n)=>(E(),x("svg",s3,[h("path",{d:"M34.7355 63.7115L25.2081 45.5441C23.0743 41.4753 23.8336 36.4917 27.0824 33.2429L33.2429 27.0824C36.4917 23.8336 41.4753 23.0743 45.5441 25.2081L63.7115 34.7355C70.0687 38.0694 77.8928 34.8285 80.0307 27.9759L86.1401 8.39271C87.5084 4.00678 91.5692 1.01978 96.1636 1.01978H104.876C109.47 1.01978 113.531 4.00678 114.9 8.39271L121.009 27.9759C123.147 34.8285 130.971 38.0694 137.328 34.7355L155.495 25.2081C159.564 23.0743 164.548 23.8336 167.797 27.0824L173.957 33.2429C177.206 36.4917 177.965 41.4753 175.831 45.5441L166.304 63.7115C162.97 70.0687 166.211 77.8928 173.064 80.0307L192.647 86.1401C197.033 87.5084 200.02 91.5692 200.02 96.1636V104.876C200.02 109.47 197.033 113.531 192.647 114.9L173.064 121.009C166.211 123.147 162.97 130.971 166.304 137.328L175.831 155.495C177.965 159.564 177.206 164.548 173.957 167.797L167.797 173.957C164.548 177.206 159.564 177.965 155.495 175.831L137.328 166.304C130.971 162.97 123.147 166.211 121.009 173.064L114.9 192.647C113.531 197.033 109.47 200.02 104.876 200.02H96.1636C91.5692 200.02 87.5084 197.033 86.1401 192.647L80.0307 173.064C77.8928 166.211 70.0687 162.97 63.7115 166.304L45.5441 175.831C41.4753 177.965 36.4917 177.206 33.2429 173.957L27.0824 167.797C23.8336 164.548 23.0743 159.564 25.2081 155.495L34.7355 137.328C38.0694 130.971 34.8285 123.147 27.9759 121.009L8.39271 114.9C4.00678 113.531 1.01978 109.47 1.01978 104.876V96.1636C1.01978 91.5692 4.00678 87.5084 8.39271 86.1401L27.9759 80.0307C34.8285 77.8928 38.0694 70.0687 34.7355 63.7115ZM101 136.5C120.606 136.5 136.5 120.606 136.5 101C136.5 81.3939 120.606 65.5 101 65.5C81.3939 65.5 65.5 81.3939 65.5 101C65.5 120.606 81.3939 136.5 101 136.5Z",fill:g(Pe),stroke:"none"},null,8,i3)]))}}),ce=t=>(st("data-v-b8858e2d"),t=t(),it(),t),r3={class:"emoji-container"},l3={class:"emoji-svg",key:"depressed",width:"113",height:"113",viewBox:"0 0 113 113",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a3=ce(()=>h("circle",{cx:"56.5",cy:"56.5",r:"56.5",fill:"#F44336"},null,-1)),c3=ce(()=>h("path",{d:"M105.467 56.5C105.467 83.5435 83.5435 105.467 56.5 105.467",stroke:"#D32F2F","stroke-width":"5","stroke-linecap":"round"},null,-1)),u3=ce(()=>h("path",{d:"M7.53333 56.5C7.53333 29.4565 29.4565 7.53333 56.5 7.53333",stroke:"#E57373","stroke-width":"5","stroke-linecap":"round"},null,-1)),d3=ce(()=>h("path",{d:"M56.5112 56.9999C45.1893 56.9999 36.0112 68.6405 36.0112 82.9999C36.0112 97.3593 48.3896 79.4999 56.5112 79.4999C64.6328 79.4999 77.0112 97.3593 77.0112 82.9999C77.0112 68.6405 67.833 56.9999 56.5112 56.9999Z",fill:"#880E4F"},null,-1)),h3=ce(()=>h("path",{d:"M36.0112 54C36.0112 50.6863 32.2056 48 27.5112 48C22.8167 48 19.0112 50.6863 19.0112 54",stroke:"#880E4F","stroke-width":"3","stroke-linecap":"round"},null,-1)),f3=ce(()=>h("path",{d:"M94.0112 54C94.0112 50.6863 90.2056 48 85.5112 48C80.8167 48 77.0112 50.6863 77.0112 54",stroke:"#880E4F","stroke-width":"3","stroke-linecap":"round"},null,-1)),p3=ce(()=>h("path",{d:"M19 43.363L32.5946 37.0238",stroke:"#880E4F","stroke-width":"2","stroke-linecap":"round"},null,-1)),_3=ce(()=>h("path",{d:"M80 37.0238L93.5946 43.3631",stroke:"#880E4F","stroke-width":"2","stroke-linecap":"round"},null,-1)),m3=[a3,c3,u3,d3,h3,f3,p3,_3],g3={class:"emoji-svg",key:"sad",width:"113",height:"113",viewBox:"0 0 113 113",fill:"none",xmlns:"http://www.w3.org/2000/svg"},v3=ce(()=>h("circle",{cx:"56.5",cy:"56.5",r:"56.5",fill:"#FF9100"},null,-1)),y3=ce(()=>h("path",{d:"M105.467 56.5C105.467 83.5435 83.5435 105.467 56.5 105.467",stroke:"#EF6C00","stroke-width":"5","stroke-linecap":"round"},null,-1)),C3=ce(()=>h("path",{d:"M7.53333 56.5C7.53333 29.4565 29.4565 7.53333 56.5 7.53333",stroke:"#FFA726","stroke-width":"5","stroke-linecap":"round"},null,-1)),b3=ce(()=>h("path",{d:"M42 80.9999C47 59 66 59 71 81",stroke:"#BF360C","stroke-width":"3","stroke-linecap":"round"},null,-1)),w3=ce(()=>h("circle",{cx:"27",cy:"52",r:"5",fill:"#BF360C"},null,-1)),k3=ce(()=>h("circle",{cx:"85",cy:"53",r:"5",fill:"#BF360C"},null,-1)),E3=ce(()=>h("path",{d:"M17.3384 47.8677L31.4338 42.7374",stroke:"#BF360C","stroke-width":"2","stroke-linecap":"round"},null,-1)),S3=ce(()=>h("path",{d:"M80.3384 43.7373L94.4338 48.8676",stroke:"#BF360C","stroke-width":"2","stroke-linecap":"round"},null,-1)),x3=[v3,y3,C3,b3,w3,k3,E3,S3],I3={class:"emoji-svg",key:"neutral",width:"113",height:"113",viewBox:"0 0 113 113",fill:"none",xmlns:"http://www.w3.org/2000/svg"},T3=ce(()=>h("circle",{cx:"56.5",cy:"56.5",r:"56.5",fill:"#FDD835"},null,-1)),P3=ce(()=>h("path",{d:"M105.467 56.5C105.467 83.5435 83.5435 105.467 56.5 105.467",stroke:"#F9A825","stroke-width":"5","stroke-linecap":"round"},null,-1)),N3=ce(()=>h("path",{d:"M7.53333 56.5C7.53333 29.4565 29.4565 7.53333 56.5 7.53333",stroke:"#FFEE58","stroke-width":"5","stroke-linecap":"round"},null,-1)),R3=ce(()=>h("path",{d:"M39 74H74",stroke:"#E65100","stroke-width":"3","stroke-linecap":"round"},null,-1)),A3=ce(()=>h("circle",{cx:"27",cy:"52",r:"5",fill:"#E65100"},null,-1)),$3=ce(()=>h("circle",{cx:"85",cy:"53",r:"5",fill:"#E65100"},null,-1)),D3=ce(()=>h("path",{d:"M20 37H35",stroke:"#E65100","stroke-width":"2","stroke-linecap":"round"},null,-1)),O3=ce(()=>h("path",{d:"M78 37H93",stroke:"#E65100","stroke-width":"2","stroke-linecap":"round"},null,-1)),M3=[T3,P3,N3,R3,A3,$3,D3,O3],L3={class:"emoji-svg",key:"content",width:"113",height:"113",viewBox:"0 0 113 113",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F3=ce(()=>h("circle",{cx:"56.5",cy:"56.5",r:"56.5",fill:"#CDDC39"},null,-1)),V3=ce(()=>h("path",{d:"M105.467 56.5C105.467 83.5435 83.5435 105.467 56.5 105.467",stroke:"#AFB42B","stroke-width":"5","stroke-linecap":"round"},null,-1)),B3=ce(()=>h("path",{d:"M7.53333 56.5C7.53333 29.4565 29.4565 7.53333 56.5 7.53333",stroke:"#DCE775","stroke-width":"5","stroke-linecap":"round"},null,-1)),U3=ce(()=>h("path",{d:"M37 69.5C52 75 61 75 76 69.5",stroke:"#33691E","stroke-width":"3","stroke-linecap":"round"},null,-1)),H3=ce(()=>h("circle",{cx:"27",cy:"52",r:"5",fill:"#33691E"},null,-1)),j3=ce(()=>h("circle",{cx:"85",cy:"53",r:"5",fill:"#33691E"},null,-1)),W3=ce(()=>h("path",{d:"M17 41.4298C22 38.825 25 37.8251 31.7721 38.8251",stroke:"#33691E","stroke-width":"2","stroke-linecap":"round"},null,-1)),q3=ce(()=>h("path",{d:"M94.7721 42.0346C89.7721 39.4298 86.7721 38.4298 80 39.4298",stroke:"#33691E","stroke-width":"2","stroke-linecap":"round"},null,-1)),z3=[F3,V3,B3,U3,H3,j3,W3,q3],G3={class:"emoji-svg",width:"113",key:"happy",height:"113",viewBox:"0 0 113 113",fill:"none",xmlns:"http://www.w3.org/2000/svg"},K3=ce(()=>h("circle",{cx:"56.5",cy:"56.5",r:"56.5",fill:"#43A047"},null,-1)),Y3=ce(()=>h("path",{d:"M105.467 56.5C105.467 83.5435 83.5435 105.467 56.5 105.467",stroke:"#388E3C","stroke-width":"5","stroke-linecap":"round"},null,-1)),Q3=ce(()=>h("path",{d:"M7.53333 56.5C7.53333 29.4565 29.4565 7.53333 56.5 7.53333",stroke:"#81C784","stroke-width":"5","stroke-linecap":"round"},null,-1)),Z3=ce(()=>h("path",{d:"M56.5 83C67.4397 83 76.3781 75.4759 76.9689 65.9998C77.0033 65.4486 76.5523 65 76 65H37C36.4477 65 35.9967 65.4486 36.0311 65.9998C36.6219 75.4759 45.5602 83 56.5 83Z",fill:"#004D40"},null,-1)),J3=ce(()=>h("path",{d:"M36 54C36 50.6863 32.1944 48 27.5 48C22.8056 48 19 50.6863 19 54",stroke:"#004D40","stroke-width":"3","stroke-linecap":"round"},null,-1)),X3=ce(()=>h("path",{d:"M94 54C94 50.6863 90.1944 48 85.5 48C80.8056 48 77 50.6863 77 54",stroke:"#004D40","stroke-width":"3","stroke-linecap":"round"},null,-1)),e5=ce(()=>h("path",{d:"M19.5321 34.9544C23.7938 29.9986 28.2928 29.4931 34.3042 32.3497",stroke:"#004D40","stroke-width":"2","stroke-linecap":"round"},null,-1)),t5=ce(()=>h("path",{d:"M94.7833 34.5592C90.5216 29.6033 86.0225 29.0978 80.0112 31.9544",stroke:"#004D40","stroke-width":"2","stroke-linecap":"round"},null,-1)),n5=[K3,Y3,Q3,Z3,J3,X3,e5,t5],s5=re({__name:"EmojiSvg",props:{percentage:{type:Number,default:0}},setup(t){return(e,n)=>(E(),x("div",r3,[b(Es,{name:"fade"},{default:A(()=>[t.percentage<25?(E(),x("svg",l3,m3)):t.percentage<50?(E(),x("svg",g3,x3)):t.percentage<75?(E(),x("svg",I3,M3)):t.percentage<100?(E(),x("svg",L3,z3)):(E(),x("svg",G3,n5))]),_:1})]))}});const io=ye(s5,[["__scopeId","data-v-b8858e2d"]]),i5=t=>(st("data-v-10b1be89"),t=t(),it(),t),o5={key:0,class:"emoji-wrapper"},r5=i5(()=>h("span",{class:"plus-symbol"},"+",-1)),l5=re({__name:"PlusEmoji",props:{ifCondition:{type:Boolean,default:!1}},setup(t){return(e,n)=>(E(),bt(Es,{name:"slide-fade"},{default:A(()=>[t.ifCondition?(E(),x("div",o5,[r5,b(io,{class:"plus-emoji-icon",percentage:100})])):Ee("",!0)]),_:1}))}});const Bo=ye(l5,[["__scopeId","data-v-10b1be89"]]),a5=["src"],c5={key:1,class:"emoji-circle dark-pattern"},u5={key:2,class:"completion-box dark-pattern"},d5={class:"completion-text"},h5=re({__name:"ProfilePictureBox",props:{userData:{type:Object,required:!0},editMode:{type:Boolean,default:!1}},setup(t){const{userData:e,editMode:n}=t,s=j(qs(e)),i=j(s.value);function o(r){if(i.value==r)return;const l=500,a=Math.abs(r-i.value);let c;i.value<r?c=setInterval(()=>s.value<r?s.value++:null,l/a):i.value>r&&(c=setInterval(()=>s.value>r?s.value--:null,l/a)),setTimeout(()=>{clearInterval(c),s.value=r,i.value=r},l)}return nt(e,()=>o(qs(e)),{deep:!0}),(r,l)=>(E(),x("div",{class:Ie(["profile-picture-box",{"ndp-style":!g(S).darkPatterns,"dp-style dark-pattern":g(S).darkPatterns,"profile-red":g(S).darkPatterns&&s.value<25,"profile-orange":g(S).darkPatterns&&25<=s.value&&s.value<50,"profile-yellow":g(S).darkPatterns&&50<=s.value&&s.value<75,"profile-lime":g(S).darkPatterns&&75<=s.value&&s.value<100,"profile-green":g(S).darkPatterns&&s.value>=100}])},[h("div",{class:Ie(["profile-picture-image-box interact-node",{"edit-mode":t.editMode}]),onClick:l[0]||(l[0]=a=>t.editMode?g(S).imagePopupOpen=!0:null)},[h("img",{class:"profile-picture-image",src:t.userData.profilePicture!=""?g(ui).get(t.userData.profilePicture):g(ci),alt:"Profile"},null,8,a5)],2),t.editMode?(E(),x("div",{key:0,class:"change-picture-box interact-node",onClick:l[1]||(l[1]=a=>g(S).imagePopupOpen=!0)},[b(Ki,{class:"camera-icon",name:"camera",fill:g($e),stroke:g(Pe)},null,8,["fill","stroke"])])):Ee("",!0),b(Bo,{"if-condition":t.editMode&&g(S).darkPatterns&&t.userData.profilePicture.trim()=="",class:"plus-emoji dark-pattern"},null,8,["if-condition"]),g(S).darkPatterns?(E(),x("div",c5,[b(io,{percentage:s.value,class:"emoji-icon"},null,8,["percentage"])])):Ee("",!0),g(S).darkPatterns?(E(),x("div",u5,[h("label",d5,pe(s.value)+"% complete",1)])):Ee("",!0)],2))}});const Hd=ye(h5,[["__scopeId","data-v-b00b6223"]]),Si=t=>(st("data-v-e455f2c7"),t=t(),it(),t),f5={id:"profile-view",class:"full-padding"},p5={class:"top-wrapper"},_5={class:"view-wrapper"},m5={key:0,class:"profile-name-text"},g5={key:1,class:"profile-name-text"},v5={key:2,class:"profile-description-text"},y5={key:3,class:"profile-description-text"},C5={class:"edit-profile-button-box"},b5={key:0,class:"tasks-wrapper dark-pattern"},w5={class:"tasks-title"},k5={class:"task-row"},E5={class:"task-box picture-task"},S5={class:"task-icon-container"},x5=Si(()=>h("div",{class:"task-text-container"},[h("p",{class:"task-text"},"Add a picture")],-1)),I5={class:"task-button-container"},T5={key:1,class:"added-text"},P5={class:"task-box description-task"},N5={class:"task-icon-container"},R5=Si(()=>h("div",{class:"task-text-container"},[h("p",{class:"task-text"},"Add a description")],-1)),A5={class:"task-button-container"},$5={key:1,class:"added-text"},D5={class:"task-box details-task"},O5={class:"task-icon-container"},M5=Si(()=>h("div",{class:"task-text-container"},[h("p",{class:"task-text"},"Add more details")],-1)),L5={class:"task-button-container"},F5={key:1,class:"added-text"},V5={class:"post-wrapper"},B5=Si(()=>h("h2",{class:"posts-title"},"Posts",-1)),U5={class:"post-container"},H5=Si(()=>h("p",{class:"no-posts-text"}," No posts yet ",-1)),j5=re({__name:"ProfileView",setup(t){const e=()=>we().getUserData().profilePicture.trim()!="",n=()=>we().getUserData().description.trim()!="",s=()=>we().getUserData().city.trim()!=""&&we().getUserData().jobTitle.trim()!="",i=()=>[e(),n(),s()].filter(a=>a).length,o=()=>{ie.push("/edit-profile"),S.imagePopupOpen=!0},r=()=>{S.innitialFocus="description",ie.push("/edit-profile")},l=()=>{we().getUserData().city.trim()==""?S.innitialFocus="city":we().getUserData().jobTitle.trim()==""&&(S.innitialFocus="job"),ie.push("/edit-profile")};return ot(()=>{Vt("profile-view")}),(a,c)=>(E(),x("div",f5,[h("div",p5,[h("div",{class:"settings-box interact-node",onClick:c[0]||(c[0]=u=>g(S).constructionPopupOpen=!0)},[b(o3,{class:"settings-icon"})]),h("div",_5,[b(Hd,{"user-data":g(we)().getUserData(),class:"profile-picture-box"},null,8,["user-data"]),g(we)().getUserData().firstName!=""||g(we)().getUserData().lastName!=""?(E(),x("label",m5,pe(g(we)().getUserData().firstName)+" "+pe(g(we)().getUserData().lastName),1)):(E(),x("label",g5,"Unnamed User")),g(we)().getUserData().description.trim()!=""?(E(),x("p",v5,pe(g(we)().getUserData().description),1)):(E(),x("p",y5,"Edit your profile to add a description")),h("div",C5,[b(Q,{class:"edit-profile-button",size:"small",onClick:c[1]||(c[1]=u=>g(ie).push("/edit-profile"))},{default:A(()=>[$("Edit profile ")]),_:1})])])]),g(S).darkPatterns&&i()<3?(E(),x("div",b5,[h("h4",w5,[$(" Complete your profile    "),h("em",null,pe(i())+"/3",1)]),h("div",k5,[h("div",E5,[h("div",S5,[b(Ki,{class:"task-icon",name:"camera"})]),x5,h("div",I5,[e()?(E(),x("em",T5,"Added")):(E(),bt(Q,{key:0,class:"task-button",size:"small",onClick:c[2]||(c[2]=u=>o())},{default:A(()=>[$("Add ")]),_:1}))])]),h("div",P5,[h("div",N5,[b(Ki,{class:"task-icon",name:"description"})]),R5,h("div",A5,[n()?(E(),x("em",$5,"Added")):(E(),bt(Q,{key:0,class:"task-button",size:"small",onClick:c[3]||(c[3]=u=>r())},{default:A(()=>[$("Add ")]),_:1}))])]),h("div",D5,[h("div",O5,[b(Ki,{class:"task-icon",name:"work"})]),M5,h("div",L5,[s()?(E(),x("em",F5,"Added")):(E(),bt(Q,{key:0,class:"task-button",size:"small",onClick:c[4]||(c[4]=u=>l())},{default:A(()=>[$("Add ")]),_:1}))])])])])):Ee("",!0),h("div",V5,[B5,h("div",U5,[b(n3,{class:"empty-icon"}),H5])])]))}});const W5=ye(j5,[["__scopeId","data-v-e455f2c7"]]);function q5(t){return hl()?(Iu(t),!0):!1}function jd(t){return typeof t=="function"?t():g(t)}const z5=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const G5=Object.prototype.toString,K5=t=>G5.call(t)==="[object Object]",Y5=()=>{};function Wd(t){var e;const n=jd(t);return(e=n==null?void 0:n.$el)!=null?e:n}const Q5=z5?window:void 0;function Tc(...t){let e,n,s,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,s,i]=t,e=Q5):[e,n,s,i]=t,!e)return Y5;Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const o=[],r=()=>{o.forEach(u=>u()),o.length=0},l=(u,d,f,p)=>(u.addEventListener(d,f,p),()=>u.removeEventListener(d,f,p)),a=nt(()=>[Wd(e),jd(i)],([u,d])=>{if(r(),!u)return;const f=K5(d)?{...d}:d;o.push(...n.flatMap(p=>s.map(v=>l(u,p,v,f))))},{immediate:!0,flush:"post"}),c=()=>{a(),r()};return q5(c),c}function Ml(t,e={}){const{initialValue:n=!1,focusVisible:s=!1}=e,i=j(!1),o=je(()=>Wd(t));Tc(o,"focus",l=>{var a,c;(!s||(c=(a=l.target).matches)!=null&&c.call(a,":focus-visible"))&&(i.value=!0)}),Tc(o,"blur",()=>i.value=!1);const r=je({get:()=>i.value,set(l){var a,c;!l&&i.value?(a=o.value)==null||a.blur():l&&!i.value&&((c=o.value)==null||c.focus())}});return nt(o,()=>{r.value=n},{immediate:!0,flush:"post"}),{focused:r}}const Z5={class:"text-field-wrapper"},J5={class:"name-row"},X5={class:"required-asterix"},eC=["name","placeholder","required","value","type","valid","disabled"],tC={key:0,class:"hint-label"},nC=re({__name:"MyInput",props:{name:{type:String,default:"text"},inputType:{type:String,default:"text"},disabled:{type:Boolean,default:!1},valid:{type:Boolean,default:!0},hint:{type:String,default:""},required:{type:Boolean,default:!1},startValue:{type:String,default:""},showEmoji:{type:Boolean,default:!1},initialFocus:{type:Boolean,default:!1},modelValue:{type:String,default:null}},emits:["update:modelValue","valueUpdated","inputFocus"],setup(t,{emit:e}){const{name:n,inputType:s,disabled:i,valid:o,hint:r,required:l,startValue:a,showEmoji:c,initialFocus:u,modelValue:d}=t,f=j();u&&Ml(f,{initialValue:!0});const p=j(a.length>0?a:d),v=P=>{let N=P.target.value;s==="birthday"&&(N=w(N,/^[0-9]+$/),N.length>p.value.length&&(N.length===3||N.length===6)&&(N=`${N.slice(0,-1)}.${N.slice(-1)}`),N.length>10&&(N=N.slice(0,-1))),s==="tel"&&(N=w(N,/^[0-9+#\s\*\-]+$/)),p.value=N,P.target.value=N},w=(P,N)=>{const L=P.charAt(P.length-1);return N.test(L)?P:P.slice(0,-1)};return nt(()=>p.value,P=>{e("update:modelValue",P),e("valueUpdated")}),(P,N)=>(E(),x("div",Z5,[h("div",J5,[h("label",{class:Ie(["name-label",{invalid:!t.valid}])},[$(pe(t.name),1),h("em",X5,pe(t.required?"*":""),1)],2),b(Bo,{"if-condition":t.showEmoji&&p.value.trim()=="",class:"plus-emoji"},null,8,["if-condition"])]),h("input",{name:t.name,class:Ie(["text-field interact-node",{invalid:!t.valid}]),placeholder:`${t.name}...`,required:t.required,value:p.value,type:t.inputType,valid:t.valid,onInput:v,onFocus:N[0]||(N[0]=L=>e("inputFocus")),ref_key:"target",ref:f,disabled:t.disabled},null,42,eC),t.valid?Ee("",!0):(E(),x("label",tC,pe(t.hint),1))]))}});const Jn=ye(nC,[["__scopeId","data-v-1525b31c"]]),sC={class:"text-field-wrapper"},iC={class:"name-row"},oC={class:"required-asterix"},rC=["name","value","valid","required","placeholder","disabled"],lC={key:0,class:"hint-label"},aC=re({__name:"MyTextarea",props:{name:{type:String,default:"text"},disabled:{type:Boolean,default:!1},valid:{type:Boolean,default:!0},hint:{type:String,default:""},required:{type:Boolean,default:!1},startValue:{type:String,default:""},showEmoji:{type:Boolean,default:!1},initialFocus:{type:Boolean,default:!1},modelValue:{type:String,default:null}},emits:["update:modelValue","inputFocus"],setup(t,{emit:e}){const{name:n,disabled:s,valid:i,hint:o,required:r,startValue:l,showEmoji:a,initialFocus:c,modelValue:u}=t,d=j();c&&Ml(d,{initialValue:!0});const f=j(l.length>0?l:u),p=w=>{f.value=w.target.value,e("update:modelValue",f.value)},v=w=>{w.key==="Enter"&&f.value.split(`
`).length>2&&w.preventDefault()};return(w,P)=>(E(),x("div",sC,[h("div",iC,[h("label",{class:Ie(["name-label",{invalid:!t.valid}])},[$(pe(t.name),1),h("em",oC,pe(t.required?"*":""),1)],2),b(Bo,{"if-condition":t.showEmoji&&f.value.trim()=="",class:"plus-emoji"},null,8,["if-condition"])]),h("textarea",{name:t.name,class:Ie(["text-field interact-node",{invalid:!t.valid}]),rows:"2",maxlength:"100",value:f.value,valid:t.valid,onInput:p,onFocus:P[0]||(P[0]=N=>e("inputFocus")),required:t.required,wrap:"hard",placeholder:`${t.name}...`,onKeypress:P[1]||(P[1]=N=>v(N)),ref_key:"target",ref:d,disabled:t.disabled},`
        `,42,rC),t.valid?Ee("",!0):(E(),x("label",lC,pe(t.hint),1))]))}});const cC=ye(aC,[["__scopeId","data-v-3e99f72d"]]),uC=t=>(st("data-v-c94473d4"),t=t(),it(),t),dC={class:"text-field-wrapper"},hC={class:"name-row"},fC={class:"required-asterix"},pC=["name","disabled","value","valid","required"],_C=uC(()=>h("option",{value:""},"Please choose an option...",-1)),mC={key:0,class:"hint-label"},gC=re({__name:"MySelect",props:{name:{type:String,default:"text"},disabled:{type:Boolean,default:!1},valid:{type:Boolean,default:!0},hint:{type:String,default:""},required:{type:Boolean,default:!1},startValue:{type:String,default:""},options:{type:Array,default:[]},showEmoji:{type:Boolean,default:!1},initialFocus:{type:Boolean,default:!1},modelValue:{type:String,default:null}},emits:["update:modelValue","inputFocus"],setup(t,{emit:e}){const{name:n,disabled:s,valid:i,hint:o,required:r,options:l,startValue:a,showEmoji:c,initialFocus:u,modelValue:d}=t,f=j();u&&Ml(f,{initialValue:!0});const p=j(a.length>0?a:d),v=w=>{p.value=w.target.value,e("update:modelValue",p.value)};return(w,P)=>(E(),x("div",dC,[h("div",hC,[h("label",{class:Ie(["name-label",{invalid:!t.valid}])},[$(pe(t.name),1),h("em",fC,pe(t.required?"*":""),1)],2),b(Bo,{"if-condition":t.showEmoji&&p.value.trim()=="",class:"plus-emoji"},null,8,["if-condition"])]),h("select",{name:t.name,class:Ie(["text-field interact-node",{invalid:!t.valid}]),disabled:t.disabled,value:p.value,valid:t.valid,onInput:v,onFocus:P[0]||(P[0]=N=>e("inputFocus")),required:t.required},[_C,(E(!0),x(Re,null,Ot(t.options,N=>(E(),x("option",null,pe(N),1))),256))],42,pC),t.valid?Ee("",!0):(E(),x("label",mC,pe(t.hint),1))]))}});const vC=ye(gC,[["__scopeId","data-v-c94473d4"]]),Uo=t=>(st("data-v-912993b5"),t=t(),it(),t),yC={id:"edit-profile-view",class:"bottom-buttons-page left-right-padding"},CC={class:"top-wrapper scroll-style top-bottom-padding"},bC=Uo(()=>h("div",{class:"header-row"},[h("h2",{class:"title"},"Edit profile")],-1)),wC={class:"profile-picture-wrapper"},kC={class:"input-wrapper"},EC=Uo(()=>h("p",null,"Select a picture from your gallery:",-1)),SC={class:"picture-row"},xC=["src","onClick"],IC={class:"leave-content-wrapper"},TC={key:0,class:"leave-title"},PC=Uo(()=>h("p",null," Do you really want to leave without saving? ",-1)),NC={class:"leave-content-wrapper"},RC=Uo(()=>h("h3",{class:"leave-title"},"Finish profile",-1)),AC={class:"leave-percent"},$C=re({__name:"EditProfileView",setup(t){const e=j(!1),n=j(!1),s=j({...we().getUserData()}),i=j(we().getPersonalDataChecked()),o=j(!0),r=j(!0),l=j(!0),a=j(!0),c=j(!0),u=()=>{Object.keys(s.value).forEach(L=>{s.value[L]=s.value[L].trim()}),o.value=s.value.firstName.length>0,r.value=s.value.lastName.length>0,l.value=!S.darkPatterns||s.value.gender!="",d(),f(),!(!o.value||!r.value||!l.value||!a.value||!c.value)&&(S.darkPatterns&&qs(s.value)<100?e.value=!0:p())},d=()=>{const L=s.value.birthday,C=/^(0[1-9]|[12][0-9]|3[01])\.(0[1-9]|1[0-2])\.\d{4}$/;a.value=C.test(L)},f=()=>{const L=s.value.phone;if(!S.darkPatterns&&L.length==0){c.value=!0;return}const C=/^(?:(?:\+|00)([1-9]\d{0,2}))?([-.\s]?)((?:\(\d{1,4}\)|\d{1,4})([-.\s]?)\d{1,12})$/;c.value=C.test(L)},p=()=>{we().setUserData(s.value),we().setPersonalDataChecked(i.value),ie.push("/profile")},v=j(s.value.profilePicture),w=()=>{S.imagePopupOpen=!1,v.value=s.value.profilePicture},P=()=>{v.value="",s.value.profilePicture="",S.imagePopupOpen=!1},N=()=>{s.value.profilePicture=v.value,S.imagePopupOpen=!1};return ot(()=>{S.innitialFocus="",Vt("edit-profile-view")}),(L,C)=>(E(),x(Re,null,[h("div",yC,[h("div",CC,[bC,h("div",wC,[b(Hd,{"user-data":s.value,class:"profile-picture-box","edit-mode":!0},null,8,["user-data"])]),h("div",kC,[b(Jn,{"show-emoji":g(S).darkPatterns,name:"First name",required:!0,modelValue:s.value.firstName,"onUpdate:modelValue":C[0]||(C[0]=k=>s.value.firstName=k),valid:o.value,hint:"First name can't be empty",onInputFocus:C[1]||(C[1]=k=>o.value=!0)},null,8,["show-emoji","modelValue","valid"]),b(Jn,{"show-emoji":g(S).darkPatterns,name:"Last name",required:!0,modelValue:s.value.lastName,"onUpdate:modelValue":C[2]||(C[2]=k=>s.value.lastName=k),valid:r.value,hint:"Last name can't be empty",onInputFocus:C[3]||(C[3]=k=>r.value=!0)},null,8,["show-emoji","modelValue","valid"]),b(Jn,{"show-emoji":g(S).darkPatterns,name:"Birthday(DD.MM.YYYY)",required:!0,"input-type":"birthday",modelValue:s.value.birthday,"onUpdate:modelValue":C[4]||(C[4]=k=>s.value.birthday=k),valid:a.value,hint:"Please use the right format (DD.MM.YYYY)",onInputFocus:C[5]||(C[5]=k=>a.value=!0)},null,8,["show-emoji","modelValue","valid"]),b(cC,{"show-emoji":g(S).darkPatterns,name:"Description",modelValue:s.value.description,"onUpdate:modelValue":C[6]||(C[6]=k=>s.value.description=k),"initial-focus":g(S).innitialFocus=="description"},null,8,["show-emoji","modelValue","initial-focus"]),b(vC,{"show-emoji":g(S).darkPatterns,name:"Gender",required:g(S).darkPatterns,options:Object.values(g(Sd)),modelValue:s.value.gender,"onUpdate:modelValue":C[7]||(C[7]=k=>s.value.gender=k),valid:l.value,hint:"Please pick a gender",onInputFocus:C[8]||(C[8]=k=>l.value=!0),class:Ie({"dark-pattern":g(S).darkPatterns})},null,8,["show-emoji","required","options","modelValue","valid","class"]),b(Jn,{"show-emoji":g(S).darkPatterns,name:"Phone number",required:g(S).darkPatterns,"input-type":"tel",modelValue:s.value.phone,"onUpdate:modelValue":C[9]||(C[9]=k=>s.value.phone=k),valid:g(S).darkPatterns?c.value:!0,hint:"Please enter a valid phone number",onInputFocus:C[10]||(C[10]=k=>c.value=!0),class:Ie({"dark-pattern":g(S).darkPatterns})},null,8,["show-emoji","required","modelValue","valid","class"]),b(Jn,{"show-emoji":g(S).darkPatterns,name:"City","initial-focus":g(S).innitialFocus=="city",modelValue:s.value.city,"onUpdate:modelValue":C[11]||(C[11]=k=>s.value.city=k)},null,8,["show-emoji","initial-focus","modelValue"]),b(Jn,{"show-emoji":g(S).darkPatterns,name:"Job title","initial-focus":g(S).innitialFocus=="job",modelValue:s.value.jobTitle,"onUpdate:modelValue":C[12]||(C[12]=k=>s.value.jobTitle=k)},null,8,["show-emoji","initial-focus","modelValue"]),b(fn,{modelValue:i.value,"onUpdate:modelValue":C[13]||(C[13]=k=>i.value=k)},{default:A(()=>[$("Allow tracking of personal data")]),_:1},8,["modelValue"])])]),h("div",{class:Ie(["bottom-buttons-wrapper",{"dark-pattern":g(S).darkPatterns}])},[b(Q,{class:"b-button",onClick:C[14]||(C[14]=k=>u())},{default:A(()=>[$("Save ")]),_:1}),b(Q,{class:"b-button","button-style":g(S).darkPatterns?"subtle":"neutral",onClick:C[15]||(C[15]=k=>n.value=!0)},{default:A(()=>[$("Cancel ")]),_:1},8,["button-style"])],2)]),b(_t,{popupId:"select-picture",open:g(S).imagePopupOpen,onClose:C[18]||(C[18]=k=>w())},{content:A(()=>[EC,h("div",SC,[(E(!0),x(Re,null,Ot(g(ui).keys(),k=>(E(),x("img",{class:Ie(["select-image interact-node",{selected:v.value==k}]),src:g(ui).get(k),alt:"profile-image",onClick:D=>v.value=k},null,10,xC))),256))])]),buttons:A(()=>[b(Q,{size:"small","button-style":g(S).darkPatterns?"subtle":"neutral",onClick:C[16]||(C[16]=k=>P())},{default:A(()=>[$("Delete")]),_:1},8,["button-style"]),b(Q,{size:"small",onClick:C[17]||(C[17]=k=>N())},{default:A(()=>[$("Save")]),_:1})]),_:1},8,["open"]),b(_t,{popupId:"leave-without-saving",class:Ie({"dark-pattern":g(S).darkPatterns}),open:n.value,onClose:C[21]||(C[21]=k=>n.value=!1)},{content:A(()=>[h("div",IC,[g(S).darkPatterns?(E(),x("h3",TC,"Leave page?")):Ee("",!0),g(S).darkPatterns?(E(),bt(io,{key:1,percentage:0,class:"emoji-svg"})):Ee("",!0),PC])]),buttons:A(()=>[b(Q,{size:"small","button-style":g(S).darkPatterns?"subtle":"neutral",onClick:C[19]||(C[19]=k=>g(ie).push("/profile"))},{default:A(()=>[$("Confirm ")]),_:1},8,["button-style"]),b(Q,{size:"small",onClick:C[20]||(C[20]=k=>n.value=!1)},{default:A(()=>[$(" Cancel ")]),_:1})]),_:1},8,["class","open"]),b(_t,{popupId:"profile-incomplete",class:"dark-pattern",open:e.value,onClose:C[24]||(C[24]=k=>e.value=!1)},{content:A(()=>[h("div",NC,[RC,b(io,{percentage:g(qs)(s.value),class:"emoji-svg"},null,8,["percentage"]),h("p",null,[$(" Your profile is only "),h("span",AC,pe(g(qs)(s.value))+"%",1),$(" complete. By completing your profile you will connect with other people and get more friends. ")])])]),buttons:A(()=>[b(Q,{size:"small","button-style":"subtle",onClick:C[22]||(C[22]=k=>p())},{default:A(()=>[$("Save ")]),_:1}),b(Q,{size:"small",onClick:C[23]||(C[23]=k=>e.value=!1)},{default:A(()=>[$("Complete profile")]),_:1})]),_:1},8,["open"])],64))}});const DC=ye($C,[["__scopeId","data-v-912993b5"]]),Ll=t=>(st("data-v-61ce0ca5"),t=t(),it(),t),OC={id:"end-view",class:"full-padding"},MC={class:"text-view scroll-style top-bottom-padding"},LC=Ll(()=>h("h1",{class:"title"},"Congratulations!",-1)),FC=Ll(()=>h("br",null,null,-1)),VC=Ll(()=>h("br",null,null,-1)),BC={class:"code-text"},UC=re({__name:"EndView",setup(t){const e=j(He().isAdhd()?"MZXG":"JTDV");return(n,s)=>(E(),x("div",OC,[h("div",MC,[LC,h("p",null,[$(" You finished both tasks. Thank you for taking the time. You can now enter your code on your desktop and finish the study. "),FC,VC,$(" Your code is: "),h("em",BC,pe(e.value),1)])])]))}});const HC=ye(UC,[["__scopeId","data-v-61ce0ca5"]]),ie=qm({history:lm("/"),routes:[{path:"/",name:"wrong-page",component:Xm},{path:"/welcome/:adhd/:prolific",name:"welcome",component:cg},{path:"/questionnaire/:task",name:"questionnaire",component:Hg},{path:"/start/:task",name:"start-task",component:r0},{path:"/entry",name:"entry",component:E0,meta:{taskComponent:!0}},{path:"/premium",name:"premium",component:o2,meta:{taskComponent:!0}},{path:"/sign-up",name:"sign-up",component:A2,meta:{taskComponent:!0}},{path:"/sign-in",name:"sign-in",component:j2,meta:{taskComponent:!0}},{path:"/payment",name:"payment",component:fv,meta:{taskComponent:!0}},{path:"/home",name:"home",component:by,meta:{hasNavbar:!0,taskComponent:!0}},{path:"/friends",name:"friends",component:Dy,meta:{hasNavbar:!0,taskComponent:!0}},{path:"/inbox",name:"inbox",component:Ly,meta:{hasNavbar:!0,taskComponent:!0}},{path:"/profile",name:"profile",component:W5,meta:{hasNavbar:!0,taskComponent:!0}},{path:"/edit-profile",name:"edit-profile",component:DC,meta:{hasNavbar:!1,taskComponent:!0}},{path:"/end",name:"end",component:HC}]});ie.beforeEach((t,e,n)=>{S.navbar=t.matched.some(s=>s.meta.hasNavbar),S.intteruptButton=t.matched.some(s=>s.meta.taskComponent),He().studyOver()&&t.path!="/end"?n("/end"):n()});let Bi;const jC=new Uint8Array(16);function WC(){if(!Bi&&(Bi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Bi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bi(jC)}const rt=[];for(let t=0;t<256;++t)rt.push((t+256).toString(16).slice(1));function qC(t,e=0){return(rt[t[e+0]]+rt[t[e+1]]+rt[t[e+2]]+rt[t[e+3]]+"-"+rt[t[e+4]]+rt[t[e+5]]+"-"+rt[t[e+6]]+rt[t[e+7]]+"-"+rt[t[e+8]]+rt[t[e+9]]+"-"+rt[t[e+10]]+rt[t[e+11]]+rt[t[e+12]]+rt[t[e+13]]+rt[t[e+14]]+rt[t[e+15]]).toLowerCase()}const zC=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Pc={randomUUID:zC};function GC(t,e,n){if(Pc.randomUUID&&!e&&!t)return Pc.randomUUID();t=t||{};const s=t.random||(t.rng||WC)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=s[i];return e}return qC(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V=function(t,e){if(!t)throw Ss(e)},Ss=function(t){return new Error("Firebase Database ("+qd.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},KC=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[s++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],r=t[n++],l=t[n++],a=((i&7)<<18|(o&63)<<12|(r&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(a>>10)),e[s++]=String.fromCharCode(56320+(a&1023))}else{const o=t[n++],r=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(o&63)<<6|r&63)}}return e.join("")},Fl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const o=t[i],r=i+1<t.length,l=r?t[i+1]:0,a=i+2<t.length,c=a?t[i+2]:0,u=o>>2,d=(o&3)<<4|l>>4;let f=(l&15)<<2|c>>6,p=c&63;a||(p=64,r||(f=64)),s.push(n[u],n[d],n[f],n[p])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zd(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||c==null||d==null)throw new YC;const f=o<<2|l>>4;if(s.push(f),c!==64){const p=l<<4&240|c>>2;if(s.push(p),d!==64){const v=c<<6&192|d;s.push(v)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gd=function(t){const e=zd(t);return Fl.encodeByteArray(e,!0)},oo=function(t){return Gd(t).replace(/\./g,"")},jr=function(t){try{return Fl.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t){return Kd(void 0,t)}function Kd(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!ZC(n)||(t[n]=Kd(t[n],e[n]));return t}function ZC(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=()=>JC().__FIREBASE_DEFAULTS__,e4=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},t4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jr(t[1]);return e&&JSON.parse(e)},Yd=()=>{try{return XC()||e4()||t4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},n4=t=>{var e,n;return(n=(e=Yd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},s4=t=>{const e=n4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Qd=()=>{var t;return(t=Yd())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const r=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[oo(JSON.stringify(n)),oo(JSON.stringify(r)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(o4())}function r4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Jd(){return qd.NODE_ADMIN===!0}function l4(){try{return typeof indexedDB=="object"}catch{return!1}}function a4(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="FirebaseError";class xi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=c4,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xd.prototype.create)}}class Xd{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],r=o?u4(o,s):"Error",l=`${this.serviceName}: ${r} (${i}).`;return new xi(i,l,s)}}function u4(t,e){return t.replace(d4,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const d4=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t){return JSON.parse(t)}function Qe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=function(t){let e={},n={},s={},i="";try{const o=t.split(".");e=di(jr(o[0])||""),n=di(jr(o[1])||""),i=o[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:i}},h4=function(t){const e=eh(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},f4=function(t){const e=eh(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ms(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Nc(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ro(t,e,n){const s={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=e.call(n,t[i],i,t));return s}function Wr(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const o=t[i],r=e[i];if(Rc(o)&&Rc(r)){if(!Wr(o,r))return!1}else if(o!==r)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function Rc(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)s[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)s[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=s[d-3]^s[d-8]^s[d-14]^s[d-16];s[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],r=this.chain_[2],l=this.chain_[3],a=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=l^o&(r^l),u=1518500249):(c=o^r^l,u=1859775393):d<60?(c=o&r|l&(o|r),u=2400959708):(c=o^r^l,u=3395469782);const f=(i<<5|i>>>27)+c+a+u+s[d]&4294967295;a=l,l=r,r=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+r&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let i=0;const o=this.buf_;let r=this.inbuf_;for(;i<n;){if(r===0)for(;i<=s;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[r]=e.charCodeAt(i),++r,++i,r===this.blockSize){this.compress_(o),r=0;break}}else for(;i<n;)if(o[r]=e[i],++r,++i,r===this.blockSize){this.compress_(o),r=0;break}}this.inbuf_=r,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[s]=this.chain_[i]>>o&255,++s;return e}}function Vl(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);if(i>=55296&&i<=56319){const o=i-55296;s++,V(s<t.length,"Surrogate pair missing trail surrogate.");const r=t.charCodeAt(s)-56320;i=65536+(o<<10)+r}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},jo=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(t){return t&&t._delegate?t._delegate:t}class hi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Ho;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(y4(e))try{this.getOrInitializeService({instanceIdentifier:Nn})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});s.resolve(o)}catch{}}}}clearInstance(e=Nn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Nn){return this.instances.has(e)}getOptions(e=Nn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[o,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);s===l&&r.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),o=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;o.add(e),this.onInitCallbacks.set(i,o);const r=this.instances.get(i);return r&&e(r,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:v4(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Nn){return this.component?this.component.multipleInstances?e:Nn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function v4(t){return t===Nn?void 0:t}function y4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new g4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const b4={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},w4=Le.INFO,k4={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},E4=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=k4[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class th{constructor(e){this.name=e,this._logLevel=w4,this._logHandler=E4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?b4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const S4=(t,e)=>e.some(n=>t instanceof n);let Ac,$c;function x4(){return Ac||(Ac=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function I4(){return $c||($c=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nh=new WeakMap,qr=new WeakMap,sh=new WeakMap,ur=new WeakMap,Bl=new WeakMap;function T4(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",r)},o=()=>{n(gn(t.result)),i()},r=()=>{s(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",r)});return e.then(n=>{n instanceof IDBCursor&&nh.set(n,t)}).catch(()=>{}),Bl.set(e,t),e}function P4(t){if(qr.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",r),t.removeEventListener("abort",r)},o=()=>{n(),i()},r=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",r),t.addEventListener("abort",r)});qr.set(t,e)}let zr={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qr.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sh.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function N4(t){zr=t(zr)}function R4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(dr(this),e,...n);return sh.set(s,e.sort?e.sort():[e]),gn(s)}:I4().includes(t)?function(...e){return t.apply(dr(this),e),gn(nh.get(this))}:function(...e){return gn(t.apply(dr(this),e))}}function A4(t){return typeof t=="function"?R4(t):(t instanceof IDBTransaction&&P4(t),S4(t,x4())?new Proxy(t,zr):t)}function gn(t){if(t instanceof IDBRequest)return T4(t);if(ur.has(t))return ur.get(t);const e=A4(t);return e!==t&&(ur.set(t,e),Bl.set(e,t)),e}const dr=t=>Bl.get(t);function $4(t,e,{blocked:n,upgrade:s,blocking:i,terminated:o}={}){const r=indexedDB.open(t,e),l=gn(r);return s&&r.addEventListener("upgradeneeded",a=>{s(gn(r.result),a.oldVersion,a.newVersion,gn(r.transaction),a)}),n&&r.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{o&&a.addEventListener("close",()=>o()),i&&a.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const D4=["get","getKey","getAll","getAllKeys","count"],O4=["put","add","delete","clear"],hr=new Map;function Dc(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hr.get(e))return hr.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=O4.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||D4.includes(n)))return;const o=async function(r,...l){const a=this.transaction(r,i?"readwrite":"readonly");let c=a.store;return s&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&a.done]))[0]};return hr.set(e,o),o}N4(t=>({...t,get:(e,n,s)=>Dc(e,n)||t.get(e,n,s),has:(e,n)=>!!Dc(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(L4(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function L4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gr="@firebase/app",Oc="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en=new th("@firebase/app"),F4="@firebase/app-compat",V4="@firebase/analytics-compat",B4="@firebase/analytics",U4="@firebase/app-check-compat",H4="@firebase/app-check",j4="@firebase/auth",W4="@firebase/auth-compat",q4="@firebase/database",z4="@firebase/data-connect",G4="@firebase/database-compat",K4="@firebase/functions",Y4="@firebase/functions-compat",Q4="@firebase/installations",Z4="@firebase/installations-compat",J4="@firebase/messaging",X4="@firebase/messaging-compat",e6="@firebase/performance",t6="@firebase/performance-compat",n6="@firebase/remote-config",s6="@firebase/remote-config-compat",i6="@firebase/storage",o6="@firebase/storage-compat",r6="@firebase/firestore",l6="@firebase/vertexai-preview",a6="@firebase/firestore-compat",c6="firebase",u6="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="[DEFAULT]",d6={[Gr]:"fire-core",[F4]:"fire-core-compat",[B4]:"fire-analytics",[V4]:"fire-analytics-compat",[H4]:"fire-app-check",[U4]:"fire-app-check-compat",[j4]:"fire-auth",[W4]:"fire-auth-compat",[q4]:"fire-rtdb",[z4]:"fire-data-connect",[G4]:"fire-rtdb-compat",[K4]:"fire-fn",[Y4]:"fire-fn-compat",[Q4]:"fire-iid",[Z4]:"fire-iid-compat",[J4]:"fire-fcm",[X4]:"fire-fcm-compat",[e6]:"fire-perf",[t6]:"fire-perf-compat",[n6]:"fire-rc",[s6]:"fire-rc-compat",[i6]:"fire-gcs",[o6]:"fire-gcs-compat",[r6]:"fire-fst",[a6]:"fire-fst-compat",[l6]:"fire-vertex","fire-js":"fire-js",[c6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new Map,h6=new Map,Yr=new Map;function Mc(t,e){try{t.container.addComponent(e)}catch(n){en.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ao(t){const e=t.name;if(Yr.has(e))return en.debug(`There were multiple attempts to register component ${e}.`),!1;Yr.set(e,t);for(const n of lo.values())Mc(n,t);for(const n of h6.values())Mc(n,t);return!0}function f6(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vn=new Xd("app","Firebase",p6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=u6;function ih(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Kr,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw vn.create("bad-app-name",{appName:String(i)});if(n||(n=Qd()),!n)throw vn.create("no-options");const o=lo.get(i);if(o){if(Wr(n,o.options)&&Wr(s,o.config))return o;throw vn.create("duplicate-app",{appName:i})}const r=new C4(i);for(const a of Yr.values())r.addComponent(a);const l=new _6(n,s,r);return lo.set(i,l),l}function g6(t=Kr){const e=lo.get(t);if(!e&&t===Kr&&Qd())return ih();if(!e)throw vn.create("no-app",{appName:t});return e}function os(t,e,n){var s;let i=(s=d6[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),r=e.match(/\s|\//);if(o||r){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&r&&l.push("and"),r&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),en.warn(l.join(" "));return}ao(new hi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6="firebase-heartbeat-database",y6=1,fi="firebase-heartbeat-store";let fr=null;function oh(){return fr||(fr=$4(v6,y6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fi)}catch(n){console.warn(n)}}}}).catch(t=>{throw vn.create("idb-open",{originalErrorMessage:t.message})})),fr}async function C6(t){try{const n=(await oh()).transaction(fi),s=await n.objectStore(fi).get(rh(t));return await n.done,s}catch(e){if(e instanceof xi)en.warn(e.message);else{const n=vn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});en.warn(n.message)}}}async function Lc(t,e){try{const s=(await oh()).transaction(fi,"readwrite");await s.objectStore(fi).put(e,rh(t)),await s.done}catch(n){if(n instanceof xi)en.warn(n.message);else{const s=vn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});en.warn(s.message)}}}function rh(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=1024,w6=30*24*60*60*1e3;class k6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new S6(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Fc();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(r=>r.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const l=new Date(r.date).valueOf();return Date.now()-l<=w6}),this._storage.overwrite(this._heartbeatsCache))}catch(s){en.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fc(),{heartbeatsToSend:s,unsentEntries:i}=E6(this._heartbeatsCache.heartbeats),o=oo(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return en.warn(n),""}}}function Fc(){return new Date().toISOString().substring(0,10)}function E6(t,e=b6){const n=[];let s=t.slice();for(const i of t){const o=n.find(r=>r.agent===i.agent);if(o){if(o.dates.push(i.date),Vc(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Vc(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class S6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return l4()?a4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await C6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Lc(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Lc(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Vc(t){return oo(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(t){ao(new hi("platform-logger",e=>new M4(e),"PRIVATE")),ao(new hi("heartbeat",e=>new k6(e),"PRIVATE")),os(Gr,Oc,t),os(Gr,Oc,"esm2017"),os("fire-js","")}x6("");var I6="firebase",T6="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os(I6,T6,"app");const Bc="@firebase/database",Uc="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh="";function P6(t){lh=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Qe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:di(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return sn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new N6(e)}}catch{}return new R6},Mn=ah("localStorage"),Qr=ah("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new th("@firebase/database"),A6=function(){let t=1;return function(){return t++}}(),ch=function(t){const e=m4(t),n=new _4;n.update(e);const s=n.digest();return Fl.encodeByteArray(s)},Ii=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Ii.apply(null,s):typeof s=="object"?e+=Qe(s):e+=s,e+=" "}return e};let Bn=null,Hc=!0;const $6=function(t,e){V(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(rs.logLevel=Le.VERBOSE,Bn=rs.log.bind(rs),e&&Qr.set("logging_enabled",!0)):typeof t=="function"?Bn=t:(Bn=null,Qr.remove("logging_enabled"))},at=function(...t){if(Hc===!0&&(Hc=!1,Bn===null&&Qr.get("logging_enabled")===!0&&$6(!0)),Bn){const e=Ii.apply(null,t);Bn(e)}},Ti=function(t){return function(...e){at(t,...e)}},Zr=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ii(...t);rs.error(e)},tn=function(...t){const e=`FIREBASE FATAL ERROR: ${Ii(...t)}`;throw rs.error(e),new Error(e)},mt=function(...t){const e="FIREBASE WARNING: "+Ii(...t);rs.warn(e)},D6=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&mt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},uh=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},O6=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},gs="[MIN_NAME]",Un="[MAX_NAME]",Is=function(t,e){if(t===e)return 0;if(t===gs||e===Un)return-1;if(e===gs||t===Un)return 1;{const n=jc(t),s=jc(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},M6=function(t,e){return t===e?0:t<e?-1:1},Ds=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Qe(e))},Ul=function(t){if(typeof t!="object"||t===null)return Qe(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=Qe(e[s]),n+=":",n+=Ul(t[e[s]]);return n+="}",n},dh=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let i=0;i<n;i+=e)i+e>n?s.push(t.substring(i,n)):s.push(t.substring(i,i+e));return s};function vt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const hh=function(t){V(!uh(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let i,o,r,l,a;t===0?(o=0,r=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),s),o=l+s,r=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(o=0,r=Math.round(t/Math.pow(2,1-s-n))));const c=[];for(a=n;a;a-=1)c.push(r%2?1:0),r=Math.floor(r/2);for(a=e;a;a-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(a=0;a<64;a+=8){let f=parseInt(u.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},L6=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},F6=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function V6(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const B6=new RegExp("^-?(0*)\\d{1,10}$"),U6=-2147483648,H6=2147483647,jc=function(t){if(B6.test(t)){const e=Number(t);if(e>=U6&&e<=H6)return e}return null},Ts=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw mt("Exception was thrown by user callback.",n),e},Math.floor(0))}},j6=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ys=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){mt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(at("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mt(e)}}class ls{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ls.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl="5",fh="v",ph="s",_h="r",mh="f",gh=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,vh="ls",yh="p",Jr="ac",Ch="websocket",bh="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n,s,i,o=!1,r="",l=!1,a=!1){this.secure=n,this.namespace=s,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=r,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Mn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Mn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function z6(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function kh(t,e,n){V(typeof e=="string","typeof type must == string"),V(typeof n=="object","typeof params must == object");let s;if(e===Ch)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===bh)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);z6(t)&&(n.ns=t.namespace);const i=[];return vt(n,(o,r)=>{i.push(o+"="+r)}),s+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(){this.counters_={}}incrementCounter(e,n=1){sn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return QC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr={},_r={};function jl(t){const e=t.toString();return pr[e]||(pr[e]=new G6),pr[e]}function K6(t,e){const n=t.toString();return _r[n]||(_r[n]=e()),_r[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<s.length;++i)s[i]&&Ts(()=>{this.onMessage_(s[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc="start",Q6="close",Z6="pLPCommand",J6="pRTLPCB",Eh="id",Sh="pw",xh="ser",X6="cb",eb="seg",tb="ts",nb="d",sb="dframe",Ih=1870,Th=30,ib=Ih-Th,ob=25e3,rb=3e4;class ts{constructor(e,n,s,i,o,r,l){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=i,this.authToken=o,this.transportSessionId=r,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ti(e),this.stats_=jl(n),this.urlFn=a=>(this.appCheckToken&&(a[Jr]=this.appCheckToken),kh(n,bh,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Y6(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(rb)),O6(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Wl((...o)=>{const[r,l,a,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,r===Wc)this.id=l,this.password=a;else if(r===Q6)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+r)},(...o)=>{const[r,l]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(r,l)},()=>{this.onClosed_()},this.urlFn);const s={};s[Wc]="t",s[xh]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[X6]=this.scriptTagHolder.uniqueCallbackIdentifier),s[fh]=Hl,this.transportSessionId&&(s[ph]=this.transportSessionId),this.lastSessionId&&(s[vh]=this.lastSessionId),this.applicationId&&(s[yh]=this.applicationId),this.appCheckToken&&(s[Jr]=this.appCheckToken),typeof location<"u"&&location.hostname&&gh.test(location.hostname)&&(s[_h]=mh);const i=this.urlFn(s);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ts.forceAllow_=!0}static forceDisallow(){ts.forceDisallow_=!0}static isAvailable(){return ts.forceAllow_?!0:!ts.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!L6()&&!F6()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Qe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Gd(n),i=dh(s,ib);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[sb]="t",s[Eh]=e,s[Sh]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Qe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Wl{constructor(e,n,s,i){this.onDisconnect=s,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=A6(),window[Z6+this.uniqueCallbackIdentifier]=e,window[J6+this.uniqueCallbackIdentifier]=n,this.myIFrame=Wl.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(l){at("frame writing exception"),l.stack&&at(l.stack),at(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||at("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Eh]=this.myID,e[Sh]=this.myPW,e[xh]=this.currentSerial;let n=this.urlFn(e),s="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Th+s.length<=Ih;){const r=this.pendingSegs.shift();s=s+"&"+eb+i+"="+r.seg+"&"+tb+i+"="+r.ts+"&"+nb+i+"="+r.d,i++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(s,Math.floor(ob)),o=()=>{clearTimeout(i),s()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const i=s.readyState;(!i||i==="loaded"||i==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{at("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=16384,ab=45e3;let co=null;typeof MozWebSocket<"u"?co=MozWebSocket:typeof WebSocket<"u"&&(co=WebSocket);class Nt{constructor(e,n,s,i,o,r,l){this.connId=e,this.applicationId=s,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ti(this.connId),this.stats_=jl(n),this.connURL=Nt.connectionURL_(n,r,l,i,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,i,o){const r={};return r[fh]=Hl,typeof location<"u"&&location.hostname&&gh.test(location.hostname)&&(r[_h]=mh),n&&(r[ph]=n),s&&(r[vh]=s),i&&(r[Jr]=i),o&&(r[yh]=o),kh(e,Ch,r)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Mn.set("previous_websocket_failure",!0);try{let s;Jd(),this.mySock=new co(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Nt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&co!==null&&!Nt.forceDisallow_}static previouslyFailed(){return Mn.isInMemoryStorage||Mn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Mn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=di(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(V(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=Qe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=dh(n,lb);s.length>1&&this.sendString_(String(s.length));for(let i=0;i<s.length;i++)this.sendString_(s[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(ab))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Nt.responsesRequiredToBeHealthy=2;Nt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ts,Nt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Nt&&Nt.isAvailable();let s=n&&!Nt.previouslyFailed();if(e.webSocketOnly&&(n||mt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Nt];else{const i=this.transports_=[];for(const o of pi.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);pi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}pi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=6e4,ub=5e3,db=10*1024,hb=100*1024,mr="t",qc="d",fb="s",zc="r",pb="e",Gc="o",Kc="a",Yc="n",Qc="p",_b="h";class mb{constructor(e,n,s,i,o,r,l,a,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=r,this.onReady_=l,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ti("c:"+this.id+":"),this.transportManager_=new pi(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ys(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>hb?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>db?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(mr in e){const n=e[mr];n===Kc?this.upgradeIfSecondaryHealthy_():n===zc?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Gc&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ds("t",e),s=Ds("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Qc,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Kc,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Yc,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ds("t",e),s=Ds("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ds(mr,e);if(qc in e){const s=e[qc];if(n===_b){const i=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Yc){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===fb?this.onConnectionShutdown_(s):n===zc?this.onReset_(s):n===pb?Zr("Server Error: "+s):n===Gc?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Zr("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Hl!==s&&mt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Ys(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(cb))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ys(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(ub))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Qc,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Mn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{put(e,n,s,i){}merge(e,n,s,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e){this.allowedEvents_=e,this.listeners_={},V(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let i=0;i<s.length;i++)s[i].callback.apply(s[i].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const i=this.getInitialEvent(e);i&&n.apply(s,i)}off(e,n,s){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!s||s===i[o].context)){i.splice(o,1);return}}validateEventType_(e){V(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends Nh{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Zd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new uo}getInitialEvent(e){return V(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=32,Jc=768;class Oe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[s]=this.pieces_[i],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Se(){return new Oe("")}function me(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function kn(t){return t.pieces_.length-t.pieceNum_}function Fe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Oe(t.pieces_,e)}function Rh(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function gb(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ah(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function $h(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Oe(e,0)}function Ze(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof Oe)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let i=0;i<s.length;i++)s[i].length>0&&n.push(s[i])}return new Oe(n,0)}function fe(t){return t.pieceNum_>=t.pieces_.length}function dt(t,e){const n=me(t),s=me(e);if(n===null)return e;if(n===s)return dt(Fe(t),Fe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Dh(t,e){if(kn(t)!==kn(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function At(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(kn(t)>kn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class vb{constructor(e,n){this.errorPrefix_=n,this.parts_=Ah(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=jo(this.parts_[s]);Oh(this)}}function yb(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=jo(e),Oh(t)}function Cb(t){const e=t.parts_.pop();t.byteLength_-=jo(e),t.parts_.length>0&&(t.byteLength_-=1)}function Oh(t){if(t.byteLength_>Jc)throw new Error(t.errorPrefix_+"has a key path longer than "+Jc+" bytes ("+t.byteLength_+").");if(t.parts_.length>Zc)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Zc+") or object contains a cycle "+Rn(t))}function Rn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends Nh{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new ql}getInitialEvent(e){return V(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=1e3,bb=60*5*1e3,Xc=30*1e3,wb=1.3,kb=3e4,Eb="server_kill",eu=3;class Jt extends Ph{constructor(e,n,s,i,o,r,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=r,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Jt.nextPersistentConnectionId_++,this.log_=Ti("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Os,this.maxReconnectDelay_=bb,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Jd())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ql.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&uo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(Qe(o)),V(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),s&&(this.requestCBHash_[i]=s)}get(e){this.initConnection_();const n=new Ho,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:r=>{const l=r.d;r.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,s,i){this.initConnection_();const o=e._queryIdentifier,r=e._path.toString();this.log_("Listen called for "+r+" "+o),this.listens.has(r)||this.listens.set(r,new Map),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),V(!this.listens.get(r).has(o),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:s};this.listens.get(r).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+s+" for "+i);const o={p:s},r="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(r,o,l=>{const a=l.d,c=l.s;Jt.warnOnListenWarnings_(a,n),(this.listens.get(s)&&this.listens.get(s).get(i))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(s,i),e.onComplete&&e.onComplete(c,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&sn(e,"w")){const s=ms(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();mt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||f4(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Xc)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=h4(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,i=>{const o=i.s,r=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+i),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,i)&&this.connected_&&this.sendUnlisten_(s,i,e._queryObject,n)}sendUnlisten_(e,n,s,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},r="n";i&&(o.q=s,o.t=i),this.sendRequest(r,o)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,i){const o={p:n,d:s};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,r=>{i&&setTimeout(()=>{i(r.s,r.d)},Math.floor(0))})}put(e,n,s,i){this.putInternal("p",e,n,s,i)}merge(e,n,s,i){this.putInternal("m",e,n,s,i)}putInternal(e,n,s,i,o){this.initConnection_();const r={p:n,d:s};o!==void 0&&(r.h=o),this.outstandingPuts_.push({action:e,request:r,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const o=s.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Qe(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Zr("Unrecognized action received from server: "+Qe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){V(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Os,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Os,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>kb&&(this.reconnectDelay_=Os),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*wb)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Jt.nextConnectionId_++,o=this.lastSessionId;let r=!1,l=null;const a=function(){l?l.close():(r=!0,s())},c=function(d){V(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:a,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);r?at("getToken() completed but was canceled"):(at("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,l=new mb(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,p=>{mt(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Eb)},o))}catch(d){this.log_("Failed to get token: "+d),r||(this.repoInfo_.nodeAdmin&&mt(d),a())}}}interrupt(e){at("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){at("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Nc(this.interruptReasons_)&&(this.reconnectDelay_=Os,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(o=>Ul(o)).join("$"):s="default";const i=this.removeListen_(e,s);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const s=new Oe(e).toString();let i;if(this.listens.has(s)){const o=this.listens.get(s);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(s)}else i=void 0;return i}onAuthRevoked_(e,n){at("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=eu&&(this.reconnectDelay_=Xc,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){at("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=eu&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+lh.replace(/\./g,"-")]=1,Zd()?e["framework.cordova"]=1:r4()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=uo.getInstance().currentlyOnline();return Nc(this.interruptReasons_)&&e}}Jt.nextPersistentConnectionId_=0;Jt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ue(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new ue(gs,e),i=new ue(gs,n);return this.compare(s,i)!==0}minPost(){return ue.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ui;class Mh extends Wo{static get __EMPTY_NODE(){return Ui}static set __EMPTY_NODE(e){Ui=e}compare(e,n){return Is(e.name,n.name)}isDefinedOn(e){throw Ss("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ue.MIN}maxPost(){return new ue(Un,Ui)}makePost(e,n){return V(typeof e=="string","KeyIndex indexValue must always be a string."),new ue(e,Ui)}toString(){return".key"}}const as=new Mh;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n,s,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let r=1;for(;!e.isEmpty();)if(e=e,r=n?s(e.key,n):1,i&&(r*=-1),r<0)this.isReverse_?e=e.left:e=e.right;else if(r===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Xe{constructor(e,n,s,i,o){this.key=e,this.value=n,this.color=s??Xe.RED,this.left=i??pt.EMPTY_NODE,this.right=o??pt.EMPTY_NODE}copy(e,n,s,i,o){return new Xe(e??this.key,n??this.value,s??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const o=s(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,s),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return pt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,i;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return pt.EMPTY_NODE;i=s.right.min_(),s=s.copy(i.key,i.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Xe.RED=!0;Xe.BLACK=!1;class Sb{copy(e,n,s,i,o){return this}insert(e,n,s){return new Xe(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class pt{constructor(e,n=pt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new pt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Xe.BLACK,null,null))}remove(e){return new pt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Xe.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,i=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return i?i.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(i=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Hi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Hi(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Hi(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Hi(this.root_,null,this.comparator_,!0,e)}}pt.EMPTY_NODE=new Sb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t,e){return Is(t.name,e.name)}function zl(t,e){return Is(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xr;function Ib(t){Xr=t}const Lh=function(t){return typeof t=="number"?"number:"+hh(t):"string:"+t},Fh=function(t){if(t.isLeafNode()){const e=t.val();V(typeof e=="string"||typeof e=="number"||typeof e=="object"&&sn(e,".sv"),"Priority must be a string or number.")}else V(t===Xr||t.isEmpty(),"priority of unexpected type.");V(t===Xr||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu;class Je{constructor(e,n=Je.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,V(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Fh(this.priorityNode_)}static set __childrenNodeConstructor(e){tu=e}static get __childrenNodeConstructor(){return tu}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Je(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Je.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return fe(e)?this:me(e)===".priority"?this.priorityNode_:Je.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Je.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=me(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(V(s!==".priority"||kn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,Je.__childrenNodeConstructor.EMPTY_NODE.updateChild(Fe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Lh(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=hh(this.value_):e+=this.value_,this.lazyHash_=ch(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Je.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Je.__childrenNodeConstructor?-1:(V(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,i=Je.VALUE_TYPE_ORDER.indexOf(n),o=Je.VALUE_TYPE_ORDER.indexOf(s);return V(i>=0,"Unknown leaf type: "+n),V(o>=0,"Unknown leaf type: "+s),i===o?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Je.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vh,Bh;function Tb(t){Vh=t}function Pb(t){Bh=t}class Nb extends Wo{compare(e,n){const s=e.node.getPriority(),i=n.node.getPriority(),o=s.compareTo(i);return o===0?Is(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ue.MIN}maxPost(){return new ue(Un,new Je("[PRIORITY-POST]",Bh))}makePost(e,n){const s=Vh(e);return new ue(n,new Je("[PRIORITY-POST]",s))}toString(){return".priority"}}const We=new Nb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=Math.log(2);class Ab{constructor(e){const n=o=>parseInt(Math.log(o)/Rb,10),s=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=s(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ho=function(t,e,n,s){t.sort(e);const i=function(a,c){const u=c-a;let d,f;if(u===0)return null;if(u===1)return d=t[a],f=n?n(d):d,new Xe(f,d.node,Xe.BLACK,null,null);{const p=parseInt(u/2,10)+a,v=i(a,p),w=i(p+1,c);return d=t[p],f=n?n(d):d,new Xe(f,d.node,Xe.BLACK,v,w)}},o=function(a){let c=null,u=null,d=t.length;const f=function(v,w){const P=d-v,N=d;d-=v;const L=i(P+1,N),C=t[P],k=n?n(C):C;p(new Xe(k,C.node,w,null,L))},p=function(v){c?(c.left=v,c=v):(u=v,c=v)};for(let v=0;v<a.count;++v){const w=a.nextBitIsOne(),P=Math.pow(2,a.count-(v+1));w?f(P,Xe.BLACK):(f(P,Xe.BLACK),f(P,Xe.RED))}return u},r=new Ab(t.length),l=o(r);return new pt(s||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gr;const Xn={};class Zt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return V(Xn&&We,"ChildrenNode.ts has not been loaded"),gr=gr||new Zt({".priority":Xn},{".priority":We}),gr}get(e){const n=ms(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof pt?n:null}hasIndex(e){return sn(this.indexSet_,e.toString())}addIndex(e,n){V(e!==as,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let i=!1;const o=n.getIterator(ue.Wrap);let r=o.getNext();for(;r;)i=i||e.isDefinedOn(r.node),s.push(r),r=o.getNext();let l;i?l=ho(s,e.getCompare()):l=Xn;const a=e.toString(),c=Object.assign({},this.indexSet_);c[a]=e;const u=Object.assign({},this.indexes_);return u[a]=l,new Zt(u,c)}addToIndexes(e,n){const s=ro(this.indexes_,(i,o)=>{const r=ms(this.indexSet_,o);if(V(r,"Missing index implementation for "+o),i===Xn)if(r.isDefinedOn(e.node)){const l=[],a=n.getIterator(ue.Wrap);let c=a.getNext();for(;c;)c.name!==e.name&&l.push(c),c=a.getNext();return l.push(e),ho(l,r.getCompare())}else return Xn;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new ue(e.name,l))),a.insert(e,e.node)}});return new Zt(s,this.indexSet_)}removeFromIndexes(e,n){const s=ro(this.indexes_,i=>{if(i===Xn)return i;{const o=n.get(e.name);return o?i.remove(new ue(e.name,o)):i}});return new Zt(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ms;class se{constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&Fh(this.priorityNode_),this.children_.isEmpty()&&V(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ms||(Ms=new se(new pt(zl),null,Zt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ms}updatePriority(e){return this.children_.isEmpty()?this:new se(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ms:n}}getChild(e){const n=me(e);return n===null?this:this.getImmediateChild(n).getChild(Fe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(V(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new ue(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(s,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(s,this.children_));const r=i.isEmpty()?Ms:this.priorityNode_;return new se(i,r,o)}}updateChild(e,n){const s=me(e);if(s===null)return n;{V(me(e)!==".priority"||kn(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(s).updateChild(Fe(e),n);return this.updateImmediateChild(s,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,i=0,o=!0;if(this.forEachChild(We,(r,l)=>{n[r]=l.val(e),s++,o&&se.INTEGER_REGEXP_.test(r)?i=Math.max(i,Number(r)):o=!1}),!e&&o&&i<2*s){const r=[];for(const l in n)r[l]=n[l];return r}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Lh(this.getPriority().val())+":"),this.forEachChild(We,(n,s)=>{const i=s.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":ch(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const i=this.resolveIndex_(s);if(i){const o=i.getPredecessorKey(new ue(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ue(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ue(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ue.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ue.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Pi?-1:0}withIndex(e){if(e===as||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new se(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===as||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(We),i=n.getIterator(We);let o=s.getNext(),r=i.getNext();for(;o&&r;){if(o.name!==r.name||!o.node.equals(r.node))return!1;o=s.getNext(),r=i.getNext()}return o===null&&r===null}else return!1;else return!1}}resolveIndex_(e){return e===as?null:this.indexMap_.get(e.toString())}}se.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class $b extends se{constructor(){super(new pt(zl),se.EMPTY_NODE,Zt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return se.EMPTY_NODE}isEmpty(){return!1}}const Pi=new $b;Object.defineProperties(ue,{MIN:{value:new ue(gs,se.EMPTY_NODE)},MAX:{value:new ue(Un,Pi)}});Mh.__EMPTY_NODE=se.EMPTY_NODE;Je.__childrenNodeConstructor=se;Ib(Pi);Pb(Pi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=!0;function et(t,e=null){if(t===null)return se.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),V(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Je(n,et(e))}if(!(t instanceof Array)&&Db){const n=[];let s=!1;if(vt(t,(r,l)=>{if(r.substring(0,1)!=="."){const a=et(l);a.isEmpty()||(s=s||!a.getPriority().isEmpty(),n.push(new ue(r,a)))}}),n.length===0)return se.EMPTY_NODE;const o=ho(n,xb,r=>r.name,zl);if(s){const r=ho(n,We.getCompare());return new se(o,et(e),new Zt({".priority":r},{".priority":We}))}else return new se(o,et(e),Zt.Default)}else{let n=se.EMPTY_NODE;return vt(t,(s,i)=>{if(sn(t,s)&&s.substring(0,1)!=="."){const o=et(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(s,o))}}),n.updatePriority(et(e))}}Tb(et);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob extends Wo{constructor(e){super(),this.indexPath_=e,V(!fe(e)&&me(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),i=this.extractChild(n.node),o=s.compareTo(i);return o===0?Is(e.name,n.name):o}makePost(e,n){const s=et(e),i=se.EMPTY_NODE.updateChild(this.indexPath_,s);return new ue(n,i)}maxPost(){const e=se.EMPTY_NODE.updateChild(this.indexPath_,Pi);return new ue(Un,e)}toString(){return Ah(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb extends Wo{compare(e,n){const s=e.node.compareTo(n.node);return s===0?Is(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ue.MIN}maxPost(){return ue.MAX}makePost(e,n){const s=et(e);return new ue(n,s)}toString(){return".value"}}const Lb=new Mb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(t){return{type:"value",snapshotNode:t}}function vs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function _i(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function mi(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Fb(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this.index_=e}updateChild(e,n,s,i,o,r){V(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(s.getChild(i))&&l.isEmpty()===s.isEmpty()||(r!=null&&(s.isEmpty()?e.hasChild(n)?r.trackChildChange(_i(n,l)):V(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?r.trackChildChange(vs(n,s)):r.trackChildChange(mi(n,s,l))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(We,(i,o)=>{n.hasChild(i)||s.trackChildChange(_i(i,o))}),n.isLeafNode()||n.forEachChild(We,(i,o)=>{if(e.hasChild(i)){const r=e.getImmediateChild(i);r.equals(o)||s.trackChildChange(mi(i,o,r))}else s.trackChildChange(vs(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?se.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.indexedFilter_=new Gl(e.getIndex()),this.index_=e.getIndex(),this.startPost_=gi.getStartPost_(e),this.endPost_=gi.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,i,o,r){return this.matches(new ue(n,s))||(s=se.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,i,o,r)}updateFullNode(e,n,s){n.isLeafNode()&&(n=se.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(se.EMPTY_NODE);const o=this;return n.forEachChild(We,(r,l)=>{o.matches(new ue(r,l))||(i=i.updateImmediateChild(r,se.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new gi(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,i,o,r){return this.rangedFilter_.matches(new ue(n,s))||(s=se.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,i,o,r):this.fullLimitUpdateChild_(e,n,s,o,r)}updateFullNode(e,n,s){let i;if(n.isLeafNode()||n.isEmpty())i=se.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=se.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let r=0;for(;o.hasNext()&&r<this.limit_;){const l=o.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),r++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(se.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let r=0;for(;o.hasNext();){const l=o.getNext();r<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?r++:i=i.updateImmediateChild(l.name,se.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,i,o){let r;if(this.reverse_){const d=this.index_.getCompare();r=(f,p)=>d(p,f)}else r=this.index_.getCompare();const l=e;V(l.numChildren()===this.limit_,"");const a=new ue(n,s),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),u=this.rangedFilter_.matches(a);if(l.hasChild(n)){const d=l.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||l.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const p=f==null?1:r(f,a);if(u&&!s.isEmpty()&&p>=0)return o!=null&&o.trackChildChange(mi(n,s,d)),l.updateImmediateChild(n,s);{o!=null&&o.trackChildChange(_i(n,d));const w=l.updateImmediateChild(n,se.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o!=null&&o.trackChildChange(vs(f.name,f.node)),w.updateImmediateChild(f.name,f.node)):w}}else return s.isEmpty()?e:u&&r(c,a)>=0?(o!=null&&(o.trackChildChange(_i(c.name,c.node)),o.trackChildChange(vs(n,s))),l.updateImmediateChild(n,s).updateImmediateChild(c.name,se.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=We}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return V(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return V(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:gs}hasEnd(){return this.endSet_}getIndexEndValue(){return V(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return V(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Un}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return V(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===We}copy(){const e=new Kl;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Bb(t){return t.loadsAllData()?new Gl(t.getIndex()):t.hasLimit()?new Vb(t):new gi(t)}function nu(t){const e={};if(t.isDefault())return e;let n;if(t.index_===We?n="$priority":t.index_===Lb?n="$value":t.index_===as?n="$key":(V(t.index_ instanceof Ob,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Qe(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=Qe(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+Qe(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=Qe(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+Qe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function su(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==We&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends Ph{constructor(e,n,s,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=i,this.log_=Ti("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(V(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,s,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const r=fo.getListenId_(e,s),l={};this.listens_[r]=l;const a=nu(e._queryParams);this.restRequest_(o+".json",a,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,s),ms(this.listens_,r)===l){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const s=fo.getListenId_(e,n);delete this.listens_[s]}get(e){const n=nu(e._queryParams),s=e._path.toString(),i=new Ho;return this.restRequest_(s+".json",n,(o,r)=>{let l=r;o===404&&(l=null,o=null),o===null?(this.onDataUpdate_(s,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const r=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+p4(n);this.log_("Sending REST request for "+r);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(s&&l.readyState===4){this.log_("REST Response for "+r+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=di(l.responseText)}catch{mt("Failed to parse JSON response for "+r+": "+l.responseText)}s(null,a)}else l.status!==401&&l.status!==404&&mt("Got unsuccessful REST response for "+r+" Status: "+l.status),s(l.status);s=null}},l.open("GET",r,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.rootNode_=se.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(){return{value:null,children:new Map}}function Hh(t,e,n){if(fe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=me(e);t.children.has(s)||t.children.set(s,po());const i=t.children.get(s);e=Fe(e),Hh(i,e,n)}}function el(t,e,n){t.value!==null?n(e,t.value):Hb(t,(s,i)=>{const o=new Oe(e.toString()+"/"+s);el(i,o,n)})}function Hb(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&vt(this.last_,(s,i)=>{n[s]=n[s]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=10*1e3,Wb=30*1e3,qb=5*60*1e3;class zb{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new jb(e);const s=iu+(Wb-iu)*Math.random();Ys(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;vt(e,(i,o)=>{o>0&&sn(this.statsToReport_,i)&&(n[i]=o,s=!0)}),s&&this.server_.reportStats(n),Ys(this.reportStats_.bind(this),Math.floor(Math.random()*2*qb))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})($t||($t={}));function jh(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Yl(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ql(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=$t.ACK_USER_WRITE,this.source=jh()}operationForChild(e){if(fe(this.path)){if(this.affectedTree.value!=null)return V(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Oe(e));return new _o(Se(),n,this.revert)}}else return V(me(this.path)===e,"operationForChild called for unrelated child."),new _o(Fe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n){this.source=e,this.path=n,this.type=$t.LISTEN_COMPLETE}operationForChild(e){return fe(this.path)?new vi(this.source,Se()):new vi(this.source,Fe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=$t.OVERWRITE}operationForChild(e){return fe(this.path)?new Hn(this.source,Se(),this.snap.getImmediateChild(e)):new Hn(this.source,Fe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=$t.MERGE}operationForChild(e){if(fe(this.path)){const n=this.children.subtree(new Oe(e));return n.isEmpty()?null:n.value?new Hn(this.source,Se(),n.value):new yi(this.source,Se(),n)}else return V(me(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new yi(this.source,Fe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(fe(e))return this.isFullyInitialized()&&!this.filtered_;const n=me(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Kb(t,e,n,s){const i=[],o=[];return e.forEach(r=>{r.type==="child_changed"&&t.index_.indexedValueChanged(r.oldSnap,r.snapshotNode)&&o.push(Fb(r.childName,r.snapshotNode))}),Ls(t,i,"child_removed",e,s,n),Ls(t,i,"child_added",e,s,n),Ls(t,i,"child_moved",o,s,n),Ls(t,i,"child_changed",e,s,n),Ls(t,i,"value",e,s,n),i}function Ls(t,e,n,s,i,o){const r=s.filter(l=>l.type===n);r.sort((l,a)=>Qb(t,l,a)),r.forEach(l=>{const a=Yb(t,l,o);i.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(a,t.query_))})})}function Yb(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Qb(t,e,n){if(e.childName==null||n.childName==null)throw Ss("Should only compare child_ events.");const s=new ue(e.childName,e.snapshotNode),i=new ue(n.childName,n.snapshotNode);return t.index_.compare(s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t,e){return{eventCache:t,serverCache:e}}function Qs(t,e,n,s){return qo(new En(e,n,s),t.serverCache)}function Wh(t,e,n,s){return qo(t.eventCache,new En(e,n,s))}function mo(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function jn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vr;const Zb=()=>(vr||(vr=new pt(M6)),vr);class Be{constructor(e,n=Zb()){this.value=e,this.children=n}static fromObject(e){let n=new Be(null);return vt(e,(s,i)=>{n=n.set(new Oe(s),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Se(),value:this.value};if(fe(e))return null;{const s=me(e),i=this.children.get(s);if(i!==null){const o=i.findRootMostMatchingPathAndValue(Fe(e),n);return o!=null?{path:Ze(new Oe(s),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(fe(e))return this;{const n=me(e),s=this.children.get(n);return s!==null?s.subtree(Fe(e)):new Be(null)}}set(e,n){if(fe(e))return new Be(n,this.children);{const s=me(e),o=(this.children.get(s)||new Be(null)).set(Fe(e),n),r=this.children.insert(s,o);return new Be(this.value,r)}}remove(e){if(fe(e))return this.children.isEmpty()?new Be(null):new Be(null,this.children);{const n=me(e),s=this.children.get(n);if(s){const i=s.remove(Fe(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new Be(null):new Be(this.value,o)}else return this}}get(e){if(fe(e))return this.value;{const n=me(e),s=this.children.get(n);return s?s.get(Fe(e)):null}}setTree(e,n){if(fe(e))return n;{const s=me(e),o=(this.children.get(s)||new Be(null)).setTree(Fe(e),n);let r;return o.isEmpty()?r=this.children.remove(s):r=this.children.insert(s,o),new Be(this.value,r)}}fold(e){return this.fold_(Se(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((i,o)=>{s[i]=o.fold_(Ze(e,i),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Se(),n)}findOnPath_(e,n,s){const i=this.value?s(n,this.value):!1;if(i)return i;if(fe(e))return null;{const o=me(e),r=this.children.get(o);return r?r.findOnPath_(Fe(e),Ze(n,o),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Se(),n)}foreachOnPath_(e,n,s){if(fe(e))return this;{this.value&&s(n,this.value);const i=me(e),o=this.children.get(i);return o?o.foreachOnPath_(Fe(e),Ze(n,i),s):new Be(null)}}foreach(e){this.foreach_(Se(),e)}foreach_(e,n){this.children.inorderTraversal((s,i)=>{i.foreach_(Ze(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.writeTree_=e}static empty(){return new Lt(new Be(null))}}function Zs(t,e,n){if(fe(e))return new Lt(new Be(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const i=s.path;let o=s.value;const r=dt(i,e);return o=o.updateChild(r,n),new Lt(t.writeTree_.set(i,o))}else{const i=new Be(n),o=t.writeTree_.setTree(e,i);return new Lt(o)}}}function ou(t,e,n){let s=t;return vt(n,(i,o)=>{s=Zs(s,Ze(e,i),o)}),s}function ru(t,e){if(fe(e))return Lt.empty();{const n=t.writeTree_.setTree(e,new Be(null));return new Lt(n)}}function tl(t,e){return qn(t,e)!=null}function qn(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(dt(n.path,e)):null}function lu(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(We,(s,i)=>{e.push(new ue(s,i))}):t.writeTree_.children.inorderTraversal((s,i)=>{i.value!=null&&e.push(new ue(s,i.value))}),e}function yn(t,e){if(fe(e))return t;{const n=qn(t,e);return n!=null?new Lt(new Be(n)):new Lt(t.writeTree_.subtree(e))}}function nl(t){return t.writeTree_.isEmpty()}function ys(t,e){return qh(Se(),t.writeTree_,e)}function qh(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(V(o.value!==null,"Priority writes must always be leaf nodes"),s=o.value):n=qh(Ze(t,i),o,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(Ze(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(t,e){return Yh(e,t)}function Jb(t,e,n,s,i){V(s>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:i}),i&&(t.visibleWrites=Zs(t.visibleWrites,e,n)),t.lastWriteId=s}function Xb(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function e8(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);V(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let i=s.visible,o=!1,r=t.allWrites.length-1;for(;i&&r>=0;){const l=t.allWrites[r];l.visible&&(r>=n&&t8(l,s.path)?i=!1:At(s.path,l.path)&&(o=!0)),r--}if(i){if(o)return n8(t),!0;if(s.snap)t.visibleWrites=ru(t.visibleWrites,s.path);else{const l=s.children;vt(l,a=>{t.visibleWrites=ru(t.visibleWrites,Ze(s.path,a))})}return!0}else return!1}function t8(t,e){if(t.snap)return At(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&At(Ze(t.path,n),e))return!0;return!1}function n8(t){t.visibleWrites=zh(t.allWrites,s8,Se()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function s8(t){return t.visible}function zh(t,e,n){let s=Lt.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const r=o.path;let l;if(o.snap)At(n,r)?(l=dt(n,r),s=Zs(s,l,o.snap)):At(r,n)&&(l=dt(r,n),s=Zs(s,Se(),o.snap.getChild(l)));else if(o.children){if(At(n,r))l=dt(n,r),s=ou(s,l,o.children);else if(At(r,n))if(l=dt(r,n),fe(l))s=ou(s,Se(),o.children);else{const a=ms(o.children,me(l));if(a){const c=a.getChild(Fe(l));s=Zs(s,Se(),c)}}}else throw Ss("WriteRecord should have .snap or .children")}}return s}function Gh(t,e,n,s,i){if(!s&&!i){const o=qn(t.visibleWrites,e);if(o!=null)return o;{const r=yn(t.visibleWrites,e);if(nl(r))return n;if(n==null&&!tl(r,Se()))return null;{const l=n||se.EMPTY_NODE;return ys(r,l)}}}else{const o=yn(t.visibleWrites,e);if(!i&&nl(o))return n;if(!i&&n==null&&!tl(o,Se()))return null;{const r=function(c){return(c.visible||i)&&(!s||!~s.indexOf(c.writeId))&&(At(c.path,e)||At(e,c.path))},l=zh(t.allWrites,r,e),a=n||se.EMPTY_NODE;return ys(l,a)}}}function i8(t,e,n){let s=se.EMPTY_NODE;const i=qn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(We,(o,r)=>{s=s.updateImmediateChild(o,r)}),s;if(n){const o=yn(t.visibleWrites,e);return n.forEachChild(We,(r,l)=>{const a=ys(yn(o,new Oe(r)),l);s=s.updateImmediateChild(r,a)}),lu(o).forEach(r=>{s=s.updateImmediateChild(r.name,r.node)}),s}else{const o=yn(t.visibleWrites,e);return lu(o).forEach(r=>{s=s.updateImmediateChild(r.name,r.node)}),s}}function o8(t,e,n,s,i){V(s||i,"Either existingEventSnap or existingServerSnap must exist");const o=Ze(e,n);if(tl(t.visibleWrites,o))return null;{const r=yn(t.visibleWrites,o);return nl(r)?i.getChild(n):ys(r,i.getChild(n))}}function r8(t,e,n,s){const i=Ze(e,n),o=qn(t.visibleWrites,i);if(o!=null)return o;if(s.isCompleteForChild(n)){const r=yn(t.visibleWrites,i);return ys(r,s.getNode().getImmediateChild(n))}else return null}function l8(t,e){return qn(t.visibleWrites,e)}function a8(t,e,n,s,i,o,r){let l;const a=yn(t.visibleWrites,e),c=qn(a,Se());if(c!=null)l=c;else if(n!=null)l=ys(a,n);else return[];if(l=l.withIndex(r),!l.isEmpty()&&!l.isLeafNode()){const u=[],d=r.getCompare(),f=o?l.getReverseIteratorFrom(s,r):l.getIteratorFrom(s,r);let p=f.getNext();for(;p&&u.length<i;)d(p,s)!==0&&u.push(p),p=f.getNext();return u}else return[]}function c8(){return{visibleWrites:Lt.empty(),allWrites:[],lastWriteId:-1}}function go(t,e,n,s){return Gh(t.writeTree,t.treePath,e,n,s)}function Zl(t,e){return i8(t.writeTree,t.treePath,e)}function au(t,e,n,s){return o8(t.writeTree,t.treePath,e,n,s)}function vo(t,e){return l8(t.writeTree,Ze(t.treePath,e))}function u8(t,e,n,s,i,o){return a8(t.writeTree,t.treePath,e,n,s,i,o)}function Jl(t,e,n){return r8(t.writeTree,t.treePath,e,n)}function Kh(t,e){return Yh(Ze(t.treePath,e),t.writeTree)}function Yh(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;V(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),V(s!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(s);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(s,mi(s,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(s,_i(s,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(s,vs(s,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(s,mi(s,e.snapshotNode,i.oldSnap));else throw Ss("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const Qh=new h8;class Xl{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new En(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Jl(this.writes_,e,s)}}getChildAfterChild(e,n,s){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:jn(this.viewCache_),o=u8(this.writes_,i,n,1,s,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(t){return{filter:t}}function p8(t,e){V(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),V(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function _8(t,e,n,s,i){const o=new d8;let r,l;if(n.type===$t.OVERWRITE){const c=n;c.source.fromUser?r=sl(t,e,c.path,c.snap,s,i,o):(V(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!fe(c.path),r=yo(t,e,c.path,c.snap,s,i,l,o))}else if(n.type===$t.MERGE){const c=n;c.source.fromUser?r=g8(t,e,c.path,c.children,s,i,o):(V(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),r=il(t,e,c.path,c.children,s,i,l,o))}else if(n.type===$t.ACK_USER_WRITE){const c=n;c.revert?r=C8(t,e,c.path,s,i,o):r=v8(t,e,c.path,c.affectedTree,s,i,o)}else if(n.type===$t.LISTEN_COMPLETE)r=y8(t,e,n.path,s,o);else throw Ss("Unknown operation type: "+n.type);const a=o.getChanges();return m8(e,r,a),{viewCache:r,changes:a}}function m8(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const i=s.getNode().isLeafNode()||s.getNode().isEmpty(),o=mo(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!s.getNode().equals(o)||!s.getNode().getPriority().equals(o.getPriority()))&&n.push(Uh(mo(e)))}}function Zh(t,e,n,s,i,o){const r=e.eventCache;if(vo(s,n)!=null)return e;{let l,a;if(fe(n))if(V(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=jn(e),u=c instanceof se?c:se.EMPTY_NODE,d=Zl(s,u);l=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const c=go(s,jn(e));l=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const c=me(n);if(c===".priority"){V(kn(n)===1,"Can't have a priority with additional path components");const u=r.getNode();a=e.serverCache.getNode();const d=au(s,n,u,a);d!=null?l=t.filter.updatePriority(u,d):l=r.getNode()}else{const u=Fe(n);let d;if(r.isCompleteForChild(c)){a=e.serverCache.getNode();const f=au(s,n,r.getNode(),a);f!=null?d=r.getNode().getImmediateChild(c).updateChild(u,f):d=r.getNode().getImmediateChild(c)}else d=Jl(s,c,e.serverCache);d!=null?l=t.filter.updateChild(r.getNode(),c,d,u,i,o):l=r.getNode()}}return Qs(e,l,r.isFullyInitialized()||fe(n),t.filter.filtersNodes())}}function yo(t,e,n,s,i,o,r,l){const a=e.serverCache;let c;const u=r?t.filter:t.filter.getIndexedFilter();if(fe(n))c=u.updateFullNode(a.getNode(),s,null);else if(u.filtersNodes()&&!a.isFiltered()){const p=a.getNode().updateChild(n,s);c=u.updateFullNode(a.getNode(),p,null)}else{const p=me(n);if(!a.isCompleteForPath(n)&&kn(n)>1)return e;const v=Fe(n),P=a.getNode().getImmediateChild(p).updateChild(v,s);p===".priority"?c=u.updatePriority(a.getNode(),P):c=u.updateChild(a.getNode(),p,P,v,Qh,null)}const d=Wh(e,c,a.isFullyInitialized()||fe(n),u.filtersNodes()),f=new Xl(i,d,o);return Zh(t,d,n,i,f,l)}function sl(t,e,n,s,i,o,r){const l=e.eventCache;let a,c;const u=new Xl(i,e,o);if(fe(n))c=t.filter.updateFullNode(e.eventCache.getNode(),s,r),a=Qs(e,c,!0,t.filter.filtersNodes());else{const d=me(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),s),a=Qs(e,c,l.isFullyInitialized(),l.isFiltered());else{const f=Fe(n),p=l.getNode().getImmediateChild(d);let v;if(fe(f))v=s;else{const w=u.getCompleteChild(d);w!=null?Rh(f)===".priority"&&w.getChild($h(f)).isEmpty()?v=w:v=w.updateChild(f,s):v=se.EMPTY_NODE}if(p.equals(v))a=e;else{const w=t.filter.updateChild(l.getNode(),d,v,f,u,r);a=Qs(e,w,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function cu(t,e){return t.eventCache.isCompleteForChild(e)}function g8(t,e,n,s,i,o,r){let l=e;return s.foreach((a,c)=>{const u=Ze(n,a);cu(e,me(u))&&(l=sl(t,l,u,c,i,o,r))}),s.foreach((a,c)=>{const u=Ze(n,a);cu(e,me(u))||(l=sl(t,l,u,c,i,o,r))}),l}function uu(t,e,n){return n.foreach((s,i)=>{e=e.updateChild(s,i)}),e}function il(t,e,n,s,i,o,r,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,c;fe(n)?c=s:c=new Be(null).setTree(n,s);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),v=uu(t,p,f);a=yo(t,a,new Oe(d),v,i,o,r,l)}}),c.children.inorderTraversal((d,f)=>{const p=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!p){const v=e.serverCache.getNode().getImmediateChild(d),w=uu(t,v,f);a=yo(t,a,new Oe(d),w,i,o,r,l)}}),a}function v8(t,e,n,s,i,o,r){if(vo(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(s.value!=null){if(fe(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return yo(t,e,n,a.getNode().getChild(n),i,o,l,r);if(fe(n)){let c=new Be(null);return a.getNode().forEachChild(as,(u,d)=>{c=c.set(new Oe(u),d)}),il(t,e,n,c,i,o,l,r)}else return e}else{let c=new Be(null);return s.foreach((u,d)=>{const f=Ze(n,u);a.isCompleteForPath(f)&&(c=c.set(u,a.getNode().getChild(f)))}),il(t,e,n,c,i,o,l,r)}}function y8(t,e,n,s,i){const o=e.serverCache,r=Wh(e,o.getNode(),o.isFullyInitialized()||fe(n),o.isFiltered());return Zh(t,r,n,s,Qh,i)}function C8(t,e,n,s,i,o){let r;if(vo(s,n)!=null)return e;{const l=new Xl(s,e,i),a=e.eventCache.getNode();let c;if(fe(n)||me(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=go(s,jn(e));else{const d=e.serverCache.getNode();V(d instanceof se,"serverChildren would be complete if leaf node"),u=Zl(s,d)}u=u,c=t.filter.updateFullNode(a,u,o)}else{const u=me(n);let d=Jl(s,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=a.getImmediateChild(u)),d!=null?c=t.filter.updateChild(a,u,d,Fe(n),l,o):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(a,u,se.EMPTY_NODE,Fe(n),l,o):c=a,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(r=go(s,jn(e)),r.isLeafNode()&&(c=t.filter.updateFullNode(c,r,o)))}return r=e.serverCache.isFullyInitialized()||vo(s,Se())!=null,Qs(e,c,r,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,i=new Gl(s.getIndex()),o=Bb(s);this.processor_=f8(o);const r=n.serverCache,l=n.eventCache,a=i.updateFullNode(se.EMPTY_NODE,r.getNode(),null),c=o.updateFullNode(se.EMPTY_NODE,l.getNode(),null),u=new En(a,r.isFullyInitialized(),i.filtersNodes()),d=new En(c,l.isFullyInitialized(),o.filtersNodes());this.viewCache_=qo(d,u),this.eventGenerator_=new Gb(this.query_)}get query(){return this.query_}}function w8(t){return t.viewCache_.serverCache.getNode()}function k8(t){return mo(t.viewCache_)}function E8(t,e){const n=jn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!fe(e)&&!n.getImmediateChild(me(e)).isEmpty())?n.getChild(e):null}function du(t){return t.eventRegistrations_.length===0}function S8(t,e){t.eventRegistrations_.push(e)}function hu(t,e,n){const s=[];if(n){V(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const r=o.createCancelEvent(n,i);r&&s.push(r)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const r=t.eventRegistrations_[o];if(!r.matches(e))i.push(r);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return s}function fu(t,e,n,s){e.type===$t.MERGE&&e.source.queryId!==null&&(V(jn(t.viewCache_),"We should always have a full cache before handling merges"),V(mo(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=_8(t.processor_,i,e,n,s);return p8(t.processor_,o.viewCache),V(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,Jh(t,o.changes,o.viewCache.eventCache.getNode(),null)}function x8(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(We,(o,r)=>{s.push(vs(o,r))}),n.isFullyInitialized()&&s.push(Uh(n.getNode())),Jh(t,s,n.getNode(),e)}function Jh(t,e,n,s){const i=s?[s]:t.eventRegistrations_;return Kb(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co;class Xh{constructor(){this.views=new Map}}function I8(t){V(!Co,"__referenceConstructor has already been defined"),Co=t}function T8(){return V(Co,"Reference.ts has not been loaded"),Co}function P8(t){return t.views.size===0}function ea(t,e,n,s){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return V(o!=null,"SyncTree gave us an op for an invalid query."),fu(o,e,n,s)}else{let o=[];for(const r of t.views.values())o=o.concat(fu(r,e,n,s));return o}}function ef(t,e,n,s,i){const o=e._queryIdentifier,r=t.views.get(o);if(!r){let l=go(n,i?s:null),a=!1;l?a=!0:s instanceof se?(l=Zl(n,s),a=!1):(l=se.EMPTY_NODE,a=!1);const c=qo(new En(l,a,!1),new En(s,i,!1));return new b8(e,c)}return r}function N8(t,e,n,s,i,o){const r=ef(t,e,s,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,r),S8(r,n),x8(r,n)}function R8(t,e,n,s){const i=e._queryIdentifier,o=[];let r=[];const l=Sn(t);if(i==="default")for(const[a,c]of t.views.entries())r=r.concat(hu(c,n,s)),du(c)&&(t.views.delete(a),c.query._queryParams.loadsAllData()||o.push(c.query));else{const a=t.views.get(i);a&&(r=r.concat(hu(a,n,s)),du(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||o.push(a.query)))}return l&&!Sn(t)&&o.push(new(T8())(e._repo,e._path)),{removed:o,events:r}}function tf(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Cn(t,e){let n=null;for(const s of t.views.values())n=n||E8(s,e);return n}function nf(t,e){if(e._queryParams.loadsAllData())return Go(t);{const s=e._queryIdentifier;return t.views.get(s)}}function sf(t,e){return nf(t,e)!=null}function Sn(t){return Go(t)!=null}function Go(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo;function A8(t){V(!bo,"__referenceConstructor has already been defined"),bo=t}function $8(){return V(bo,"Reference.ts has not been loaded"),bo}let D8=1;class pu{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Be(null),this.pendingWriteTree_=c8(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function of(t,e,n,s,i){return Jb(t.pendingWriteTree_,e,n,s,i),i?Ri(t,new Hn(jh(),e,n)):[]}function Ln(t,e,n=!1){const s=Xb(t.pendingWriteTree_,e);if(e8(t.pendingWriteTree_,e)){let o=new Be(null);return s.snap!=null?o=o.set(Se(),!0):vt(s.children,r=>{o=o.set(new Oe(r),!0)}),Ri(t,new _o(s.path,o,n))}else return[]}function Ni(t,e,n){return Ri(t,new Hn(Yl(),e,n))}function O8(t,e,n){const s=Be.fromObject(n);return Ri(t,new yi(Yl(),e,s))}function M8(t,e){return Ri(t,new vi(Yl(),e))}function L8(t,e,n){const s=na(t,n);if(s){const i=sa(s),o=i.path,r=i.queryId,l=dt(o,e),a=new vi(Ql(r),l);return ia(t,o,a)}else return[]}function rf(t,e,n,s,i=!1){const o=e._path,r=t.syncPointTree_.get(o);let l=[];if(r&&(e._queryIdentifier==="default"||sf(r,e))){const a=R8(r,e,n,s);P8(r)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const c=a.removed;if(l=a.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(f,p)=>Sn(p));if(u&&!d){const f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){const p=U8(f);for(let v=0;v<p.length;++v){const w=p[v],P=w.query,N=uf(t,w);t.listenProvider_.startListening(Js(P),Ci(t,P),N.hashFn,N.onComplete)}}}!d&&c.length>0&&!s&&(u?t.listenProvider_.stopListening(Js(e),null):c.forEach(f=>{const p=t.queryToTagMap.get(Ko(f));t.listenProvider_.stopListening(Js(f),p)}))}H8(t,c)}return l}function lf(t,e,n,s){const i=na(t,s);if(i!=null){const o=sa(i),r=o.path,l=o.queryId,a=dt(r,e),c=new Hn(Ql(l),a,n);return ia(t,r,c)}else return[]}function F8(t,e,n,s){const i=na(t,s);if(i){const o=sa(i),r=o.path,l=o.queryId,a=dt(r,e),c=Be.fromObject(n),u=new yi(Ql(l),a,c);return ia(t,r,u)}else return[]}function V8(t,e,n,s=!1){const i=e._path;let o=null,r=!1;t.syncPointTree_.foreachOnPath(i,(f,p)=>{const v=dt(f,i);o=o||Cn(p,v),r=r||Sn(p)});let l=t.syncPointTree_.get(i);l?(r=r||Sn(l),o=o||Cn(l,Se())):(l=new Xh,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;o!=null?a=!0:(a=!1,o=se.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,v)=>{const w=Cn(v,Se());w&&(o=o.updateImmediateChild(p,w))}));const c=sf(l,e);if(!c&&!e._queryParams.loadsAllData()){const f=Ko(e);V(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const p=j8();t.queryToTagMap.set(f,p),t.tagToQueryMap.set(p,f)}const u=zo(t.pendingWriteTree_,i);let d=N8(l,e,n,u,o,a);if(!c&&!r&&!s){const f=nf(l,e);d=d.concat(W8(t,e,f))}return d}function ta(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(r,l)=>{const a=dt(r,e),c=Cn(l,a);if(c)return c});return Gh(i,e,o,n,!0)}function B8(t,e){const n=e._path;let s=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=dt(c,n);s=s||Cn(u,d)});let i=t.syncPointTree_.get(n);i?s=s||Cn(i,Se()):(i=new Xh,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=s!=null,r=o?new En(s,!0,!1):null,l=zo(t.pendingWriteTree_,e._path),a=ef(i,e,l,o?r.getNode():se.EMPTY_NODE,o);return k8(a)}function Ri(t,e){return af(e,t.syncPointTree_,null,zo(t.pendingWriteTree_,Se()))}function af(t,e,n,s){if(fe(t.path))return cf(t,e,n,s);{const i=e.get(Se());n==null&&i!=null&&(n=Cn(i,Se()));let o=[];const r=me(t.path),l=t.operationForChild(r),a=e.children.get(r);if(a&&l){const c=n?n.getImmediateChild(r):null,u=Kh(s,r);o=o.concat(af(l,a,c,u))}return i&&(o=o.concat(ea(i,t,s,n))),o}}function cf(t,e,n,s){const i=e.get(Se());n==null&&i!=null&&(n=Cn(i,Se()));let o=[];return e.children.inorderTraversal((r,l)=>{const a=n?n.getImmediateChild(r):null,c=Kh(s,r),u=t.operationForChild(r);u&&(o=o.concat(cf(u,l,a,c)))}),i&&(o=o.concat(ea(i,t,s,n))),o}function uf(t,e){const n=e.query,s=Ci(t,n);return{hashFn:()=>(w8(e)||se.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return s?L8(t,n._path,s):M8(t,n._path);{const o=V6(i,n);return rf(t,n,null,o)}}}}function Ci(t,e){const n=Ko(e);return t.queryToTagMap.get(n)}function Ko(t){return t._path.toString()+"$"+t._queryIdentifier}function na(t,e){return t.tagToQueryMap.get(e)}function sa(t){const e=t.indexOf("$");return V(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Oe(t.substr(0,e))}}function ia(t,e,n){const s=t.syncPointTree_.get(e);V(s,"Missing sync point for query tag that we're tracking");const i=zo(t.pendingWriteTree_,e);return ea(s,n,i,null)}function U8(t){return t.fold((e,n,s)=>{if(n&&Sn(n))return[Go(n)];{let i=[];return n&&(i=tf(n)),vt(s,(o,r)=>{i=i.concat(r)}),i}})}function Js(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new($8())(t._repo,t._path):t}function H8(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const i=Ko(s),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function j8(){return D8++}function W8(t,e,n){const s=e._path,i=Ci(t,e),o=uf(t,n),r=t.listenProvider_.startListening(Js(e),i,o.hashFn,o.onComplete),l=t.syncPointTree_.subtree(s);if(i)V(!Sn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((c,u,d)=>{if(!fe(c)&&u&&Sn(u))return[Go(u).query];{let f=[];return u&&(f=f.concat(tf(u).map(p=>p.query))),vt(d,(p,v)=>{f=f.concat(v)}),f}});for(let c=0;c<a.length;++c){const u=a[c];t.listenProvider_.stopListening(Js(u),Ci(t,u))}}return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new oa(n)}node(){return this.node_}}class ra{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ze(this.path_,e);return new ra(this.syncTree_,n)}node(){return ta(this.syncTree_,this.path_)}}const q8=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},_u=function(t,e,n){if(!t||typeof t!="object")return t;if(V(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return z8(t[".sv"],e,n);if(typeof t[".sv"]=="object")return G8(t[".sv"],e);V(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},z8=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:V(!1,"Unexpected server value: "+t)}},G8=function(t,e,n){t.hasOwnProperty("increment")||V(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&V(!1,"Unexpected increment value: "+s);const i=e.node();if(V(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return s;const r=i.getValue();return typeof r!="number"?s:r+s},K8=function(t,e,n,s){return la(e,new ra(n,t),s)},df=function(t,e,n){return la(t,new oa(e),n)};function la(t,e,n){const s=t.getPriority().val(),i=_u(s,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const r=t,l=_u(r.getValue(),e,n);return l!==r.getValue()||i!==r.getPriority().val()?new Je(l,et(i)):t}else{const r=t;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new Je(i))),r.forEachChild(We,(l,a)=>{const c=la(a,e.getImmediateChild(l),n);c!==a&&(o=o.updateImmediateChild(l,c))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function ca(t,e){let n=e instanceof Oe?e:new Oe(e),s=t,i=me(n);for(;i!==null;){const o=ms(s.node.children,i)||{children:{},childCount:0};s=new aa(i,s,o),n=Fe(n),i=me(n)}return s}function Ps(t){return t.node.value}function hf(t,e){t.node.value=e,ol(t)}function ff(t){return t.node.childCount>0}function Y8(t){return Ps(t)===void 0&&!ff(t)}function Yo(t,e){vt(t.node.children,(n,s)=>{e(new aa(n,t,s))})}function pf(t,e,n,s){n&&!s&&e(t),Yo(t,i=>{pf(i,e,!0,s)}),n&&s&&e(t)}function Q8(t,e,n){let s=n?t:t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Ai(t){return new Oe(t.parent===null?t.name:Ai(t.parent)+"/"+t.name)}function ol(t){t.parent!==null&&Z8(t.parent,t.name,t)}function Z8(t,e,n){const s=Y8(n),i=sn(t.node.children,e);s&&i?(delete t.node.children[e],t.node.childCount--,ol(t)):!s&&!i&&(t.node.children[e]=n.node,t.node.childCount++,ol(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8=/[\[\].#$\/\u0000-\u001F\u007F]/,X8=/[\[\].#$\u0000-\u001F\u007F]/,yr=10*1024*1024,_f=function(t){return typeof t=="string"&&t.length!==0&&!J8.test(t)},mf=function(t){return typeof t=="string"&&t.length!==0&&!X8.test(t)},ew=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),mf(t)},tw=function(t,e,n,s){s&&e===void 0||ua(Vl(t,"value"),e,n)},ua=function(t,e,n){const s=n instanceof Oe?new vb(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Rn(s));if(typeof e=="function")throw new Error(t+"contains a function "+Rn(s)+" with contents = "+e.toString());if(uh(e))throw new Error(t+"contains "+e.toString()+" "+Rn(s));if(typeof e=="string"&&e.length>yr/3&&jo(e)>yr)throw new Error(t+"contains a string greater than "+yr+" utf8 bytes "+Rn(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(vt(e,(r,l)=>{if(r===".value")i=!0;else if(r!==".priority"&&r!==".sv"&&(o=!0,!_f(r)))throw new Error(t+" contains an invalid key ("+r+") "+Rn(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);yb(s,r),ua(t,l,s),Cb(s)}),i&&o)throw new Error(t+' contains ".value" child '+Rn(s)+" in addition to actual children.")}},gf=function(t,e,n,s){if(!(s&&n===void 0)&&!mf(n))throw new Error(Vl(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},nw=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),gf(t,e,n,s)},sw=function(t,e){if(me(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},iw=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!_f(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!ew(n))throw new Error(Vl(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function vf(t,e){let n=null;for(let s=0;s<e.length;s++){const i=e[s],o=i.getPath();n!==null&&!Dh(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Kt(t,e,n){vf(t,n),rw(t,s=>At(s,e)||At(e,s))}function rw(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const i=t.eventLists_[s];if(i){const o=i.path;e(o)?(lw(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function lw(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();Bn&&at("event: "+n.toString()),Ts(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="repo_interrupt",cw=25;class uw{constructor(e,n,s,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ow,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=po(),this.transactionQueueTree_=new aa,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function dw(t,e,n){if(t.stats_=jl(t.repoInfo_),t.forceRestClient_||j6())t.server_=new fo(t.repoInfo_,(s,i,o,r)=>{mu(t,s,i,o,r)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>gu(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Qe(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Jt(t.repoInfo_,e,(s,i,o,r)=>{mu(t,s,i,o,r)},s=>{gu(t,s)},s=>{fw(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=K6(t.repoInfo_,()=>new zb(t.stats_,t.server_)),t.infoData_=new Ub,t.infoSyncTree_=new pu({startListening:(s,i,o,r)=>{let l=[];const a=t.infoData_.getNode(s._path);return a.isEmpty()||(l=Ni(t.infoSyncTree_,s._path,a),setTimeout(()=>{r("ok")},0)),l},stopListening:()=>{}}),ha(t,"connected",!1),t.serverSyncTree_=new pu({startListening:(s,i,o,r)=>(t.server_.listen(s,o,i,(l,a)=>{const c=r(l,a);Kt(t.eventQueue_,s._path,c)}),[]),stopListening:(s,i)=>{t.server_.unlisten(s,i)}})}function hw(t){const n=t.infoData_.getNode(new Oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function da(t){return q8({timestamp:hw(t)})}function mu(t,e,n,s,i){t.dataUpdateCount++;const o=new Oe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let r=[];if(i)if(s){const a=ro(n,c=>et(c));r=F8(t.serverSyncTree_,o,a,i)}else{const a=et(n);r=lf(t.serverSyncTree_,o,a,i)}else if(s){const a=ro(n,c=>et(c));r=O8(t.serverSyncTree_,o,a)}else{const a=et(n);r=Ni(t.serverSyncTree_,o,a)}let l=o;r.length>0&&(l=Zo(t,o)),Kt(t.eventQueue_,l,r)}function gu(t,e){ha(t,"connected",e),e===!1&&mw(t)}function fw(t,e){vt(e,(n,s)=>{ha(t,n,s)})}function ha(t,e,n){const s=new Oe("/.info/"+e),i=et(n);t.infoData_.updateSnapshot(s,i);const o=Ni(t.infoSyncTree_,s,i);Kt(t.eventQueue_,s,o)}function yf(t){return t.nextWriteId_++}function pw(t,e,n){const s=B8(t.serverSyncTree_,e);return s!=null?Promise.resolve(s):t.server_.get(e).then(i=>{const o=et(i).withIndex(e._queryParams.getIndex());V8(t.serverSyncTree_,e,n,!0);let r;if(e._queryParams.loadsAllData())r=Ni(t.serverSyncTree_,e._path,o);else{const l=Ci(t.serverSyncTree_,e);r=lf(t.serverSyncTree_,e._path,o,l)}return Kt(t.eventQueue_,e._path,r),rf(t.serverSyncTree_,e,n,null,!0),o},i=>(Qo(t,"get for query "+Qe(e)+" failed: "+i),Promise.reject(new Error(i))))}function _w(t,e,n,s,i){Qo(t,"set",{path:e.toString(),value:n,priority:s});const o=da(t),r=et(n,s),l=ta(t.serverSyncTree_,e),a=df(r,l,o),c=yf(t),u=of(t.serverSyncTree_,e,a,c,!0);vf(t.eventQueue_,u),t.server_.put(e.toString(),r.val(!0),(f,p)=>{const v=f==="ok";v||mt("set at "+e+" failed: "+f);const w=Ln(t.serverSyncTree_,c,!v);Kt(t.eventQueue_,e,w),vw(t,i,f,p)});const d=Ef(t,e);Zo(t,d),Kt(t.eventQueue_,d,[])}function mw(t){Qo(t,"onDisconnectEvents");const e=da(t),n=po();el(t.onDisconnect_,Se(),(i,o)=>{const r=K8(i,o,t.serverSyncTree_,e);Hh(n,i,r)});let s=[];el(n,Se(),(i,o)=>{s=s.concat(Ni(t.serverSyncTree_,i,o));const r=Ef(t,i);Zo(t,r)}),t.onDisconnect_=po(),Kt(t.eventQueue_,Se(),s)}function gw(t){t.persistentConnection_&&t.persistentConnection_.interrupt(aw)}function Qo(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),at(n,...e)}function vw(t,e,n,s){e&&Ts(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let o=i;s&&(o+=": "+s);const r=new Error(o);r.code=i,e(r)}})}function Cf(t,e,n){return ta(t.serverSyncTree_,e,n)||se.EMPTY_NODE}function fa(t,e=t.transactionQueueTree_){if(e||Jo(t,e),Ps(e)){const n=wf(t,e);V(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&yw(t,Ai(e),n)}else ff(e)&&Yo(e,n=>{fa(t,n)})}function yw(t,e,n){const s=n.map(c=>c.currentWriteId),i=Cf(t,e,s);let o=i;const r=i.hash();for(let c=0;c<n.length;c++){const u=n[c];V(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=dt(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}const l=o.val(!0),a=e;t.server_.put(a.toString(),l,c=>{Qo(t,"transaction put response",{path:a.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Ln(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Jo(t,ca(t.transactionQueueTree_,e)),fa(t,t.transactionQueueTree_),Kt(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)Ts(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{mt("transaction at "+a.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Zo(t,e)}},r)}function Zo(t,e){const n=bf(t,e),s=Ai(n),i=wf(t,n);return Cw(t,i,s),s}function Cw(t,e,n){if(e.length===0)return;const s=[];let i=[];const r=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],c=dt(n,a.path);let u=!1,d;if(V(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)u=!0,d=a.abortReason,i=i.concat(Ln(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=cw)u=!0,d="maxretry",i=i.concat(Ln(t.serverSyncTree_,a.currentWriteId,!0));else{const f=Cf(t,a.path,r);a.currentInputSnapshot=f;const p=e[l].update(f.val());if(p!==void 0){ua("transaction failed: Data returned ",p,a.path);let v=et(p);typeof p=="object"&&p!=null&&sn(p,".priority")||(v=v.updatePriority(f.getPriority()));const P=a.currentWriteId,N=da(t),L=df(v,f,N);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=L,a.currentWriteId=yf(t),r.splice(r.indexOf(P),1),i=i.concat(of(t.serverSyncTree_,a.path,L,a.currentWriteId,a.applyLocally)),i=i.concat(Ln(t.serverSyncTree_,P,!0))}else u=!0,d="nodata",i=i.concat(Ln(t.serverSyncTree_,a.currentWriteId,!0))}Kt(t.eventQueue_,n,i),i=[],u&&(e[l].status=2,function(f){setTimeout(f,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(d==="nodata"?s.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):s.push(()=>e[l].onComplete(new Error(d),!1,null))))}Jo(t,t.transactionQueueTree_);for(let l=0;l<s.length;l++)Ts(s[l]);fa(t,t.transactionQueueTree_)}function bf(t,e){let n,s=t.transactionQueueTree_;for(n=me(e);n!==null&&Ps(s)===void 0;)s=ca(s,n),e=Fe(e),n=me(e);return s}function wf(t,e){const n=[];return kf(t,e,n),n.sort((s,i)=>s.order-i.order),n}function kf(t,e,n){const s=Ps(e);if(s)for(let i=0;i<s.length;i++)n.push(s[i]);Yo(e,i=>{kf(t,i,n)})}function Jo(t,e){const n=Ps(e);if(n){let s=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[s]=n[i],s++);n.length=s,hf(e,n.length>0?n:void 0)}Yo(e,s=>{Jo(t,s)})}function Ef(t,e){const n=Ai(bf(t,e)),s=ca(t.transactionQueueTree_,e);return Q8(s,i=>{Cr(t,i)}),Cr(t,s),pf(s,i=>{Cr(t,i)}),n}function Cr(t,e){const n=Ps(e);if(n){const s=[];let i=[],o=-1;for(let r=0;r<n.length;r++)n[r].status===3||(n[r].status===1?(V(o===r-1,"All SENT items should be at beginning of queue."),o=r,n[r].status=3,n[r].abortReason="set"):(V(n[r].status===0,"Unexpected transaction status in abort"),n[r].unwatcher(),i=i.concat(Ln(t.serverSyncTree_,n[r].currentWriteId,!0)),n[r].onComplete&&s.push(n[r].onComplete.bind(null,new Error("set"),!1,null))));o===-1?hf(e,void 0):n.length=o+1,Kt(t.eventQueue_,Ai(e),i);for(let r=0;r<s.length;r++)Ts(s[r])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let i=n[s];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function ww(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):mt(`Invalid query segment '${n}' in query '${t}'`)}return e}const vu=function(t,e){const n=kw(t),s=n.namespace;n.domain==="firebase.com"&&tn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&tn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||D6();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new wh(n.host,n.secure,s,i,e,"",s!==n.subdomain),path:new Oe(n.pathString)}},kw=function(t){let e="",n="",s="",i="",o="",r=!0,l="https",a=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=bw(t.substring(u,d)));const f=ww(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(r=l==="https"||l==="wss",a=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const v=e.indexOf(".");s=e.substring(0,v).toLowerCase(),n=e.substring(v+1),o=s}"ns"in f&&(o=f.ns)}return{host:e,port:a,domain:n,subdomain:s,secure:r,scheme:l,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n,s,i){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Qe(this.snapshot.exportVal())}}class Sw{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return V(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n,s,i){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=i}get key(){return fe(this._path)?null:Rh(this._path)}get ref(){return new on(this._repo,this._path)}get _queryIdentifier(){const e=su(this._queryParams),n=Ul(e);return n==="{}"?"default":n}get _queryObject(){return su(this._queryParams)}isEqual(e){if(e=xs(e),!(e instanceof pa))return!1;const n=this._repo===e._repo,s=Dh(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&s&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+gb(this._path)}}class on extends pa{constructor(e,n){super(e,n,new Kl,!1)}get parent(){const e=$h(this._path);return e===null?null:new on(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class bi{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Oe(e),s=rl(this.ref,e);return new bi(this._node.getChild(n),s,We)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,i)=>e(new bi(i,rl(this.ref,s),We)))}hasChild(e){const n=new Oe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Sf(t,e){return t=xs(t),t._checkNotDeleted("ref"),e!==void 0?rl(t._root,e):t._root}function rl(t,e){return t=xs(t),me(t._path)===null?nw("child","path",e,!1):gf("child","path",e,!1),new on(t._repo,Ze(t._path,e))}function Iw(t,e){t=xs(t),sw("set",t._path),tw("set",e,t._path,!1);const n=new Ho;return _w(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Tw(t){t=xs(t);const e=new xw(()=>{}),n=new _a(e);return pw(t._repo,t,n).then(s=>new bi(s,new on(t._repo,t._path),t._queryParams.getIndex()))}class _a{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new Ew("value",this,new bi(e.snapshotNode,new on(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Sw(this,e,n):null}matches(e){return e instanceof _a?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}I8(on);A8(on);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="FIREBASE_DATABASE_EMULATOR_HOST",ll={};let Nw=!1;function Rw(t,e,n,s){t.repoInfo_=new wh(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),s&&(t.authTokenProvider_=s)}function Aw(t,e,n,s,i){let o=s||t.options.databaseURL;o===void 0&&(t.options.projectId||tn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),at("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let r=vu(o,i),l=r.repoInfo,a,c;typeof process<"u"&&process.env&&(c=process.env[Pw]),c?(a=!0,o=`http://${c}?ns=${l.namespace}`,r=vu(o,i),l=r.repoInfo):a=!r.repoInfo.secure;const u=i&&a?new ls(ls.OWNER):new q6(t.name,t.options,e);iw("Invalid Firebase Database URL",r),fe(r.path)||tn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Dw(l,t,u,new W6(t.name,n));return new Ow(d,t)}function $w(t,e){const n=ll[e];(!n||n[t.key]!==t)&&tn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),gw(t),delete n[t.key]}function Dw(t,e,n,s){let i=ll[e.name];i||(i={},ll[e.name]=i);let o=i[t.toURLString()];return o&&tn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new uw(t,Nw,n,s),i[t.toURLString()]=o,o}class Ow{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(dw(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new on(this._repo,Se())),this._rootInternal}_delete(){return this._rootInternal!==null&&($w(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&tn("Cannot call "+e+" on a deleted database.")}}function Mw(t=g6(),e){const n=f6(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=s4("database");s&&Lw(n,...s)}return n}function Lw(t,e,n,s={}){t=xs(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&tn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)s.mockUserToken&&tn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new ls(ls.OWNER);else if(s.mockUserToken){const r=typeof s.mockUserToken=="string"?s.mockUserToken:i4(s.mockUserToken,t.app.options.projectId);o=new ls(r)}Rw(i,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(t){P6(m6),ao(new hi("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return Aw(s,i,o,n)},"PUBLIC").setMultipleInstances(!0)),os(Bc,Uc,t),os(Bc,Uc,"esm2017")}Jt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Jt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Fw();const Vw={apiKey:"AIzaSyCuB6c_YRaF2zLVlO4zNImDv_rIiGPqipU",authDomain:"sns-study-dbff0.firebaseapp.com",databaseURL:"https://sns-study-dbff0-default-rtdb.europe-west1.firebasedatabase.app",projectId:"sns-study-dbff0",storageBucket:"sns-study-dbff0.firebasestorage.app",messagingSenderId:"193647151877",appId:"1:193647151877:web:30848f73305a39f7e7c56c"},Bw=ih(Vw),xf=Mw(Bw),Uw=(t,e)=>{Iw(Sf(xf,"data/"+t),e)},Hw=async(t,e)=>{const s=[...await jw(t,e)].reduce((i,o)=>o[1]<i[1]?o:i)[0];return JSON.parse(s)},jw=async(t,e)=>{const n=new Map;return n.set('{"task1":true,"task2":true}',0),n.set('{"task1":true,"task2":false}',0),n.set('{"task1":false,"task2":true}',0),n.set('{"task1":false,"task2":false}',0),(await Ww(t,e)).map(o=>JSON.stringify(o.darkPatterns)).forEach(o=>{n.set(o,(n.get(o)||0)+1)}),n},Ww=async(t,e)=>{const n=[];try{const s=await Tw(Sf(xf,"data"));if(s.exists()){const i=s.val();Object.keys(i).forEach(o=>{const r=i[o];o!=t&&r.adhd==e&&n.push(i[o])})}}catch(s){console.error("Error fetching study data:",s.message)}return n},qw={prolificId:"",navigator:Pd(window.navigator),screen:{width:window.innerWidth,height:window.innerHeight},coords:null,adhd:!1,order:["task1","task2"],darkPatterns:{task1:!1,task2:!1},pathFinding:{task1:zt(Lr),task2:zt(Lr)},user:{premiumStatus:It.Basic,checks:zt(Id),dataEntered:zt(_1)},questionnaires:{task1:{deceptiveStrategies:"",dpCharacteristics:{},nasaTlx:{}},task2:{deceptiveStrategies:"",dpCharacteristics:{},nasaTlx:{}}}},zw={previousRoute:ie.currentRoute.value.path,currentTaskIndex:0,taskStarted:!1,taskActive:!1,lockBrowserBack:!1},Gw=Ed("studyData",()=>{const t=sessionStorage.getItem("uid")??GC();sessionStorage.setItem("uid",t);const e=sessionStorage.getItem("studyData"),n=j(e?JSON.parse(e):zt(qw)),s=()=>n.value,i=sessionStorage.getItem("studyState"),o=j(i?JSON.parse(i):zt(zw)),r=()=>o.value,l=()=>s().order[r().currentTaskIndex],a=()=>s().adhd,c=()=>r().currentTaskIndex>=s().order.length,u=Z=>s().prolificId=Z,d=Z=>s().coords=Z,f=async Z=>{s().adhd=Z,s().darkPatterns=await Hw(t,Z)},p=()=>{r().taskActive=!0,r().taskStarted=!0,s().pathFinding[l()].startTime=Date.now(),S.darkPatterns=s().darkPatterns[l()]},v=()=>s().pathFinding[l()].finished=!0,w=()=>{window.addEventListener("click",N),window.addEventListener("popstate",C),window.addEventListener("beforeunload",k)},P=()=>{window.removeEventListener("click",N),window.removeEventListener("popstate",C),window.removeEventListener("beforeunload",k)},N=Z=>{if(!r().taskActive)return;const Te=Date.now(),le=ie.currentRoute.value.path;if(r().taskStarted){r().previousRoute=le,r().taskStarted=!1;return}const he={currentTime:Te,currentElementId:Z.target.id,clientX:Z.clientX,clientY:Z.clientY,isInteractable:Z.target.closest(".interact-node")!=null,isDarkPattern:Z.target.closest(".dark-pattern")!=null,currentRoute:r().previousRoute,nextRoute:le};s().pathFinding[l()].path.push(he),r().previousRoute=le,s().pathFinding[l()].finished&&(r().taskActive=!1,s().pathFinding[l()].endTime=Te,ie.push("/questionnaire/"+l()))},L=()=>{r().currentTaskIndex++,c()?(r().studyFinished=!0,ie.push("/end")):ie.push("/start/"+l())},C=Z=>{if(r().lockBrowserBack){r().lockBrowserBack=!1;return}const Te=Z.state.forward;if(ie.getRoutes().filter(he=>he.meta.taskComponent).some(he=>he.path===Te)){const he={currentTime:Date.now(),currentElementId:"browser-back",clientX:-1,clientY:-1,isInteractable:!0,isDarkPattern:!1,currentRoute:Te,nextRoute:Te};s().pathFinding[l()].path.push(he)}r().lockBrowserBack=!0,window.alert("Please use the buttons in the study to navigate."),ie.go(1)},k=Z=>{if(!ie.currentRoute.value.meta.taskComponent)return;const Te={currentTime:Date.now(),currentElementId:"browser-reload",clientX:-1,clientY:-1,isInteractable:!0,isDarkPattern:!1,currentRoute:r().previousRoute,nextRoute:r().previousRoute};s().pathFinding[l()].path.push(Te)},D=()=>{r().taskActive=!1,ie.push("/start/"+l()),l()=="task2"&&(S.personalDataAsked=!1,we().setPersonalDataChecked(!1),we().setUserData({...xd})),s().pathFinding[l()]=zt(Lr),s().pathFinding[l()].resetted=!0},G=()=>{r().taskActive=!1,s().pathFinding[l()].aborted=!0,L()},de=()=>{const Z=Date.now();for(;r().currentTaskIndex<s().order.length;)s().pathFinding[l()].aborted=!0,s().pathFinding[l()].endTime=Z,r().currentTaskIndex++;r().taskActive=!1,ie.push("/end")},H=Z=>s().user.premiumStatus=Z,K=Z=>s().user.checks=Z,ne=Z=>{Object.keys(Z).forEach(function(Te,le){s().user.dataEntered[Te]=Z[Te].trim()!==""})},Ce=Z=>s().questionnaires[l()].deceptiveStrategies=Z,q=Z=>s().questionnaires[l()].dpCharacteristics=Z,ge=Z=>s().questionnaires[l()].nasaTlx=Z;return nt(n,Z=>{Uw(t,Z),sessionStorage.setItem("studyData",JSON.stringify(Z))},{deep:!0}),nt(o,Z=>{sessionStorage.setItem("studyState",JSON.stringify(Z))},{deep:!0}),{currentTask:l,setProlificId:u,isAdhd:a,setCoords:d,setupStudyGroup:f,addPathNodeListeners:w,removePathNodeListeners:P,startCurrentTask:p,finishCurrentTask:v,goToNextTask:L,handleResetTask:D,handleSkipTask:G,handleAbortStudy:de,updatePremiumStatus:H,updateChecks:K,updateDataEntered:ne,updateDpCharacteristics:q,updateNasaTlx:ge,updateDeceptiveStrategies:Ce,studyOver:c}}),He=Gw,Kw={key:0,width:"40",height:"34",viewBox:"0 0 40 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Yw=["fill","stroke","stroke-width"],Qw={key:1,width:"35",height:"35",viewBox:"0 -2 35 35",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Zw=["fill","stroke","stroke-width"],Jw=["fill","stroke","stroke-width"],Xw={key:2,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e7=["stroke"],t7=["stroke"],n7={key:3,width:"36",height:"38",viewBox:"0 0 36 38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s7=["fill"],i7=["stroke","stroke-width"],o7={key:4,width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r7=["fill"],l7=["stroke","stroke-width"],a7=["fill","stroke","stroke-width"],c7={key:5,xmlns:"http://www.w3.org/2000/svg",width:"36",height:"26",viewBox:"0 0 36 26",fill:"none"},u7=["stroke"],d7=["stroke"],h7=["stroke"],br=re({__name:"NavigationSvg",props:{name:{type:String,required:!0},active:{type:Boolean,default:!1}},setup(t){return(e,n)=>t.name==="home"?(E(),x("svg",Kw,[h("path",{d:"M17 23.3866V31C17 31.5523 16.5523 32 16 32H13C10.2386 32 8 29.7614 8 27V18.7C8 18.1477 7.55228 17.7 7 17.7H3.91524C2.0019 17.7 1.18079 15.2715 2.70155 14.1104L17.4196 2.87306C19.2457 1.4789 21.7868 1.50849 23.5798 2.94479L37.5546 14.1391C39.0296 15.3206 38.1941 17.7 36.3042 17.7H33.0098C32.4537 17.7 32.0044 18.1537 32.0098 18.7097L32.0899 26.9514C32.1169 29.7317 29.8705 32 27.0901 32H25C24.4477 32 24 31.5523 24 31V23.3866C24 23.1378 23.9123 22.8914 23.7176 22.7364C22.667 21.9 20.9841 21.9 20.5278 21.9C20.0713 21.9 18.3415 21.9 17.2828 22.737C17.0877 22.8913 17 23.1378 17 23.3866Z",fill:t.active?g(Pe):g($e),stroke:t.active?g($e):g(Pe),"stroke-width":t.active?1:2.5},null,8,Yw)])):t.name==="friends"?(E(),x("svg",Qw,[h("path",{d:"M23.4269 23.4185C21.0459 23.7321 18.3595 23.2021 15.705 20.7844C17.0489 18.8976 19.7069 17.7996 22.5971 17.791C25.5231 17.7823 28.164 18.8897 29.4358 20.7672C27.8987 21.9716 25.7642 23.1106 23.4269 23.4185ZM27.1292 8C27.1292 10.4853 25.1145 12.5 22.6292 12.5C20.1439 12.5 18.1292 10.4853 18.1292 8C18.1292 5.51472 20.1439 3.5 22.6292 3.5C25.1145 3.5 27.1292 5.51472 27.1292 8Z",fill:t.active?g(Pe):g($e),stroke:t.active?g($e):g(Pe),"stroke-width":t.active?1:2.5},null,8,Zw),h("path",{d:"M13.2562 29.3651C9.79578 29.8711 5.85912 29.0542 2.02027 25.2206C3.88402 22.1213 7.80528 20.4095 11.9667 20.4C16.1484 20.3906 20.0445 22.0996 21.842 25.178C21.8498 25.1914 21.8578 25.2048 21.866 25.2181C19.7742 27.0349 16.6887 28.8632 13.2562 29.3651ZM17.5 8.5C17.5 12.6516 14.7783 15.5 12 15.5C9.22174 15.5 6.50001 12.6516 6.50001 8.5C6.50001 4.34841 9.22174 1.5 12 1.5C14.7783 1.5 17.5 4.34841 17.5 8.5Z",fill:t.active?g(Pe):g($e),stroke:t.active?g($e):g(Pe),"stroke-width":t.active?1:2.5},null,8,Jw)])):t.name=="plus"?(E(),x("svg",Xw,[h("path",{d:"M12.4 2V22",stroke:g(Pe),"stroke-width":"3","stroke-linecap":"round"},null,8,e7),h("path",{d:"M2 12.4H22",stroke:g(Pe),"stroke-width":"3","stroke-linecap":"round"},null,8,t7)])):t.name==="inbox"?(E(),x("svg",n7,[h("path",{d:"M31.032 24.0498C33.2185 31.8286 27.2442 33.2529 23.7306 32.9356C22.1752 34.1297 18.9204 37.3868 14.6541 35.3396C10.3878 33.2923 11.7853 29.2269 13.0074 27.9474C13.0074 27.9474 10.9594 27.0526 4.81521 23.9211C-1.32896 20.7895 3.73227 13.9986 9.06517 12.975C10.8655 12.6294 14.662 4.16656 23.7306 5.63716C24.175 3.3062 26.1304 0.691494 30.3967 2.73873C34.6631 4.78597 32.1744 6.76856 30.3967 8.27164C35.7472 11.9484 34.2277 17.2575 31.6731 20.6989C30.9623 21.6565 30.7093 22.9018 31.032 24.0498Z",fill:t.active?g(Pe):g($e)},null,8,s7),h("path",{d:"M23.7306 32.9356C27.2442 33.2529 33.2185 31.8286 31.032 24.0498C30.7093 22.9018 30.9623 21.6565 31.6731 20.6989C34.2277 17.2575 35.7472 11.9484 30.3967 8.27164M23.7306 32.9356L13.0074 27.9474M23.7306 32.9356C22.1752 34.1297 18.9204 37.3868 14.6541 35.3396C10.3878 33.2923 11.7853 29.2269 13.0074 27.9474M23.7306 5.63716C24.9636 5.83711 26.2941 6.22069 27.7303 6.83328C28.7644 7.27436 29.6478 7.75701 30.3967 8.27164M23.7306 5.63716C14.662 4.16656 10.8655 12.6294 9.06517 12.975C3.73227 13.9986 -1.32896 20.7895 4.81521 23.9211C10.9594 27.0526 13.0074 27.9474 13.0074 27.9474M23.7306 5.63716C24.175 3.3062 26.1304 0.691494 30.3967 2.73873C34.6631 4.78597 32.1744 6.76856 30.3967 8.27164",stroke:t.active?g($e):g(Pe),"stroke-width":t.active?1:2.5},null,8,i7)])):t.name==="profile"?(E(),x("svg",o7,[h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.06967 33.9209C10.5396 37.6601 15.4965 40 21 40C26.4646 40 31.3903 37.6931 34.8565 34C27.5243 26.0265 14.0892 26.0001 7.06967 33.9209Z",fill:t.active?g(Pe):g($e)},null,8,r7),h("path",{d:"M7 34C7.02315 33.9735 7.04638 33.9472 7.06967 33.9209M34.8565 34C38.0463 30.6014 40 26.0288 40 21C40 10.5066 31.4934 2 21 2C10.5066 2 2 10.5066 2 21C2 25.9899 3.92358 30.5306 7.06967 33.9209M34.8565 34C31.3903 37.6931 26.4646 40 21 40C15.4965 40 10.5396 37.6601 7.06967 33.9209M34.8565 34C27.5243 26.0265 14.0892 26.0001 7.06967 33.9209",stroke:t.active?g($e):g(Pe),"stroke-width":t.active?1:2.5},null,8,l7),h("path",{d:"M26.5 17C26.5 20.6825 23.724 23.5 20.5 23.5C17.276 23.5 14.5 20.6825 14.5 17C14.5 13.3175 17.276 10.5 20.5 10.5C23.724 10.5 26.5 13.3175 26.5 17Z",fill:t.active?g(Pe):g($e),stroke:t.active?g($e):g(Pe),"stroke-width":t.active?1:2.5},null,8,a7)])):t.name==="menu"?(E(),x("svg",c7,[h("path",{d:"M2 2H34",stroke:g(Pe),"stroke-width":"2","stroke-linecap":"round"},null,8,u7),h("path",{d:"M2 12.5217H34",stroke:g(Pe),"stroke-width":"2","stroke-linecap":"round"},null,8,d7),h("path",{d:"M2 24H34",stroke:g(Pe),"stroke-width":"2","stroke-linecap":"round"},null,8,h7)])):Ee("",!0)}}),f7={class:"footer-wrapper"},p7={class:"footer-nav"},_7=["id","onClick"],m7=["id"],g7={class:"footer-nav-label"},v7={class:"plus-border",id:"nav-icon-plus"},y7=["id","onClick"],C7=["id"],b7={class:"footer-nav-label"},w7=re({__name:"NavigationBar",setup(t){const e=je(()=>_s().name),n=j(!1),s=[{name:"home",route:"/home"},{name:"friends",route:"/friends"}],i=[{name:"inbox",route:"/inbox"},{name:"profile",route:"/profile"}];return(o,r)=>(E(),x("div",f7,[h("nav",p7,[(E(),x(Re,null,Ot(s,l=>h("div",{id:"nav-col-"+l.name,class:"footer-nav-col",key:l.name,onClick:a=>g(ie).push(l.route)},[h("div",{class:"footer-nav-icon-box interact-node",id:"nav-box-"+l.name},[b(br,{class:"footer-nav-icon",name:l.name,id:"nav-icon-"+l.name,active:e.value===l.name},null,8,["name","id","active"]),h("label",g7,pe(l.name),1)],8,m7)],8,_7)),64)),h("div",{id:"nav-col-plus",class:"footer-nav-col",onClick:r[1]||(r[1]=l=>n.value=!0)},[h("div",{class:"footer-nav-icon-box interact-node",id:"nav-box-plus",onClick:r[0]||(r[0]=l=>g(S).constructionPopupOpen=!0)},[h("div",v7,[b(br,{class:"footer-plus-icon",name:"plus"})])])]),(E(),x(Re,null,Ot(i,l=>h("div",{id:"nav-col-"+l.name,class:"footer-nav-col",key:l.name,onClick:a=>g(ie).push(l.route)},[h("div",{class:"footer-nav-icon-box interact-node",id:"nav-box-"+l.name},[b(br,{class:"footer-nav-icon",name:l.name,id:"nav-icon-"+l.name,active:e.value===l.name},null,8,["name","id","active"]),h("label",b7,pe(l.name),1)],8,C7)],8,y7)),64))])]))}});const k7=ye(w7,[["__scopeId","data-v-a0e87f08"]]),E7=re({__name:"ConstructionPopup",setup(t){return(e,n)=>(E(),bt(_t,{popupId:"construction",open:g(S).constructionPopupOpen,onClose:n[1]||(n[1]=s=>g(S).constructionPopupOpen=!1)},{content:A(()=>[b(Ol)]),buttons:A(()=>[b(Q,{size:"small",onClick:n[0]||(n[0]=s=>g(S).constructionPopupOpen=!1)},{default:A(()=>[$("Ok")]),_:1})]),_:1},8,["open"]))}}),ma=t=>(st("data-v-ec7008ab"),t=t(),it(),t),S7={key:0,id:"header-button-row",class:"header-button-row"},x7={id:"router-view",class:"router-view"},I7={key:1,class:"navbar"},T7=ma(()=>h("p",null," Something went wrong? Please try to reload the page before proceeding with any of the following actions. ",-1)),P7=ma(()=>h("p",null," Are you sure you want to interrupt the study? ",-1)),N7={key:1,class:"invalid-page-wrapper"},R7=ma(()=>h("p",null," This study is only eligible in portrait orientation, but it seems that you are trying to do it in landscape mode. Please turn your device and reload the page. ",-1)),A7=[R7],$7=re({__name:"App",setup(t){const e=j(!1),n=j(!1),s=j(""),i=j(!1);j(!1);const o=j(window.innerWidth>window.innerHeight),r=()=>!0,l=j(window.innerHeight*.01);document.documentElement.style.setProperty("--vh",`${l.value}px`);const a=f=>{e.value=!1,n.value=!0,s.value=f},c=()=>{n.value=!1,s.value=="reset"?He().handleResetTask():s.value=="skip"?He().handleSkipTask():s.value=="abort"&&He().handleAbortStudy(),s.value=""},u=()=>{n.value=!1,s.value=""},d={task1:"Your first task is to create an account and sign up for the social media app.",task2:"Your second task is to leave a nice comment on a video."};return ot(()=>{if(l.value=window.innerHeight*.01,document.documentElement.style.setProperty("--vh",`${l.value}px`),!sessionStorage.getItem("first-time-reloaded")){sessionStorage.setItem("first-time-reloaded","true");const f=je(()=>_s().name).value;f!="welcome"&&f!="wrong-page"&&ie.push("/"),location.reload()}He().addPathNodeListeners()}),El(()=>{He().removePathNodeListeners()}),(f,p)=>{const v=Jp("RouterView");return E(),x(Re,null,[h("div",{class:Ie(["app-wrapper",{"navbar-grid":g(S).navbar,invisible:o.value||!r()}])},[g(S).intteruptButton?(E(),x("header",S7,[h("div",{id:"interrupt-button",class:"icon-box interrupt-button",onClick:p[0]||(p[0]=w=>e.value=!0)},[b(no,{class:"header-icon",name:"warning"})]),h("div",{class:"icon-box help-button",onClick:p[1]||(p[1]=w=>i.value=!0)},[b(no,{class:"header-icon",name:"question"})])])):Ee("",!0),h("main",x7,[b(v)]),g(S).navbar?(E(),x("footer",I7,[b(k7)])):Ee("",!0)],2),b(_t,{popupId:"interrupt",open:e.value,onClose:p[5]||(p[5]=w=>e.value=!1),vertical:!0},{content:A(()=>[T7]),buttons:A(()=>[b(Q,{size:"small",onClick:p[2]||(p[2]=w=>a("reset"))},{default:A(()=>[$("Reset Task")]),_:1}),b(Q,{size:"small",onClick:p[3]||(p[3]=w=>a("skip"))},{default:A(()=>[$("Skip Task")]),_:1}),b(Q,{size:"small",onClick:p[4]||(p[4]=w=>a("abort"))},{default:A(()=>[$("Abort Study")]),_:1})]),_:1},8,["open"]),b(_t,{popupId:"interrupt-are-you-sure",open:n.value,onClose:p[6]||(p[6]=w=>n.value=!1)},{content:A(()=>[P7]),buttons:A(()=>[b(Q,{size:"small",onClick:c},{default:A(()=>[$("Confirm")]),_:1}),b(Q,{size:"small",onClick:u},{default:A(()=>[$("Cancel")]),_:1})]),_:1},8,["open"]),b(_t,{popupId:"help",open:i.value,onClose:p[8]||(p[8]=w=>i.value=!1)},{content:A(()=>[h("p",null,[h("em",null,pe(d[g(He)().currentTask()]),1)])]),buttons:A(()=>[b(Q,{size:"small",onClick:p[7]||(p[7]=w=>i.value=!1)},{default:A(()=>[$("Close")]),_:1})]),_:1},8,["open"]),Ee("",!0),o.value&&r()?(E(),x("div",N7,A7)):Ee("",!0),b(E7)],64)}}});const D7=ye($7,[["__scopeId","data-v-ec7008ab"]]),ga=r1(D7);ga.use(c1());ga.use(ie);ga.mount("#app");
